{"version":3,"sources":["webpack://ReactDevToolsBackend/webpack/universalModuleDefinition","webpack://ReactDevToolsBackend/webpack/bootstrap","webpack://ReactDevToolsBackend/../react-devtools-shared/src/constants.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/types.js","webpack://ReactDevToolsBackend/../shared/ReactSymbols.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/ReactSymbols.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/storage.js","webpack://ReactDevToolsBackend//Users/luna/code/react/build/node_modules/react-is/index.js","webpack://ReactDevToolsBackend//Users/luna/code/react/node_modules/object-assign/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/console.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/config/DevToolsFeatureFlags.core-oss.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/hydration.js","webpack://ReactDevToolsBackend/../shared/isArray.js","webpack://ReactDevToolsBackend/../react-devtools-shared/node_modules/semver/semver.js","webpack://ReactDevToolsBackend/(webpack)/buildin/global.js","webpack://ReactDevToolsBackend//Users/luna/code/react/node_modules/lodash.throttle/index.js","webpack://ReactDevToolsBackend/../shared/objectIs.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/renderer.js","webpack://ReactDevToolsBackend//Users/luna/code/react/node_modules/process/browser.js","webpack://ReactDevToolsBackend//Users/luna/code/react/node_modules/clipboard-js/clipboard.js","webpack://ReactDevToolsBackend//Users/luna/code/react/node_modules/lru-cache/index.js","webpack://ReactDevToolsBackend//Users/luna/code/react/build/node_modules/react-debug-tools/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/DevToolsConsolePatching.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/DevToolsComponentStackFrame.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/DevToolsFiberComponentStack.js","webpack://ReactDevToolsBackend//Users/luna/code/react/node_modules/timers-browserify/main.js","webpack://ReactDevToolsBackend//Users/luna/code/react/node_modules/setimmediate/setImmediate.js","webpack://ReactDevToolsBackend//Users/luna/code/react/node_modules/lru-cache/node_modules/yallist/yallist.js","webpack://ReactDevToolsBackend//Users/luna/code/react/node_modules/lru-cache/node_modules/yallist/iterator.js","webpack://ReactDevToolsBackend//Users/luna/code/react/build/node_modules/react-is/cjs/react-is.production.min.js","webpack://ReactDevToolsBackend//Users/luna/code/react/build/node_modules/react-debug-tools/cjs/react-debug-tools.production.min.js","webpack://ReactDevToolsBackend//Users/luna/code/react/node_modules/error-stack-parser/error-stack-parser.js","webpack://ReactDevToolsBackend//Users/luna/code/react/node_modules/stackframe/stackframe.js","webpack://ReactDevToolsBackend//Users/luna/code/react/build/node_modules/react/index.js","webpack://ReactDevToolsBackend//Users/luna/code/react/build/node_modules/react/cjs/react.production.min.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/events.js","webpack://ReactDevToolsBackend//Users/luna/code/react/node_modules/memoize-one/esm/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/Highlighter/Overlay.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/Highlighter/Highlighter.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/Highlighter/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/TraceUpdates/canvas.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/TraceUpdates/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/bridge.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/agent.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/hook.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/legacy/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/legacy/renderer.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/NativeStyleEditor/resolveBoxStyle.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor.js","webpack://ReactDevToolsBackend/./src/backend.js"],"names":["__DEBUG__","__PERFORMANCE_PROFILE__","TREE_OPERATION_ADD","TREE_OPERATION_REMOVE","TREE_OPERATION_REORDER_CHILDREN","TREE_OPERATION_UPDATE_TREE_BASE_DURATION","TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS","TREE_OPERATION_REMOVE_ROOT","LOCAL_STORAGE_FILTER_PREFERENCES_KEY","SESSION_STORAGE_LAST_SELECTION_KEY","LOCAL_STORAGE_PARSE_HOOK_NAMES_KEY","SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY","SESSION_STORAGE_RELOAD_AND_PROFILE_KEY","LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS","LOCAL_STORAGE_SHOULD_PATCH_CONSOLE_KEY","LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY","LOCAL_STORAGE_TRACE_UPDATES_ENABLED_KEY","LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE","PROFILER_EXPORT_VERSION","CHANGE_LOG_URL","UNSUPPORTED_VERSION_URL","REACT_DEVTOOLS_WORKPLACE_URL","THEME_STYLES","light","dark","compact","comfortable","COMFORTABLE_LINE_HEIGHT","parseInt","COMPACT_LINE_HEIGHT","ElementTypeClass","ElementTypeContext","ElementTypeFunction","ElementTypeForwardRef","ElementTypeHostComponent","ElementTypeMemo","ElementTypeOtherOrUnknown","ElementTypeProfiler","ElementTypeRoot","ElementTypeSuspense","ElementTypeSuspenseList","ComponentFilterElementType","ComponentFilterDisplayName","ComponentFilterLocation","ComponentFilterHOC","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_SCOPE_TYPE","REACT_OPAQUE_ID_TYPE","REACT_DEBUG_TRACING_MODE_TYPE","REACT_OFFSCREEN_TYPE","REACT_LEGACY_HIDDEN_TYPE","REACT_CACHE_TYPE","Symbol","for","symbolFor","MAYBE_ITERATOR_SYMBOL","iterator","FAUX_ITERATOR_SYMBOL","getIteratorFn","maybeIterable","maybeIterator","cachedDisplayNames","WeakMap","encodedStringCache","LRU","max","alphaSortKeys","a","b","toString","getAllEnumerableKeys","obj","keys","Set","current","currentKeys","Object","getOwnPropertySymbols","descriptors","getOwnPropertyDescriptors","forEach","key","enumerable","add","getPrototypeOf","getDisplayName","type","fallbackName","nameFromCache","get","displayName","name","set","uidCounter","getUID","utfDecodeString","array","String","fromCodePoint","utfEncodeString","string","cached","undefined","encoded","Array","length","i","codePointAt","printOperationsArray","operations","rendererID","rootID","logs","stringTable","stringTableSize","stringTableEnd","nextLength","nextString","slice","push","operation","id","parentID","displayNameStringID","removeLength","removeIndex","numChildren","children","join","numErrors","numWarnings","Error","console","log","getDefaultComponentFilters","value","isEnabled","getSavedComponentFilters","raw","localStorageGetItem","JSON","parse","error","saveComponentFilters","componentFilters","localStorageSetItem","stringify","getAppendComponentStack","setAppendComponentStack","getBreakOnConsoleErrors","setBreakOnConsoleErrors","getHideConsoleLogsInStrictMode","sethideConsoleLogsInStrictMode","getShowInlineWarningsAndErrors","setShowInlineWarningsAndErrors","separateDisplayNameAndHOCs","hocDisplayNames","indexOf","matches","match","pop","unshift","shallowDiffers","prev","next","attribute","getInObject","object","path","reduce","reduced","attr","hasOwnProperty","call","from","deletePathInObject","last","parent","isArray","splice","renamePathInObject","oldPath","newPath","lastOld","lastNew","setInObject","getDataType","data","isElement","HTMLElement","Number","isNaN","isFinite","ArrayBuffer","isView","constructor","toStringValue","prototype","getDisplayNameForReactElement","element","elementType","typeOf","ContextConsumer","ContextProvider","ForwardRef","Fragment","Lazy","Memo","Portal","Profiler","StrictMode","Suspense","SuspenseList","MAX_PREVIEW_STRING_LENGTH","truncateForDisplay","substr","formatDataForPreview","showFormattedValue","meta","preview_long","preview_short","tagName","toLowerCase","byteLength","buffer","formatted","size","shortName","entryOrEntries","toStringTag","sort","CONCURRENT_MODE_NUMBER","CONCURRENT_MODE_SYMBOL_STRING","CONTEXT_NUMBER","CONTEXT_SYMBOL_STRING","DEPRECATED_ASYNC_MODE_SYMBOL_STRING","ELEMENT_NUMBER","ELEMENT_SYMBOL_STRING","DEBUG_TRACING_MODE_NUMBER","DEBUG_TRACING_MODE_SYMBOL_STRING","FORWARD_REF_NUMBER","FORWARD_REF_SYMBOL_STRING","FRAGMENT_NUMBER","FRAGMENT_SYMBOL_STRING","LAZY_NUMBER","LAZY_SYMBOL_STRING","MEMO_NUMBER","MEMO_SYMBOL_STRING","OPAQUE_ID_NUMBER","OPAQUE_ID_SYMBOL_STRING","PORTAL_NUMBER","PORTAL_SYMBOL_STRING","PROFILER_NUMBER","PROFILER_SYMBOL_STRING","PROVIDER_NUMBER","PROVIDER_SYMBOL_STRING","SCOPE_NUMBER","SCOPE_SYMBOL_STRING","STRICT_MODE_NUMBER","STRICT_MODE_SYMBOL_STRING","SUSPENSE_NUMBER","SUSPENSE_SYMBOL_STRING","SUSPENSE_LIST_NUMBER","SUSPENSE_LIST_SYMBOL_STRING","cleanForBridge","isPathAllowed","cleanedPaths","unserializablePaths","cleanedData","dehydrate","cleaned","unserializable","copyToClipboard","safeToCopy","serializeToString","text","clipboardCopyText","window","__REACT_DEVTOOLS_GLOBAL_HOOK__","catch","err","copy","copyWithDelete","index","updated","copyWithRename","oldKey","newKey","copyWithSet","getEffectDurations","root","effectDuration","passiveEffectDuration","hostRoot","stateNode","cache","has","format","maybeMessage","inputArgs","args","REGEXP","replace","escaped","ptn","flag","arg","shift","parseFloat","isSynchronousXHRSupported","document","featurePolicy","allowsFeature","localStorage","getItem","localStorageRemoveItem","removeItem","setItem","sessionStorageGetItem","sessionStorage","sessionStorageRemoveItem","sessionStorageSetItem","process","module","exports","require","propIsEnumerable","propertyIsEnumerable","toObject","val","TypeError","shouldUseNative","assign","test1","getOwnPropertyNames","test2","fromCharCode","order2","map","n","test3","split","letter","target","source","to","symbols","s","arguments","OVERRIDE_CONSOLE_METHODS","DIMMED_NODE_CONSOLE_COLOR","PREFIX_REGEX","ROW_COLUMN_NUMBER_REGEX","isStringComponentStack","test","injectedRenderers","Map","targetConsole","targetConsoleMethods","method","unpatchFn","isNode","global","dangerous_setTargetConsoleForTesting","targetConsoleForTesting","registerRenderer","renderer","onErrorOrWarning","currentDispatcherRef","getCurrentFiber","getIsStrictMode","findFiberByHostInstance","version","getInternalReactConstants","ReactTypeOfWork","workTagMap","consoleSettingsRef","appendComponentStack","breakOnConsoleErrors","showInlineWarningsAndErrors","hideConsoleLogsInStrictMode","patch","browserTheme","originalConsoleMethods","originalMethod","__REACT_DEVTOOLS_ORIGINAL_METHOD__","overrideMethod","shouldAppendWarningStack","lastArg","alreadyHasComponentStack","shouldShowInlineWarningsAndErrors","isInStrictMode","values","componentStack","getStackByFiberInDevAndProd","setTimeout","consoleManagedByDevToolsDuringStrictMode","color","__REACT_DEVTOOLS_OVERRIDE_METHOD__","unpatch","enableProfilerChangedHookIndices","isInternalFacebookBuild","inspectable","inspected","readonly","LEVEL_THRESHOLD","createDehydrated","dehydrated","level","isPathAllowedCheck","item","concat","unserializableValue","fillInPath","unserializablePath","isMatch","upgradeUnserializable","hydrate","Infinity","NaN","replaced","node","replacement","destination","defineProperties","configurable","isArrayImpl","SemVer","debug","env","NODE_DEBUG","apply","SEMVER_SPEC_VERSION","MAX_LENGTH","MAX_SAFE_INTEGER","MAX_SAFE_COMPONENT_LENGTH","re","src","t","tokens","R","tok","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","MAINVERSION","MAINVERSIONLOOSE","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","PRERELEASE","PRERELEASELOOSE","BUILDIDENTIFIER","BUILD","FULLPLAIN","FULL","LOOSEPLAIN","LOOSE","GTLT","XRANGEIDENTIFIERLOOSE","XRANGEIDENTIFIER","XRANGEPLAIN","XRANGEPLAINLOOSE","XRANGE","XRANGELOOSE","COERCE","COERCERTL","RegExp","LONETILDE","TILDETRIM","tildeTrimReplace","TILDE","TILDELOOSE","LONECARET","CARETTRIM","caretTrimReplace","CARET","CARETLOOSE","COMPARATORLOOSE","COMPARATOR","COMPARATORTRIM","comparatorTrimReplace","HYPHENRANGE","HYPHENRANGELOOSE","STAR","options","loose","includePrerelease","r","er","valid","v","clean","trim","m","major","minor","prerelease","num","build","compare","other","compareMain","comparePre","compareIdentifiers","compareBuild","inc","release","identifier","diff","version1","version2","eq","v1","v2","prefix","defaultResult","numeric","anum","bnum","rcompareIdentifiers","compareLoose","versionA","versionB","rcompare","list","rsort","gt","lt","neq","gte","lte","cmp","op","Comparator","comp","semver","ANY","operator","intersects","rangeTmp","Range","satisfies","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","range","parseRange","filter","c","comps","hr","hyphenReplace","compRe","parseComparator","some","thisComparators","isSatisfiable","rangeComparators","every","thisComparator","rangeComparator","comparators","result","remainingComparators","testComparator","otherComparator","toComparators","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","replaceTilde","_","M","p","pr","ret","replaceCaret","replaceXRange","gtlt","xM","xm","xp","anyX","$0","fM","fm","fp","fpr","fb","tM","tm","tp","tpr","tb","testSet","allowed","maxSatisfying","versions","maxSV","rangeObj","minSatisfying","min","minSV","minVersion","minver","comparator","compver","validRange","ltr","outside","gtr","hilo","gtfn","ltefn","ltfn","ecomp","high","low","parsed","r1","r2","coerce","rtl","exec","lastIndex","g","Function","e","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","freeSelf","self","objectProto","objectToString","nativeMax","Math","nativeMin","now","Date","debounce","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","toNumber","isObject","invokeFunc","time","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","throttle","isObjectLike","isSymbol","valueOf","isBinary","is","x","y","objectIs","getFiberFlags","fiber","flags","effectTag","getCurrentTime","performance","ReactTypeOfSideEffect","DidCapture","NoFlags","PerformedWork","Placement","Incomplete","ReactPriorityLevels","ImmediatePriority","UserBlockingPriority","NormalPriority","LowPriority","IdlePriority","NoPriority","CacheComponent","ClassComponent","CoroutineComponent","CoroutineHandlerPhase","DehydratedSuspenseComponent","FunctionComponent","HostComponent","HostPortal","HostRoot","HostText","IncompleteClassComponent","IndeterminateComponent","LazyComponent","LegacyHiddenComponent","MemoComponent","Mode","OffscreenComponent","ScopeComponent","SimpleMemoComponent","SuspenseComponent","SuspenseListComponent","YieldComponent","getTypeSymbol","symbolOrNumber","$$typeof","resolveFiberType","typeSymbol","render","getDisplayNameForFiber","tag","resolvedType","resolvedContext","_context","context","memoizedProps","attach","hook","reconcilerVersion","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","scheduleRefresh","setErrorHandler","setSuspenseHandler","scheduleUpdate","supportsTogglingError","supportsTogglingSuspense","emit","fibersWithChangedErrorOrWarningCounts","pendingFiberToErrorsMap","pendingFiberToWarningsMap","fiberIDToErrorsMap","fiberIDToWarningsMap","clearErrorsAndWarnings","idToArbitraryFiberMap","updateMostRecentlyInspectedElementIfNecessary","clear","flushPendingEvents","clearMessageCountHelper","fiberID","pendingFiberToMessageCountMap","fiberIDToMessageCountMap","delete","clearErrorsForFiberID","clearWarningsForFiberID","mostRecentlyInspectedElement","hasElementUpdatedSinceLastInspected","maybeID","getFiberIDUnsafe","forceErrorForFiberIDs","message","fiberMap","messageMap","count","flushPendingErrorsAndWarningsAfterDelay","registerRendererWithConsole","__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__","__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__","__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__","__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__","__REACT_DEVTOOLS_BROWSER_THEME__","patchConsole","parentFiber","extraString","parentDisplayName","maybeParentID","groupCollapsed","stack","groupEnd","hideElementsWithDisplayNames","hideElementsWithPaths","hideElementsWithTypes","traceUpdatesEnabled","traceUpdatesForNodes","applyComponentFilters","componentFilter","isValid","warn","__REACT_DEVTOOLS_COMPONENT_FILTERS__","updateComponentFilters","isProfiling","getFiberRoots","currentRootID","getOrGenerateFiberID","pushOperation","rootDisplayNameCounter","setRootPseudoKey","mountFiberRecursively","reevaluateErrorsAndWarnings","shouldFilterFiber","_debugSource","getElementTypeForFiber","displayNameRegExp","fileName","pathRegExp","fiberToIDMap","idToTreeBaseDurationMap","idToRootMap","alternate","didGenerateID","refinedID","return","getFiberIDThrows","untrackFiberID","untrackFibersSet","untrackFibersTimeoutID","untrackFibers","shouldErrorFiberAlwaysNull","getChangeDescription","prevFiber","nextFiber","didHooksChange","isFirstMount","props","state","getContextChangedKeys","getChangedKeys","memoizedState","indices","getChangedHooksIndices","hooks","updateContextsForFiber","idToContextsMap","contexts","getContextsForFiber","NO_CONTEXT","legacyContext","modernContext","instance","contextType","dependencies","firstContext","crawlToInitializeContextsMap","child","sibling","prevContexts","nextContexts","prevLegacyContext","prevModernContext","nextLegacyContext","nextModernContext","prevContext","nextContext","memoizedValue","areHookInputsEqual","nextDeps","prevDeps","isEffect","deps","bind","didHookChange","prevMemoizedState","nextMemoizedState","changedKeys","didFiberRender","ref","pendingOperations","pendingRealUnmountedIDs","pendingSimulatedUnmountedIDs","pendingOperationsQueue","pendingStringTable","pendingStringTableLength","pendingUnmountedRootID","__DEV__","flushOrQueueOperations","flushPendingErrorsAndWarningsAfterDelayTimeoutID","clearPendingErrorsAndWarningsAfterDelay","recordPendingErrorsAndWarnings","j","countMap","mergeMapsAndGetCountHelper","newCount","messageCountMap","pendingMessageCountMap","refinedMessageCountMap","pendingCount","previousCount","errorCount","warningCount","numUnmountIDs","encodedKey","getStringID","str","existingID","stringID","recordMount","isRoot","hasOwnerMetadata","isProfilingSupported","displayNamesByRootID","getDisplayNameForRoot","_debugOwner","ownerID","keyString","keyStringID","recordProfilingDurations","recordUnmount","isSimulated","trackedPathMatchFiber","setTrackedPath","unsafeID","_debugNeedsRemount","firstChild","traverseSiblings","traceNearestHostComponentUpdate","mightSiblingsBeOnTrackedPath","updateTrackedPathStateBeforeMount","shouldIncludeInTree","isSuspense","isTimedOut","primaryChildFragment","fallbackChildFragment","fallbackChild","primaryChild","areSuspenseChildrenConditionallyWrapped","updateTrackedPathStateAfterMount","unmountFiberChildrenRecursively","isTimedOutSuspense","actualDuration","treeBaseDuration","convertedTreeBaseDuration","floor","selfDuration","metadata","currentCommitProfilingMetadata","durations","maxActualDuration","recordChangeDescriptions","changeDescription","changeDescriptions","recordResetChildren","childSet","nextChildren","findReorderedChildrenRecursively","updateFiberRecursively","shouldResetChildren","prevDidTimeout","nextDidTimeOut","nextFiberChild","nextFallbackChildSet","prevFiberChild","prevFallbackChildSet","nextPrimaryChildSet","nextChild","prevChildAtSameIndex","prevChild","hostFibers","findAllCurrentHostFibers","hostFiber","nextChildSet","cleanup","rootSupportsProfiling","memoizedInteractions","flushInitialOperations","localPendingOperationsQueue","trackedPath","mightBeOnTrackedPath","commitTime","profilingStartTime","priorityLevel","updaters","getUpdatersList","memoizedUpdaters","fiberToSerializedElement","handleCommitFiberUnmount","handlePostCommitFiberRoot","handleCommitFiberRoot","formatPriorityLevel","wasMounted","isMounted","removeRootPseudoKey","commitProfilingMetadata","rootToCommitProfilingMetadataMap","fibers","findCurrentFiberUsingSlowPathById","findNativeNodesForFiberID","maybeFallbackFiber","Boolean","getDisplayNameForFiberID","getFiberIDForNative","hostInstance","findNearestUnfilteredAncestor","MOUNTING","MOUNTED","UNMOUNTED","isFiberMountedImpl","prevNode","parentA","parentB","nextParent","didFindChild","prepareViewAttributeSource","isMostRecentlyInspectedElement","$attribute","prepareViewElementSource","$type","getOwnersList","owners","owner","getInstanceAndStyle","style","isErrorBoundary","getDerivedStateFromError","componentDidCatch","getNearestErrorBoundaryID","inspectElementRaw","usesHooks","showState","canViewSource","shouldHideContext","contextTypes","consumerResolvedContext","_currentValue","currentType","currentTypeSymbol","providerResolvedContext","hasLegacyContext","inspectHooksOfFiber","rootType","fiberRoot","_debugRootType","errors","warnings","isErrored","targetErrorBoundaryID","canEditHooks","canEditFunctionProps","canEditHooksAndDeletePaths","canEditHooksAndRenamePaths","canEditFunctionPropsDeletePaths","canEditFunctionPropsRenamePaths","canToggleError","canToggleSuspense","forceFallbackForSuspenseIDs","entries","rendererPackageName","rendererVersion","currentlyInspectedPaths","isMostRecentlyInspectedElementCurrent","mergeInspectedPaths","createIsPathAllowed","secondaryCategory","updateSelectedElement","inspectedElement","$r","storeAsGlobal","copyElementPath","inspectElement","requestID","responseID","cleanedInspectedElement","logElementToConsole","supportsGroup","nativeNodes","chrome","navigator","userAgent","deletePath","hookID","forceUpdate","pendingProps","renamePath","overrideValueAtPath","initialTreeBaseDurationsMap","initialIDToRootMap","getProfilingData","dataForRoots","commitData","initialTreeBaseDurations","commitProfilingData","commitIndex","fiberActualDurations","fiberSelfDurations","duration","timestamp","startProfiling","shouldRecordChangeDescriptions","stopProfiling","shouldErrorFiberAccordingToMap","status","overrideError","forceError","shouldSuspendFiberAlwaysFalse","shouldSuspendFiberAccordingToSet","overrideSuspense","forceFallback","trackedPathMatchDepth","returnFiber","returnAlternate","actualFrame","getPathFrame","expectedFrame","rootPseudoKeys","counter","pseudoKey","substring","lastIndexOf","preferredDisplayName","fallbackDisplayName","getPathForElement","keyPath","reverse","getBestMatchForTrackedPath","isFullMatch","setTraceUpdatesEnabled","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","nextTick","Item","title","browser","argv","noop","on","addListener","once","off","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","definition","addEventListener","clipboard","_intercept","_data","_bogusSelection","getSelection","removeAllRanges","clipboardData","setData","preventDefault","bogusSelect","sel","queryCommandEnabled","isCollapsed","createRange","selectNodeContents","body","addRange","Promise","resolve","reject","Node","XMLSerializer","triggerCopy","tryBogusSelect","execCommand","paste","_resolve","_dataType","getData","dataType","ClipboardEvent","_state","_value","_deferreds","f","d","onFulfilled","onRejected","then","h","immediateFn","setImmediate","k","all","race","strData","copySucceeded","Yallist","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","LRUCache","lc","stale","maxAge","dispose","noDisposeOnSet","updateAgeOnGet","reset","fn","thisp","walker","tail","forEachStep","head","toArray","hit","isStale","del","Entry","arr","l","expiresAt","mL","allowStale","mA","lC","doUse","unshiftNode","removeNode","disabledDepth","prevLog","prevInfo","prevWarn","prevError","prevGroup","prevGroupCollapsed","prevGroupEnd","disabledLog","__reactDisabledLog","disableLogs","info","group","writable","reenableLogs","describeBuiltInComponentFrame","ownerFn","reentry","componentFrameCache","describeNativeComponentFrame","construct","control","previousPrepareStackTrace","prepareStackTrace","previousDispatcher","Fake","defineProperty","Reflect","sample","sampleLines","controlLines","frame","syntheticFrame","describeClassComponentFrame","ctor","describeFunctionComponentFrame","shouldConstruct","Component","isReactComponent","describeUnknownElementTypeFrameInDEV","lazyComponent","payload","_payload","init","_init","describeFiber","workInProgress","scope","Timeout","setInterval","clearInterval","close","clearFn","_id","_clearFn","unref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","onTimeout","_onTimeout","clearImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","registerImmediate","callback","task","handle","runIfPresent","installNextTickImplementation","canUsePostMessage","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","installPostMessageImplementation","messagePrefix","random","onGlobalMessage","event","attachEvent","installMessageChannelImplementation","channel","MessageChannel","port1","port2","installReadyStateChangeImplementation","html","documentElement","script","createElement","onreadystatechange","removeChild","appendChild","installSetTimeoutImplementation","attachTo","create","pushNode","res","forEachReverse","getReverse","mapReverse","initial","acc","reduceReverse","toArrayReverse","sliceReverse","start","deleteCount","insert","inserted","q","u","w","z","A","B","C","D","E","F","G","H","I","J","Element","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspenseList","isValidElementType","getModuleId","encodeURIComponent","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","useContext","useState","useReducer","useRef","useCacheRefresh","useLayoutEffect","useEffect","useImperativeHandle","useDebugValue","useCallback","useMemo","primitive","stackError","getCacheForType","readContext","useTransition","useMutableSource","_source","useDeferredValue","useOpaqueIdentifier","mode","functionName","isStateEditable","subHooks","hookSource","lineNumber","columnNumber","K","L","ReactCurrentDispatcher","inspectHooks","defaultProps","factory","define","ErrorStackParser","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","ErrorStackParser$$parse","stacktrace","parseOpera","parseV8OrIE","parseFFOrSafari","extractLocation","ErrorStackParser$$extractLocation","urlLike","regExp","parts","ErrorStackParser$$parseV8OrIE","filtered","line","sanitizedLine","location","locationParts","ErrorStackParser$$parseFFOrSafari","functionNameRegex","ErrorStackParser$$parseOpera","parseOpera9","parseOpera10","parseOpera11","ErrorStackParser$$parseOpera9","lineRE","lines","ErrorStackParser$$parseOpera10","ErrorStackParser$$parseOpera11","functionCall","argsRaw","_isNumber","_capitalize","charAt","toUpperCase","_getter","booleanProps","numericProps","stringProps","arrayProps","getArgs","setArgs","getEvalOrigin","evalOrigin","setEvalOrigin","getFileName","getLineNumber","getColumnNumber","getFunctionName","getIsEval","fromString","StackFrame$$fromString","argsStartIndex","argsEndIndex","locationString","unstable_DebugTracingMode","unstable_Offscreen","unstable_LegacyHidden","unstable_Cache","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","refs","updater","setState","isPureReactComponent","__self","__source","_owner","escape","N","O","P","done","Q","_status","_result","default","S","T","transition","U","ReactCurrentBatchConfig","ReactCurrentOwner","Children","only","PureComponent","cloneElement","createContext","_currentValue2","_threadCount","Provider","Consumer","createFactory","createRef","forwardRef","isValidElement","lazy","memo","startTransition","unstable_act","unstable_createMutableSource","_getVersion","_workInProgressVersionPrimary","_workInProgressVersionSecondary","unstable_getCacheForType","unstable_useCacheRefresh","unstable_useMutableSource","unstable_useOpaqueIdentifier","EventEmitter","listener","listenersMap","didThrow","caughtError","clonedListeners","simpleIsEqual","resultFn","isEqual","lastResult","calledOnce","isNewArgEqualToLast","newArg","_len","newArgs","_key","getOwnerWindow","ownerDocument","defaultView","getOwnerIframe","nodeWindow","frameElement","getBoundingClientRectWithBorderOffset","dimensions","getElementDimensions","mergeRectOffsets","getBoundingClientRect","top","borderTop","left","borderLeft","bottom","borderBottom","right","borderRight","width","height","rects","previousRect","rect","getNestedBoundingClientRect","boundaryWindow","ownerIframe","currentIframe","onlyOneMore","domElement","calculatedStyle","getComputedStyle","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","marginLeft","marginRight","marginTop","marginBottom","paddingLeft","paddingRight","paddingTop","paddingBottom","OverlayRect","container","border","padding","content","borderColor","overlayStyles","backgroundColor","background","margin","pointerEvents","position","zIndex","parentNode","box","dims","boxWrap","OverlayTip","tip","display","flexFlow","borderRadius","fontFamily","fontWeight","fontSize","whiteSpace","nameSpan","dimSpan","textContent","round","bounds","tipRect","tipPos","findTipPos","Overlay","currentWindow","__REACT_DEVTOOLS_TARGET_WINDOW__","tipBoundsWindow","remove","nodes","elements","nodeType","ELEMENT_NODE","outerBox","POSITIVE_INFINITY","NEGATIVE_INFINITY","update","nodeName","rendererInterfaces","ownerName","rendererInterface","updateText","tipBounds","updatePosition","scrollY","scrollX","innerHeight","innerWidth","tipSize","tipHeight","tipWidth","what","borderStyle","SHOW_DURATION","timeoutID","overlay","hideOverlay","showOverlay","componentName","hideAfterTimeout","inspect","iframesListeningTo","setupHighlighter","bridge","agent","clearNativeElementHighlight","highlightNativeElement","stopInspectingNative","startInspectingNative","registerListenersOnWindow","onClick","onMouseEvent","onPointerDown","onPointerOver","onPointerUp","removeListenersOnWindow","contentWindow","removeEventListener","openNativeElementsPanel","scrollIntoView","block","inline","send","stopPropagation","selectFiberForNode","iframe","memoize","getIDForNode","OUTLINE_COLOR","COLORS","canvas","draw","nodeToData","initialize","canvasFlow","getContext","clearRect","colorIndex","drawBorder","lineWidth","strokeStyle","strokeRect","setLineDash","destroy","cssText","insertBefore","DISPLAY_DURATION","MAX_DISPLAY_DURATION","REMEASUREMENT_AFTER_DURATION","drawAnimationFrameID","redrawTimeoutID","injectedAgent","traceUpdates","toggleEnabled","cancelAnimationFrame","destroyCanvas","lastMeasuredAt","measureNode","expirationTime","requestAnimationFrame","prepareToDraw","earliestExpiration","MAX_VALUE","BATCH_DURATION","BRIDGE_PROTOCOL","minNpmVersion","maxNpmVersion","currentBridgeProtocol","Bridge","wall","_timeoutID","_messageQueue","_wall","_flush","wasForwarded","_wallUnlisten","listen","_isShutdown","wallUnlisten","methodName","Agent","_rendererInterfaces","_bridge","_isProfiling","_persistedSelectionMatch","_persistedSelection","_throttledPersistSelection","_traceUpdatesEnabled","selectNode","_recordChangeDescriptions","prevMatch","nextMatch","prevMatchID","nextMatchID","persistedSelectionString","getBridgeProtocol","getProfilingStatus","reloadAndProfile","syncSelectionFromNativeElementsPanel","shutdown","updateConsolePatchSettings","viewAttributeSource","viewElementSource","overrideContext","overrideState","isBackendStorageAPISupported","setupTraceUpdates","selection","installHook","detectReactBuildType","bundleType","Mount","_renderNewRootComponent","renderRootCode","checkDCE","code","hasDetectedBadDCE","patchConsoleForInitialRenderInExtension","overrideConsoleMethods","__EXTENSION__","inject","renderers","reactBuildType","__REACT_DEVTOOLS_ATTACH__","sub","roots","fiberRoots","onCommitFiberUnmount","onCommitFiberRoot","mountedRoots","isKnownRoot","isUnmounting","onPostCommitFiberRoot","supportsFiber","decorate","old","decorateMany","fns","olds","restoreMany","internalInstance","_currentElement","getElementType","publicInstance","getPublicInstance","getChildren","_renderedComponent","_renderedChildren","renderedChildren","idToInternalInstanceMap","internalInstanceToIDMap","internalInstanceToRootIDMap","getInternalIDForNative","findNativeNodeForInternalID","ComponentTree","getClosestInstanceFromNode","getNodeFromInstance","getID","getNode","areEqualArrays","parentIDStack","oldReconcilerMethods","Reconciler","mountComponent","hostContainerInfo","_topLevelWrapper","performUpdateIfNecessary","prevChildren","recordReorder","receiveComponent","unmountComponent","Mixin","nextChildIDs","pendingUnmountedIDs","crawlAndRecordInitialMounts","_instancesByReactRootID","_instancesByContainerID","currentlyInspectedElementID","_instance","nativeNode","enabled","initBackend","subs","setRendererInterface","onUnsupportedRenderer","onFastRefreshScheduled","onHookOperations","onTraceUpdates","attachRenderer","attachLegacy","reactDevtoolsAgent","onAgentShutdown","resolveBoxStyle","hasParts","styleForAll","styleForHorizontal","styleForLeft","styleForRight","styleForEnd","styleForStart","styleForVertical","styleForBottom","styleForTop","setupNativeStyleEditor","resolveNativeStyle","validAttributes","measureStyle","oldName","newName","renameStyle","setStyle","isSupported","EMPTY_BOX_STYLE","componentIDToStyleOverrides","layout","resolvedStyle","styleOverrides","measure","shallowClone","cloned","newStyle","customStyle","setNativeProps","lastLength","savedComponentFilters","connectToDevTools","host","nativeStyleEditorValidAttributes","useHttps","port","websocket","resolveRNStyle","retryConnectionDelay","isAppActive","protocol","retryTimeoutID","scheduleRetry","messageListeners","uri","ws","WebSocket","onclose","handleClose","onerror","handleFailed","handleMessage","onopen","transferable","readyState","OPEN","lazyResolveRNStyle","lazyNativeStyleEditorValidAttributes","initAfterTick"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;AASA;AACO,IAAMA,SAAS,GAAG,KAAlB,C,CAEP;;AACO,IAAMC,uBAAuB,GAAG,KAAhC;AAEA,IAAMC,kBAAkB,GAAG,CAA3B;AACA,IAAMC,qBAAqB,GAAG,CAA9B;AACA,IAAMC,+BAA+B,GAAG,CAAxC;AACA,IAAMC,wCAAwC,GAAG,CAAjD;AACA,IAAMC,wCAAwC,GAAG,CAAjD;AACA,IAAMC,0BAA0B,GAAG,CAAnC;AAEA,IAAMC,oCAAoC,GAC/C,mCADK;AAGA,IAAMC,kCAAkC,GAC7C,gCADK;AAGA,IAAMC,kCAAkC,GAC7C,iCADK;AAGA,IAAMC,8CAA8C,GACzD,2CADK;AAGA,IAAMC,sCAAsC,GACjD,mCADK;AAGA,IAAMC,4CAA4C,GACvD,uCADK;AAGA,IAAMC,sCAAsC,GACjD,uCADK;AAGA,IAAMC,iDAAiD,GAC5D,8CADK;AAGA,IAAMC,uCAAuC,GAClD,sCADK;AAGA,IAAMC,8CAA8C,GACzD,8CADK;AAGA,IAAMC,uBAAuB,GAAG,CAAhC;AAEA,IAAMC,cAAc,GACzB,kFADK;AAGA,IAAMC,uBAAuB,GAClC,+FADK;AAGA,IAAMC,4BAA4B,GACvC,kDADK;AAQA,IAAMC,YAAoD,GAAG;AAClEC,OAAK,EAAE;AACL,8BAA0B,SADrB;AAEL,2CAAuC,SAFlC;AAGL,uCAAmC,0BAH9B;AAIL,+BAA2B,SAJtB;AAKL,wCAAoC,SAL/B;AAML,wCAAoC,SAN/B;AAOL,0BAAsB,SAPjB;AAQL,gCAA4B,wBARvB;AASL,mCAA+B,SAT1B;AAUL,kCAA8B,SAVzB;AAWL,mCAA+B,SAX1B;AAYL,iCAA6B,SAZxB;AAaL,uCAAmC,SAb9B;AAcL,sBAAkB,SAdb;AAeL,+BAA2B,SAftB;AAgBL,6BAAyB,SAhBpB;AAiBL,4BAAwB,SAjBnB;AAkBL,4BAAwB,SAlBnB;AAmBL,sBAAkB,SAnBb;AAoBL,0CAAsC,SApBjC;AAqBL,+CAA2C,SArBtC;AAsBL,6CAAyC,SAtBpC;AAuBL,kDAA8C,SAvBzC;AAwBL,iCAA6B,SAxBxB;AAyBL,iCAA6B,SAzBxB;AA0BL,iCAA6B,SA1BxB;AA2BL,iCAA6B,SA3BxB;AA4BL,iCAA6B,SA5BxB;AA6BL,iCAA6B,SA7BxB;AA8BL,iCAA6B,SA9BxB;AA+BL,iCAA6B,SA/BxB;AAgCL,iCAA6B,SAhCxB;AAiCL,iCAA6B,SAjCxB;AAkCL,oCAAgC,SAlC3B;AAmCL,8BAA0B,SAnCrB;AAoCL,uCAAmC,SApC9B;AAqCL,0CAAsC,oBArCjC;AAsCL,mDAA+C,2BAtC1C;AAuCL,qCAAiC,SAvC5B;AAwCL,8CAA0C,0BAxCrC;AAyCL,wCAAoC,SAzC/B;AA0CL,wCAAoC,SA1C/B;AA2CL,oCAAgC,SA3C3B;AA4CL,kCAA8B,SA5CzB;AA6CL,kCAA8B,SA7CzB;AA8CL,0CAAsC,SA9CjC;AA+CL,0CAAsC,SA/CjC;AAgDL,sCAAkC,SAhD7B;AAiDL,oCAAgC,SAjD3B;AAkDL,oCAAgC,SAlD3B;AAmDL,kCAA8B,gBAnDzB;AAoDL,wCAAoC,0BApD/B;AAqDL,2CAAuC,SArDlC;AAsDL,8BAA0B,SAtDrB;AAuDL,4BAAwB,SAvDnB;AAwDL,qCAAiC,SAxD5B;AAyDL,mBAAe,SAzDV;AA0DL,sBAAkB,SA1Db;AA2DL,uBAAmB,SA3Dd;AA4DL,gCAA4B,mBA5DvB;AA6DL,4BAAwB,mBA7DnB;AA8DL,0BAAsB,SA9DjB;AA+DL,sCAAkC,SA/D7B;AAgEL,oBAAgB,SAhEX;AAiEL,gCAA4B,2BAjEvB;AAkEL,6CAAyC,SAlEpC;AAmEL,uCAAmC,SAnE9B;AAoEL,qCAAiC,SApE5B;AAqEL,+CAA2C,SArEtC;AAsEL,yCAAqC,SAtEhC;AAuEL,6BAAyB,SAvEpB;AAwEL,4BAAwB,SAxEnB;AAyEL,+BAA2B,SAzEtB;AA0EL,0BAAsB,SA1EjB;AA2EL,iCAA6B,SA3ExB;AA4EL,iCAA6B,SA5ExB;AA6EL,8BAA0B,SA7ErB;AA8EL,gDAA4C,MA9EvC;AA+EL,sDAAkD,MA/E7C;AAgFL,mDAA+C,SAhF1C;AAiFL,yDAAqD,SAjFhD;AAkFL,qDAAiD,SAlF5C;AAmFL,2DAAuD,SAnFlD;AAoFL,uDAAmD,SApF9C;AAqFL,mDAA+C,SArF1C;AAsFL,+CAA2C,SAtFtC;AAuFL,qDAAiD,SAvF5C;AAwFL,8CAA0C,SAxFrC;AAyFL,oDAAgD,SAzF3C;AA0FL,gDAA4C,SA1FvC;AA2FL,sDAAkD,SA3F7C;AA4FL,qDAAiD,SA5F5C;AA6FL,gDAA4C,SA7FvC;AA8FL,sDAAkD,SA9F7C;AA+FL,qDAAiD,SA/F5C;AAgGL,wDAAoD,SAhG/C;AAiGL,8DAA0D,SAjGrD;AAkGL,6DAAyD,SAlGpD;AAmGL,yDAAqD,SAnGhD;AAoGL,+DAA2D,SApGtD;AAqGL,8DAA0D,SArGrD;AAsGL,kDAA8C,SAtGzC;AAuGL,wDAAoD,SAvG/C;AAwGL,2DAAuD,SAxGlD;AAyGL,iEAA6D,SAzGxD;AA0GL,2DAAuD,SA1GlD;AA2GL,iEAA6D,SA3GxD;AA4GL,6DAAyD,SA5GpD;AA6GL,mEAA+D,SA7G1D;AA8GL,8CAA0C,SA9GrC;AA+GL,kDAA8C,MA/GzC;AAgHL,qDAAiD,SAhH5C;AAiHL,4BAAwB,QAjHnB;AAkHL,oCAAgC,SAlH3B;AAmHL,8CAA0C,wBAnHrC;AAoHL,gDAA4C,qBApHvC;AAqHL,4BAAwB,0BArHnB;AAsHL,mCAA+B,SAtH1B;AAuHL,oBAAgB,SAvHX;AAwHL,4BAAwB,SAxHnB;AAyHL,6BAAyB,SAzHpB;AA0HL,yCAAqC,SA1HhC;AA2HL,oCAAgC,SA3H3B;AA4HL,qCAAiC,SA5H5B;AA6HL,2BAAuB,SA7HlB;AA8HL,kCAA8B,SA9HzB;AA+HL,wCAAoC,SA/H/B;AAgIL,kCAA8B,SAhIzB;AAiIL,2CAAuC,SAjIlC;AAmIL;AACA;AACA;AACA,4BAAwB,SAtInB;AAuIL,4BAAwB,SAvInB;AAwIL,kCAA8B,oBAxIzB;AAyIL,4BAAwB;AAzInB,GAD2D;AA4IlEC,MAAI,EAAE;AACJ,8BAA0B,SADtB;AAEJ,2CAAuC,SAFnC;AAGJ,uCAAmC,SAH/B;AAIJ,+BAA2B,SAJvB;AAKJ,wCAAoC,SALhC;AAMJ,wCAAoC,QANhC;AAOJ,0BAAsB,SAPlB;AAQJ,gCAA4B,0BARxB;AASJ,mCAA+B,SAT3B;AAUJ,kCAA8B,SAV1B;AAWJ,mCAA+B,SAX3B;AAYJ,iCAA6B,SAZzB;AAaJ,uCAAmC,SAb/B;AAcJ,sBAAkB,SAdd;AAeJ,6BAAyB,SAfrB;AAgBJ,+BAA2B,SAhBvB;AAiBJ,4BAAwB,SAjBpB;AAkBJ,4BAAwB,SAlBpB;AAmBJ,sBAAkB,SAnBd;AAoBJ,0CAAsC,SApBlC;AAqBJ,+CAA2C,SArBvC;AAsBJ,6CAAyC,SAtBrC;AAuBJ,kDAA8C,SAvB1C;AAwBJ,iCAA6B,SAxBzB;AAyBJ,iCAA6B,SAzBzB;AA0BJ,iCAA6B,SA1BzB;AA2BJ,iCAA6B,SA3BzB;AA4BJ,iCAA6B,SA5BzB;AA6BJ,iCAA6B,SA7BzB;AA8BJ,iCAA6B,SA9BzB;AA+BJ,iCAA6B,SA/BzB;AAgCJ,iCAA6B,SAhCzB;AAiCJ,iCAA6B,SAjCzB;AAkCJ,oCAAgC,SAlC5B;AAmCJ,8BAA0B,SAnCtB;AAoCJ,uCAAmC,SApC/B;AAqCJ,0CAAsC,2BArClC;AAsCJ,mDAA+C,qBAtC3C;AAuCJ,qCAAiC,SAvC7B;AAwCJ,8CAA0C,0BAxCtC;AAyCJ,wCAAoC,SAzChC;AA0CJ,wCAAoC,SA1ChC;AA2CJ,oCAAgC,SA3C5B;AA4CJ,kCAA8B,SA5C1B;AA6CJ,kCAA8B,SA7C1B;AA8CJ,0CAAsC,SA9ClC;AA+CJ,0CAAsC,SA/ClC;AAgDJ,sCAAkC,SAhD9B;AAiDJ,oCAAgC,SAjD5B;AAkDJ,oCAAgC,SAlD5B;AAmDJ,kCAA8B,uBAnD1B;AAoDJ,wCAAoC,wBApDhC;AAqDJ,2CAAuC,SArDnC;AAsDJ,8BAA0B,SAtDtB;AAuDJ,4BAAwB,SAvDpB;AAwDJ,qCAAiC,SAxD7B;AAyDJ,mBAAe,SAzDX;AA0DJ,sBAAkB,SA1Dd;AA2DJ,uBAAmB,SA3Df;AA4DJ,gCAA4B,MA5DxB;AA6DJ,4BAAwB,MA7DpB;AA8DJ,0BAAsB,MA9DlB;AA+DJ,sCAAkC,SA/D9B;AAgEJ,oBAAgB,SAhEZ;AAiEJ,gCAA4B,qBAjExB;AAkEJ,6CAAyC,qBAlErC;AAmEJ,uCAAmC,SAnE/B;AAoEJ,qCAAiC,QApE7B;AAqEJ,+CAA2C,qBArEvC;AAsEJ,yCAAqC,0BAtEjC;AAuEJ,6BAAyB,SAvErB;AAwEJ,4BAAwB,SAxEpB;AAyEJ,+BAA2B,SAzEvB;AA0EJ,0BAAsB,SA1ElB;AA2EJ,iCAA6B,SA3EzB;AA4EJ,iCAA6B,SA5EzB;AA6EJ,8BAA0B,SA7EtB;AA8EJ,gDAA4C,SA9ExC;AA+EJ,sDAAkD,SA/E9C;AAgFJ,mDAA+C,SAhF3C;AAiFJ,yDAAqD,SAjFjD;AAkFJ,qDAAiD,SAlF7C;AAmFJ,2DAAuD,SAnFnD;AAoFJ,uDAAmD,SApF/C;AAqFJ,mDAA+C,SArF3C;AAsFJ,+CAA2C,SAtFvC;AAuFJ,qDAAiD,SAvF7C;AAwFJ,8CAA0C,SAxFtC;AAyFJ,oDAAgD,SAzF5C;AA0FJ,gDAA4C,SA1FxC;AA2FJ,sDAAkD,SA3F9C;AA4FJ,qDAAiD,SA5F7C;AA6FJ,gDAA4C,SA7FxC;AA8FJ,sDAAkD,SA9F9C;AA+FJ,qDAAiD,SA/F7C;AAgGJ,wDAAoD,SAhGhD;AAiGJ,8DAA0D,SAjGtD;AAkGJ,6DAAyD,SAlGrD;AAmGJ,yDAAqD,SAnGjD;AAoGJ,+DAA2D,SApGvD;AAqGJ,8DAA0D,SArGtD;AAsGJ,kDAA8C,SAtG1C;AAuGJ,wDAAoD,SAvGhD;AAwGJ,2DAAuD,SAxGnD;AAyGJ,iEAA6D,SAzGzD;AA0GJ,2DAAuD,SA1GnD;AA2GJ,iEAA6D,SA3GzD;AA4GJ,6DAAyD,SA5GrD;AA6GJ,mEAA+D,SA7G3D;AA8GJ,8CAA0C,SA9GtC;AA+GJ,kDAA8C,SA/G1C;AAgHJ,qDAAiD,SAhH7C;AAiHJ,4BAAwB,QAjHpB;AAkHJ,oCAAgC,SAlH5B;AAmHJ,8CAA0C,0BAnHtC;AAoHJ,gDAA4C,2BApHxC;AAqHJ,4BAAwB,SArHpB;AAsHJ,sBAAkB,oBAtHd;AAuHJ,mCAA+B,SAvH3B;AAwHJ,oBAAgB,SAxHZ;AAyHJ,4BAAwB,SAzHpB;AA0HJ,6BAAyB,SA1HrB;AA2HJ,yCAAqC,SA3HjC;AA4HJ,oCAAgC,SA5H5B;AA6HJ,qCAAiC,SA7H7B;AA8HJ,2BAAuB,SA9HnB;AA+HJ,kCAA8B,SA/H1B;AAgIJ,wCAAoC,SAhIhC;AAiIJ,kCAA8B,SAjI1B;AAkIJ,2CAAuC,SAlInC;AAoIJ;AACA;AACA;AACA,4BAAwB,SAvIpB;AAwIJ,4BAAwB,SAxIpB;AAyIJ,kCAA8B,2BAzI1B;AA0IJ,4BAAwB;AA1IpB,GA5I4D;AAwRlEC,SAAO,EAAE;AACP,mCAA+B,KADxB;AAEP,oCAAgC,MAFzB;AAGP,mCAA+B,MAHxB;AAIP,8BAA0B,MAJnB;AAKP,+BAA2B,MALpB;AAMP,8BAA0B,MANnB;AAOP,0BAAsB;AAPf,GAxRyD;AAiSlEC,aAAW,EAAE;AACX,mCAA+B,MADpB;AAEX,oCAAgC,MAFrB;AAGX,mCAA+B,MAHpB;AAIX,8BAA0B,MAJf;AAKX,+BAA2B,MALhB;AAMX,8BAA0B,MANf;AAOX,0BAAsB;AAPX;AAjSqD,CAA7D,C,CA4SP;AACA;AACA;AACA;;AACA,IAAMC,uBAAuB,GAAGC,QAAQ,CACtCN,YAAY,CAACI,WAAb,CAAyB,oBAAzB,CADsC,EAEtC,EAFsC,CAAxC;AAIA,IAAMG,mBAAmB,GAAGD,QAAQ,CAClCN,YAAY,CAACG,OAAb,CAAqB,oBAArB,CADkC,EAElC,EAFkC,CAApC;;;;;;;;ACxXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAMK,gBAAgB,GAAG,CAAzB;AACA,IAAMC,kBAAkB,GAAG,CAA3B;AACA,IAAMC,mBAAmB,GAAG,CAA5B;AACA,IAAMC,qBAAqB,GAAG,CAA9B;AACA,IAAMC,wBAAwB,GAAG,CAAjC;AACA,IAAMC,eAAe,GAAG,CAAxB;AACA,IAAMC,yBAAyB,GAAG,CAAlC;AACA,IAAMC,mBAAmB,GAAG,EAA5B;AACA,IAAMC,eAAe,GAAG,EAAxB;AACA,IAAMC,mBAAmB,GAAG,EAA5B;AACA,IAAMC,uBAAuB,GAAG,EAAhC,C,CAEP;AACA;AACA;;AAGA;AACA;AACA;AACA;AACO,IAAMC,0BAA0B,GAAG,CAAnC;AACA,IAAMC,0BAA0B,GAAG,CAAnC;AACA,IAAMC,uBAAuB,GAAG,CAAhC;AACA,IAAMC,kBAAkB,GAAG,CAA3B,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/CP;;;;;;;;AASA;AACA;AACA;AAEA;AACA;AACO,IAAIC,kBAAkB,GAAG,MAAzB;AACA,IAAIC,iBAAiB,GAAG,MAAxB;AACA,IAAIC,mBAAmB,GAAG,MAA1B;AACA,IAAIC,sBAAsB,GAAG,MAA7B;AACA,IAAIC,mBAAmB,GAAG,MAA1B;AACA,IAAIC,mBAAmB,GAAG,MAA1B;AACA,IAAIC,kBAAkB,GAAG,MAAzB;AACA,IAAIC,sBAAsB,GAAG,MAA7B;AACA,IAAIC,mBAAmB,GAAG,MAA1B;AACA,IAAIC,wBAAwB,GAAG,MAA/B;AACA,IAAIC,eAAe,GAAG,MAAtB;AACA,IAAIC,eAAe,GAAG,MAAtB;AACA,IAAIC,gBAAgB,GAAG,MAAvB;AACA,IAAIC,oBAAoB,GAAG,MAA3B;AACA,IAAIC,6BAA6B,GAAG,MAApC;AACA,IAAIC,oBAAoB,GAAG,MAA3B;AACA,IAAIC,wBAAwB,GAAG,MAA/B;AACA,IAAIC,gBAAgB,GAAG,MAAvB;;AAEP,IAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAA3C,EAAgD;AAC9C,MAAMC,SAAS,GAAGF,MAAM,CAACC,GAAzB;AACAnB,oBAAkB,GAAGoB,SAAS,CAAC,eAAD,CAA9B;AACAnB,mBAAiB,GAAGmB,SAAS,CAAC,cAAD,CAA7B;AACAlB,qBAAmB,GAAGkB,SAAS,CAAC,gBAAD,CAA/B;AACAjB,wBAAsB,GAAGiB,SAAS,CAAC,mBAAD,CAAlC;AACAhB,qBAAmB,GAAGgB,SAAS,CAAC,gBAAD,CAA/B;AACAf,qBAAmB,GAAGe,SAAS,CAAC,gBAAD,CAA/B;AACAd,oBAAkB,GAAGc,SAAS,CAAC,eAAD,CAA9B;AACAb,wBAAsB,GAAGa,SAAS,CAAC,mBAAD,CAAlC;AACAZ,qBAAmB,GAAGY,SAAS,CAAC,gBAAD,CAA/B;AACAX,0BAAwB,GAAGW,SAAS,CAAC,qBAAD,CAApC;AACAV,iBAAe,GAAGU,SAAS,CAAC,YAAD,CAA3B;AACAT,iBAAe,GAAGS,SAAS,CAAC,YAAD,CAA3B;AACAR,kBAAgB,GAAGQ,SAAS,CAAC,aAAD,CAA5B;AACAP,sBAAoB,GAAGO,SAAS,CAAC,iBAAD,CAAhC;AACAN,+BAA6B,GAAGM,SAAS,CAAC,wBAAD,CAAzC;AACAL,sBAAoB,GAAGK,SAAS,CAAC,iBAAD,CAAhC;AACAJ,0BAAwB,GAAGI,SAAS,CAAC,qBAAD,CAApC;AACAH,kBAAgB,GAAGG,SAAS,CAAC,aAAD,CAA5B;AACD;;AAED,IAAMC,qBAAqB,GAAG,OAAOH,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACI,QAArE;AACA,IAAMC,oBAAoB,GAAG,YAA7B;AAEO,SAASC,aAAT,CAAuBC,aAAvB,EAAiE;AACtE,MAAIA,aAAa,KAAK,IAAlB,IAA0B,QAAOA,aAAP,MAAyB,QAAvD,EAAiE;AAC/D,WAAO,IAAP;AACD;;AACD,MAAMC,aAAa,GAChBL,qBAAqB,IAAII,aAAa,CAACJ,qBAAD,CAAvC,IACAI,aAAa,CAACF,oBAAD,CAFf;;AAGA,MAAI,OAAOG,aAAP,KAAyB,UAA7B,EAAyC;AACvC,WAAOA,aAAP;AACD;;AACD,SAAO,IAAP;AACD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtED;;;;;;;;AASA;AACA;AAcA;AACA;AAQA;AACA;AAOA;AACA;AAMA;AACA;AAKA,IAAMC,kBAA6C,GAAG,IAAIC,OAAJ,EAAtD,C,CAEA;AACA;;AACA,IAAMC,kBAAmD,GAAG,IAAIC,mBAAJ,CAAQ;AAClEC,KAAG,EAAE;AAD6D,CAAR,CAA5D;AAIO,SAASC,aAAT,CACLC,CADK,EAELC,CAFK,EAGG;AACR,MAAID,CAAC,CAACE,QAAF,KAAeD,CAAC,CAACC,QAAF,EAAnB,EAAiC;AAC/B,WAAO,CAAP;AACD,GAFD,MAEO,IAAID,CAAC,CAACC,QAAF,KAAeF,CAAC,CAACE,QAAF,EAAnB,EAAiC;AACtC,WAAO,CAAC,CAAR;AACD,GAFM,MAEA;AACL,WAAO,CAAP;AACD;AACF;AAEM,SAASC,oBAAT,CACLC,GADK,EAE0B;AAC/B,MAAMC,IAAI,GAAG,IAAIC,GAAJ,EAAb;AACA,MAAIC,OAAO,GAAGH,GAAd;;AAF+B;AAI7B,QAAMI,WAAW,gCACZC,MAAM,CAACJ,IAAP,CAAYE,OAAZ,CADY,sBAEZE,MAAM,CAACC,qBAAP,CAA6BH,OAA7B,CAFY,EAAjB;AAIA,QAAMI,WAAW,GAAGF,MAAM,CAACG,yBAAP,CAAiCL,OAAjC,CAApB;AACAC,eAAW,CAACK,OAAZ,CAAoB,UAAAC,GAAG,EAAI;AACzB;AACA,UAAIH,WAAW,CAACG,GAAD,CAAX,CAAiBC,UAArB,EAAiC;AAC/BV,YAAI,CAACW,GAAL,CAASF,GAAT;AACD;AACF,KALD;AAMAP,WAAO,GAAGE,MAAM,CAACQ,cAAP,CAAsBV,OAAtB,CAAV;AAf6B;;AAG/B,SAAOA,OAAO,IAAI,IAAlB,EAAwB;AAAA;AAavB;;AACD,SAAOF,IAAP;AACD;AAEM,SAASa,cAAT,CACLC,IADK,EAGG;AAAA,MADRC,YACQ,uEADe,WACf;AACR,MAAMC,aAAa,GAAG3B,kBAAkB,CAAC4B,GAAnB,CAAuBH,IAAvB,CAAtB;;AACA,MAAIE,aAAa,IAAI,IAArB,EAA2B;AACzB,WAAOA,aAAP;AACD;;AAED,MAAIE,WAAW,GAAGH,YAAlB,CANQ,CAQR;AACA;AACA;;AACA,MAAI,OAAOD,IAAI,CAACI,WAAZ,KAA4B,QAAhC,EAA0C;AACxCA,eAAW,GAAGJ,IAAI,CAACI,WAAnB;AACD,GAFD,MAEO,IAAI,OAAOJ,IAAI,CAACK,IAAZ,KAAqB,QAArB,IAAiCL,IAAI,CAACK,IAAL,KAAc,EAAnD,EAAuD;AAC5DD,eAAW,GAAGJ,IAAI,CAACK,IAAnB;AACD;;AAED9B,oBAAkB,CAAC+B,GAAnB,CAAuBN,IAAvB,EAA6BI,WAA7B;AACA,SAAOA,WAAP;AACD;AAED,IAAIG,UAAkB,GAAG,CAAzB;AAEO,SAASC,MAAT,GAA0B;AAC/B,SAAO,EAAED,UAAT;AACD;AAEM,SAASE,eAAT,CAAyBC,KAAzB,EAAuD;AAC5D,SAAOC,MAAM,CAACC,aAAP,OAAAD,MAAM,qBAAkBD,KAAlB,EAAb;AACD;AAEM,SAASG,eAAT,CAAyBC,MAAzB,EAAwD;AAC7D,MAAMC,MAAM,GAAGtC,kBAAkB,CAAC0B,GAAnB,CAAuBW,MAAvB,CAAf;;AACA,MAAIC,MAAM,KAAKC,SAAf,EAA0B;AACxB,WAAOD,MAAP;AACD;;AAED,MAAME,OAAO,GAAG,IAAIC,KAAJ,CAAUJ,MAAM,CAACK,MAAjB,CAAhB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,MAAM,CAACK,MAA3B,EAAmCC,CAAC,EAApC,EAAwC;AACtCH,WAAO,CAACG,CAAD,CAAP,GAAaN,MAAM,CAACO,WAAP,CAAmBD,CAAnB,CAAb;AACD;;AACD3C,oBAAkB,CAAC6B,GAAnB,CAAuBQ,MAAvB,EAA+BG,OAA/B;AACA,SAAOA,OAAP;AACD;AAEM,SAASK,oBAAT,CAA8BC,UAA9B,EAAyD;AAC9D;AACA,MAAMC,UAAU,GAAGD,UAAU,CAAC,CAAD,CAA7B;AACA,MAAME,MAAM,GAAGF,UAAU,CAAC,CAAD,CAAzB;AAEA,MAAMG,IAAI,GAAG,mCAA4BF,UAA5B,uBAAmDC,MAAnD,EAAb;AAEA,MAAIL,CAAC,GAAG,CAAR,CAP8D,CAS9D;;AACA,MAAMO,WAAW,GAAG,CAClB,IADkB,CACZ;AADY,GAApB;AAGA,MAAMC,eAAe,GAAGL,UAAU,CAACH,CAAC,EAAF,CAAlC;AACA,MAAMS,cAAc,GAAGT,CAAC,GAAGQ,eAA3B;;AACA,SAAOR,CAAC,GAAGS,cAAX,EAA2B;AACzB,QAAMC,UAAU,GAAGP,UAAU,CAACH,CAAC,EAAF,CAA7B;AACA,QAAMW,UAAU,GAAGtB,eAAe,CAC/Bc,UAAU,CAACS,KAAX,CAAiBZ,CAAjB,EAAoBA,CAAC,GAAGU,UAAxB,CAD+B,CAAlC;AAGAH,eAAW,CAACM,IAAZ,CAAiBF,UAAjB;AACAX,KAAC,IAAIU,UAAL;AACD;;AAED,SAAOV,CAAC,GAAGG,UAAU,CAACJ,MAAtB,EAA8B;AAC5B,QAAMe,SAAS,GAAGX,UAAU,CAACH,CAAD,CAA5B;;AAEA,YAAQc,SAAR;AACE,WAAKjI,uCAAL;AAAyB;AACvB,cAAMkI,GAAE,GAAKZ,UAAU,CAACH,CAAC,GAAG,CAAL,CAAvB;AACA,cAAMpB,IAAI,GAAKuB,UAAU,CAACH,CAAC,GAAG,CAAL,CAAzB;AAEAA,WAAC,IAAI,CAAL;;AAEA,cAAIpB,IAAI,KAAK3D,gCAAb,EAA8B;AAC5BqF,gBAAI,CAACO,IAAL,6BAA+BE,GAA/B;AAEAf,aAAC,GAH2B,CAGvB;;AACLA,aAAC,GAJ2B,CAIvB;AACN,WALD,MAKO;AACL,gBAAMgB,QAAQ,GAAKb,UAAU,CAACH,CAAD,CAA7B;AACAA,aAAC;AAEDA,aAAC,GAJI,CAIA;;AAEL,gBAAMiB,mBAAmB,GAAGd,UAAU,CAACH,CAAD,CAAtC;AACA,gBAAMhB,WAAW,GAAGuB,WAAW,CAACU,mBAAD,CAA/B;AACAjB,aAAC;AAEDA,aAAC,GAVI,CAUA;;AAELM,gBAAI,CAACO,IAAL,oBACcE,GADd,eACqB/B,WAAW,IAAI,MADpC,2BAC2DgC,QAD3D;AAGD;;AACD;AACD;;AACD,WAAKlI,0CAAL;AAA4B;AAC1B,cAAMoI,YAAY,GAAKf,UAAU,CAACH,CAAC,GAAG,CAAL,CAAjC;AACAA,WAAC,IAAI,CAAL;;AAEA,eAAK,IAAImB,WAAW,GAAG,CAAvB,EAA0BA,WAAW,GAAGD,YAAxC,EAAsDC,WAAW,EAAjE,EAAqE;AACnE,gBAAMJ,IAAE,GAAKZ,UAAU,CAACH,CAAD,CAAvB;AACAA,aAAC,IAAI,CAAL;AAEAM,gBAAI,CAACO,IAAL,uBAAyBE,IAAzB;AACD;;AACD;AACD;;AACD,WAAK7H,+CAAL;AAAiC;AAC/B8G,WAAC,IAAI,CAAL;AAEAM,cAAI,CAACO,IAAL,uBAAyBR,MAAzB;AACA;AACD;;AACD,WAAKtH,oDAAL;AAAsC;AACpC,cAAMgI,IAAE,GAAKZ,UAAU,CAACH,CAAC,GAAG,CAAL,CAAvB;AACA,cAAMoB,WAAW,GAAKjB,UAAU,CAACH,CAAC,GAAG,CAAL,CAAhC;AACAA,WAAC,IAAI,CAAL;AACA,cAAMqB,QAAQ,GAAGlB,UAAU,CAACS,KAAX,CAAiBZ,CAAjB,EAAoBA,CAAC,GAAGoB,WAAxB,CAAjB;AACApB,WAAC,IAAIoB,WAAL;AAEAd,cAAI,CAACO,IAAL,yBAA2BE,IAA3B,uBAA0CM,QAAQ,CAACC,IAAT,CAAc,GAAd,CAA1C;AACA;AACD;;AACD,WAAKtI,6DAAL;AACE;AACA;AACA;AACAgH,SAAC,IAAI,CAAL;AACA;;AACF,WAAK/G,6DAAL;AACE,YAAM8H,EAAE,GAAGZ,UAAU,CAACH,CAAC,GAAG,CAAL,CAArB;AACA,YAAMuB,SAAS,GAAGpB,UAAU,CAACH,CAAC,GAAG,CAAL,CAA5B;AACA,YAAMwB,WAAW,GAAGrB,UAAU,CAACH,CAAC,GAAG,CAAL,CAA9B;AAEAA,SAAC,IAAI,CAAL;AAEAM,YAAI,CAACO,IAAL,gBACUE,EADV,kBACoBQ,SADpB,yBAC4CC,WAD5C;AAGA;;AACF;AACE,cAAMC,KAAK,0CAAkCX,SAAlC,QAAX;AA5EJ;AA8ED;;AAEDY,SAAO,CAACC,GAAR,CAAYrB,IAAI,CAACgB,IAAL,CAAU,MAAV,CAAZ;AACD;AAEM,SAASM,0BAAT,GAA8D;AACnE,SAAO,CACL;AACEhD,QAAI,EAAExD,2CADR;AAEEyG,SAAK,EAAEhH,yCAFT;AAGEiH,aAAS,EAAE;AAHb,GADK,CAAP;AAOD;AAEM,SAASC,wBAAT,GAA4D;AACjE,MAAI;AACF,QAAMC,GAAG,GAAGC,8CAAmB,CAAC9I,yDAAD,CAA/B;;AACA,QAAI6I,GAAG,IAAI,IAAX,EAAiB;AACf,aAAOE,IAAI,CAACC,KAAL,CAAWH,GAAX,CAAP;AACD;AACF,GALD,CAKE,OAAOI,KAAP,EAAc,CAAE;;AAClB,SAAOR,0BAA0B,EAAjC;AACD;AAEM,SAASS,oBAAT,CACLC,gBADK,EAEC;AACNC,gDAAmB,CACjBpJ,yDADiB,EAEjB+I,IAAI,CAACM,SAAL,CAAeF,gBAAf,CAFiB,CAAnB;AAID;AAEM,SAASG,uBAAT,GAA4C;AACjD,MAAI;AACF,QAAMT,GAAG,GAAGC,8CAAmB,CAACxI,2DAAD,CAA/B;;AACA,QAAIuI,GAAG,IAAI,IAAX,EAAiB;AACf,aAAOE,IAAI,CAACC,KAAL,CAAWH,GAAX,CAAP;AACD;AACF,GALD,CAKE,OAAOI,KAAP,EAAc,CAAE;;AAClB,SAAO,IAAP;AACD;AAEM,SAASM,uBAAT,CAAiCb,KAAjC,EAAuD;AAC5DU,gDAAmB,CACjB9I,2DADiB,EAEjByI,IAAI,CAACM,SAAL,CAAeX,KAAf,CAFiB,CAAnB;AAID;AAEM,SAASc,uBAAT,GAA4C;AACjD,MAAI;AACF,QAAMX,GAAG,GAAGC,8CAAmB,CAC7BzI,iEAD6B,CAA/B;;AAGA,QAAIwI,GAAG,IAAI,IAAX,EAAiB;AACf,aAAOE,IAAI,CAACC,KAAL,CAAWH,GAAX,CAAP;AACD;AACF,GAPD,CAOE,OAAOI,KAAP,EAAc,CAAE;;AAClB,SAAO,KAAP;AACD;AAEM,SAASQ,uBAAT,CAAiCf,KAAjC,EAAuD;AAC5DU,gDAAmB,CACjB/I,iEADiB,EAEjB0I,IAAI,CAACM,SAAL,CAAeX,KAAf,CAFiB,CAAnB;AAID;AAEM,SAASgB,8BAAT,GAAmD;AACxD,MAAI;AACF,QAAMb,GAAG,GAAGC,8CAAmB,CAC7BrI,mEAD6B,CAA/B;;AAGA,QAAIoI,GAAG,IAAI,IAAX,EAAiB;AACf,aAAOE,IAAI,CAACC,KAAL,CAAWH,GAAX,CAAP;AACD;AACF,GAPD,CAOE,OAAOI,KAAP,EAAc,CAAE;;AAClB,SAAO,KAAP;AACD;AAEM,SAASU,8BAAT,CAAwCjB,KAAxC,EAA8D;AACnEU,gDAAmB,CACjB3I,mEADiB,EAEjBsI,IAAI,CAACM,SAAL,CAAeX,KAAf,CAFiB,CAAnB;AAID;AAEM,SAASkB,8BAAT,GAAmD;AACxD,MAAI;AACF,QAAMf,GAAG,GAAGC,8CAAmB,CAC7BvI,sEAD6B,CAA/B;;AAGA,QAAIsI,GAAG,IAAI,IAAX,EAAiB;AACf,aAAOE,IAAI,CAACC,KAAL,CAAWH,GAAX,CAAP;AACD;AACF,GAPD,CAOE,OAAOI,KAAP,EAAc,CAAE;;AAClB,SAAO,IAAP;AACD;AAEM,SAASY,8BAAT,CAAwCnB,KAAxC,EAA8D;AACnEU,gDAAmB,CACjB7I,sEADiB,EAEjBwI,IAAI,CAACM,SAAL,CAAeX,KAAf,CAFiB,CAAnB;AAID;AAEM,SAASoB,0BAAT,CACLjE,WADK,EAELJ,IAFK,EAGkC;AACvC,MAAII,WAAW,KAAK,IAApB,EAA0B;AACxB,WAAO,CAAC,IAAD,EAAO,IAAP,CAAP;AACD;;AAED,MAAIkE,eAAe,GAAG,IAAtB;;AAEA,UAAQtE,IAAR;AACE,SAAKnE,iCAAL;AACA,SAAKG,sCAAL;AACA,SAAKD,oCAAL;AACA,SAAKG,gCAAL;AACE,UAAIkE,WAAW,CAACmE,OAAZ,CAAoB,GAApB,KAA4B,CAAhC,EAAmC;AACjC,YAAMC,OAAO,GAAGpE,WAAW,CAACqE,KAAZ,CAAkB,SAAlB,CAAhB;;AACA,YAAID,OAAO,IAAI,IAAf,EAAqB;AACnBpE,qBAAW,GAAGoE,OAAO,CAACE,GAAR,EAAd;AACAJ,yBAAe,GAAGE,OAAlB;AACD;AACF;;AACD;;AACF;AACE;AAdJ;;AAiBA,MAAIxE,IAAI,KAAK9D,gCAAb,EAA8B;AAC5B,QAAIoI,eAAe,KAAK,IAAxB,EAA8B;AAC5BA,qBAAe,GAAG,CAAC,MAAD,CAAlB;AACD,KAFD,MAEO;AACLA,qBAAe,CAACK,OAAhB,CAAwB,MAAxB;AACD;AACF,GAND,MAMO,IAAI3E,IAAI,KAAKhE,sCAAb,EAAoC;AACzC,QAAIsI,eAAe,KAAK,IAAxB,EAA8B;AAC5BA,qBAAe,GAAG,CAAC,YAAD,CAAlB;AACD,KAFD,MAEO;AACLA,qBAAe,CAACK,OAAhB,CAAwB,YAAxB;AACD;AACF;;AAED,SAAO,CAACvE,WAAD,EAAckE,eAAd,CAAP;AACD,C,CAED;AACA;;AACO,SAASM,cAAT,CAAwBC,IAAxB,EAAsCC,IAAtC,EAA6D;AAClE,OAAK,IAAMC,SAAX,IAAwBF,IAAxB,EAA8B;AAC5B,QAAI,EAAEE,SAAS,IAAID,IAAf,CAAJ,EAA0B;AACxB,aAAO,IAAP;AACD;AACF;;AACD,OAAK,IAAMC,UAAX,IAAwBD,IAAxB,EAA8B;AAC5B,QAAID,IAAI,CAACE,UAAD,CAAJ,KAAoBD,IAAI,CAACC,UAAD,CAA5B,EAAyC;AACvC,aAAO,IAAP;AACD;AACF;;AACD,SAAO,KAAP;AACD;AAEM,SAASC,WAAT,CAAqBC,MAArB,EAAqCC,IAArC,EAAwE;AAC7E,SAAOA,IAAI,CAACC,MAAL,CAAY,UAACC,OAAD,EAAkBC,IAAlB,EAAqC;AACtD,QAAID,OAAJ,EAAa;AACX,UAAIE,cAAc,CAACC,IAAf,CAAoBH,OAApB,EAA6BC,IAA7B,CAAJ,EAAwC;AACtC,eAAOD,OAAO,CAACC,IAAD,CAAd;AACD;;AACD,UAAI,OAAOD,OAAO,CAACtH,MAAM,CAACI,QAAR,CAAd,KAAoC,UAAxC,EAAoD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,eAAOgD,KAAK,CAACsE,IAAN,CAAWJ,OAAX,EAAoBC,IAApB,CAAP;AACD;AACF;;AAED,WAAO,IAAP;AACD,GAjBM,EAiBJJ,MAjBI,CAAP;AAkBD;AAEM,SAASQ,kBAAT,CACLR,MADK,EAELC,IAFK,EAGL;AACA,MAAM/D,MAAM,GAAG+D,IAAI,CAAC/D,MAApB;AACA,MAAMuE,IAAI,GAAGR,IAAI,CAAC/D,MAAM,GAAG,CAAV,CAAjB;;AACA,MAAI8D,MAAM,IAAI,IAAd,EAAoB;AAClB,QAAMU,MAAM,GAAGX,WAAW,CAACC,MAAD,EAASC,IAAI,CAAClD,KAAL,CAAW,CAAX,EAAcb,MAAM,GAAG,CAAvB,CAAT,CAA1B;;AACA,QAAIwE,MAAJ,EAAY;AACV,UAAIzE,KAAK,CAAC0E,OAAN,CAAcD,MAAd,CAAJ,EAA2B;AACzBA,cAAM,CAACE,MAAP,CAAgBH,IAAhB,EAAqC,CAArC;AACD,OAFD,MAEO;AACL,eAAOC,MAAM,CAACD,IAAD,CAAb;AACD;AACF;AACF;AACF;AAEM,SAASI,kBAAT,CACLb,MADK,EAELc,OAFK,EAGLC,OAHK,EAIL;AACA,MAAM7E,MAAM,GAAG4E,OAAO,CAAC5E,MAAvB;;AACA,MAAI8D,MAAM,IAAI,IAAd,EAAoB;AAClB,QAAMU,MAAM,GAAGX,WAAW,CAACC,MAAD,EAASc,OAAO,CAAC/D,KAAR,CAAc,CAAd,EAAiBb,MAAM,GAAG,CAA1B,CAAT,CAA1B;;AACA,QAAIwE,MAAJ,EAAY;AACV,UAAMM,OAAO,GAAGF,OAAO,CAAC5E,MAAM,GAAG,CAAV,CAAvB;AACA,UAAM+E,OAAO,GAAGF,OAAO,CAAC7E,MAAM,GAAG,CAAV,CAAvB;AACAwE,YAAM,CAACO,OAAD,CAAN,GAAkBP,MAAM,CAACM,OAAD,CAAxB;;AACA,UAAI/E,KAAK,CAAC0E,OAAN,CAAcD,MAAd,CAAJ,EAA2B;AACzBA,cAAM,CAACE,MAAP,CAAgBI,OAAhB,EAAwC,CAAxC;AACD,OAFD,MAEO;AACL,eAAON,MAAM,CAACM,OAAD,CAAb;AACD;AACF;AACF;AACF;AAEM,SAASE,WAAT,CACLlB,MADK,EAELC,IAFK,EAGLjC,KAHK,EAIL;AACA,MAAM9B,MAAM,GAAG+D,IAAI,CAAC/D,MAApB;AACA,MAAMuE,IAAI,GAAGR,IAAI,CAAC/D,MAAM,GAAG,CAAV,CAAjB;;AACA,MAAI8D,MAAM,IAAI,IAAd,EAAoB;AAClB,QAAMU,MAAM,GAAGX,WAAW,CAACC,MAAD,EAASC,IAAI,CAAClD,KAAL,CAAW,CAAX,EAAcb,MAAM,GAAG,CAAvB,CAAT,CAA1B;;AACA,QAAIwE,MAAJ,EAAY;AACVA,YAAM,CAACD,IAAD,CAAN,GAAezC,KAAf;AACD;AACF;AACF;;AA2BD;;;AAGO,SAASmD,WAAT,CAAqBC,IAArB,EAA6C;AAClD,MAAIA,IAAI,KAAK,IAAb,EAAmB;AACjB,WAAO,MAAP;AACD,GAFD,MAEO,IAAIA,IAAI,KAAKrF,SAAb,EAAwB;AAC7B,WAAO,WAAP;AACD;;AAED,MAAIsF,6BAAS,CAACD,IAAD,CAAb,EAAqB;AACnB,WAAO,eAAP;AACD;;AAED,MAAI,OAAOE,WAAP,KAAuB,WAAvB,IAAsCF,IAAI,YAAYE,WAA1D,EAAuE;AACrE,WAAO,cAAP;AACD;;AAED,MAAMvG,IAAI,GAAG,aAAOqG,IAAV,CAAV;;AACA,UAAQrG,IAAR;AACE,SAAK,QAAL;AACE,aAAO,QAAP;;AACF,SAAK,SAAL;AACE,aAAO,SAAP;;AACF,SAAK,UAAL;AACE,aAAO,UAAP;;AACF,SAAK,QAAL;AACE,UAAIwG,MAAM,CAACC,KAAP,CAAaJ,IAAb,CAAJ,EAAwB;AACtB,eAAO,KAAP;AACD,OAFD,MAEO,IAAI,CAACG,MAAM,CAACE,QAAP,CAAgBL,IAAhB,CAAL,EAA4B;AACjC,eAAO,UAAP;AACD,OAFM,MAEA;AACL,eAAO,QAAP;AACD;;AACH,SAAK,QAAL;AACE,UAAInF,KAAK,CAAC0E,OAAN,CAAcS,IAAd,CAAJ,EAAyB;AACvB,eAAO,OAAP;AACD,OAFD,MAEO,IAAIM,WAAW,CAACC,MAAZ,CAAmBP,IAAnB,CAAJ,EAA8B;AACnC,eAAOf,cAAc,CAACC,IAAf,CAAoBc,IAAI,CAACQ,WAAzB,EAAsC,mBAAtC,IACH,aADG,GAEH,WAFJ;AAGD,OAJM,MAIA,IAAIR,IAAI,CAACQ,WAAL,IAAoBR,IAAI,CAACQ,WAAL,CAAiBxG,IAAjB,KAA0B,aAAlD,EAAiE;AACtE;AACA;AACA;AACA;AACA,eAAO,cAAP;AACD,OANM,MAMA,IAAI,OAAOgG,IAAI,CAACvI,MAAM,CAACI,QAAR,CAAX,KAAiC,UAArC,EAAiD;AACtD,YAAMA,QAAQ,GAAGmI,IAAI,CAACvI,MAAM,CAACI,QAAR,CAAJ,EAAjB;;AACA,YAAI,CAACA,QAAL,EAAe,CACb;AACA;AACD,SAHD,MAGO;AACL,iBAAOA,QAAQ,KAAKmI,IAAb,GAAoB,iBAApB,GAAwC,UAA/C;AACD;AACF,OARM,MAQA,IAAIA,IAAI,CAACQ,WAAL,IAAoBR,IAAI,CAACQ,WAAL,CAAiBxG,IAAjB,KAA0B,QAAlD,EAA4D;AACjE,eAAO,QAAP;AACD,OAFM,MAEA;AACL,YAAMyG,aAAa,GAAGxH,MAAM,CAACyH,SAAP,CAAiBhI,QAAjB,CAA0BwG,IAA1B,CAA+Bc,IAA/B,CAAtB;;AACA,YAAIS,aAAa,KAAK,eAAtB,EAAuC;AACrC,iBAAO,MAAP;AACD,SAFD,MAEO,IAAIA,aAAa,KAAK,4BAAtB,EAAoD;AACzD,iBAAO,qBAAP;AACD;AACF;;AACD,aAAO,QAAP;;AACF,SAAK,QAAL;AACE,aAAO,QAAP;;AACF,SAAK,QAAL;AACE,aAAO,QAAP;;AACF,SAAK,WAAL;AACE,UACExH,MAAM,CAACyH,SAAP,CAAiBhI,QAAjB,CAA0BwG,IAA1B,CAA+Bc,IAA/B,MAAyC,4BAD3C,EAEE;AACA,eAAO,qBAAP;AACD;;AACD,aAAO,WAAP;;AACF;AACE,aAAO,SAAP;AA3DJ;AA6DD;AAEM,SAASW,6BAAT,CACLC,OADK,EAEU;AACf,MAAMC,WAAW,GAAGC,0BAAM,CAACF,OAAD,CAA1B;;AACA,UAAQC,WAAR;AACE,SAAKE,2BAAL;AACE,aAAO,iBAAP;;AACF,SAAKC,2BAAL;AACE,aAAO,iBAAP;;AACF,SAAKC,sBAAL;AACE,aAAO,YAAP;;AACF,SAAKC,oBAAL;AACE,aAAO,UAAP;;AACF,SAAKC,gBAAL;AACE,aAAO,MAAP;;AACF,SAAKC,gBAAL;AACE,aAAO,MAAP;;AACF,SAAKC,kBAAL;AACE,aAAO,QAAP;;AACF,SAAKC,oBAAL;AACE,aAAO,UAAP;;AACF,SAAKC,sBAAL;AACE,aAAO,YAAP;;AACF,SAAKC,oBAAL;AACE,aAAO,UAAP;;AACF,SAAKC,wBAAL;AACE,aAAO,cAAP;;AACF;AAAA,UACS9H,IADT,GACiBiH,OADjB,CACSjH,IADT;;AAEE,UAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;AAC5B,eAAOA,IAAP;AACD,OAFD,MAEO,IAAI,OAAOA,IAAP,KAAgB,UAApB,EAAgC;AACrC,eAAOD,cAAc,CAACC,IAAD,EAAO,WAAP,CAArB;AACD,OAFM,MAEA,IAAIA,IAAI,IAAI,IAAZ,EAAkB;AACvB,eAAO,0BAAP;AACD,OAFM,MAEA;AACL,eAAO,SAAP;AACD;;AAjCL;AAmCD;AAED,IAAM+H,yBAAyB,GAAG,EAAlC;;AAEA,SAASC,kBAAT,CACElH,MADF,EAGE;AAAA,MADAK,MACA,uEADiB4G,yBACjB;;AACA,MAAIjH,MAAM,CAACK,MAAP,GAAgBA,MAApB,EAA4B;AAC1B,WAAOL,MAAM,CAACmH,MAAP,CAAc,CAAd,EAAiB9G,MAAjB,IAA2B,GAAlC;AACD,GAFD,MAEO;AACL,WAAOL,MAAP;AACD;AACF,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACO,SAASoH,oBAAT,CACL7B,IADK,EAEL8B,kBAFK,EAGG;AACR,MAAI9B,IAAI,IAAI,IAAR,IAAgBf,cAAc,CAACC,IAAf,CAAoBc,IAApB,EAA0B+B,yBAAI,CAACpI,IAA/B,CAApB,EAA0D;AACxD,WAAOmI,kBAAkB,GACrB9B,IAAI,CAAC+B,yBAAI,CAACC,YAAN,CADiB,GAErBhC,IAAI,CAAC+B,yBAAI,CAACE,aAAN,CAFR;AAGD;;AAED,MAAMtI,IAAI,GAAGoG,WAAW,CAACC,IAAD,CAAxB;;AAEA,UAAQrG,IAAR;AACE,SAAK,cAAL;AACE,wBAAWgI,kBAAkB,CAAC3B,IAAI,CAACkC,OAAL,CAAaC,WAAb,EAAD,CAA7B;;AACF,SAAK,UAAL;AACE,aAAOR,kBAAkB,kBAClB,OAAO3B,IAAI,CAAChG,IAAZ,KAAqB,UAArB,GAAkC,EAAlC,GAAuCgG,IAAI,CAAChG,IAD1B,WAAzB;;AAGF,SAAK,QAAL;AACE,yBAAWgG,IAAX;;AACF,SAAK,QAAL;AACE,aAAO2B,kBAAkB,CAAC3B,IAAI,CAACtH,QAAL,KAAkB,GAAnB,CAAzB;;AACF,SAAK,QAAL;AACE,aAAOiJ,kBAAkB,CAAC3B,IAAI,CAACtH,QAAL,EAAD,CAAzB;;AACF,SAAK,QAAL;AACE,aAAOiJ,kBAAkB,CAAC3B,IAAI,CAACtH,QAAL,EAAD,CAAzB;;AACF,SAAK,eAAL;AACE,wBAAWiJ,kBAAkB,CAC3BhB,6BAA6B,CAACX,IAAD,CAA7B,IAAuC,SADZ,CAA7B;;AAGF,SAAK,cAAL;AACE,mCAAsBA,IAAI,CAACoC,UAA3B;;AACF,SAAK,WAAL;AACE,gCAAmBpC,IAAI,CAACqC,MAAL,CAAYD,UAA/B;;AACF,SAAK,OAAL;AACE,UAAIN,kBAAJ,EAAwB;AACtB,YAAIQ,SAAS,GAAG,EAAhB;;AACA,aAAK,IAAIvH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiF,IAAI,CAAClF,MAAzB,EAAiCC,CAAC,EAAlC,EAAsC;AACpC,cAAIA,CAAC,GAAG,CAAR,EAAW;AACTuH,qBAAS,IAAI,IAAb;AACD;;AACDA,mBAAS,IAAIT,oBAAoB,CAAC7B,IAAI,CAACjF,CAAD,CAAL,EAAU,KAAV,CAAjC;;AACA,cAAIuH,SAAS,CAACxH,MAAV,GAAmB4G,yBAAvB,EAAkD;AAChD;AACA;AACD;AACF;;AACD,0BAAWC,kBAAkB,CAACW,SAAD,CAA7B;AACD,OAbD,MAaO;AACL,YAAMxH,MAAM,GAAGmE,cAAc,CAACC,IAAf,CAAoBc,IAApB,EAA0B+B,yBAAI,CAACQ,IAA/B,IACXvC,IAAI,CAAC+B,yBAAI,CAACQ,IAAN,CADO,GAEXvC,IAAI,CAAClF,MAFT;AAGA,+BAAgBA,MAAhB;AACD;;AACH,SAAK,aAAL;AACE,UAAM0H,SAAS,aAAMxC,IAAI,CAACQ,WAAL,CAAiBxG,IAAvB,cAA+BgG,IAAI,CAAClF,MAApC,MAAf;;AACA,UAAIgH,kBAAJ,EAAwB;AACtB,YAAIQ,UAAS,GAAG,EAAhB;;AACA,aAAK,IAAIvH,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGiF,IAAI,CAAClF,MAAzB,EAAiCC,EAAC,EAAlC,EAAsC;AACpC,cAAIA,EAAC,GAAG,CAAR,EAAW;AACTuH,sBAAS,IAAI,IAAb;AACD;;AACDA,oBAAS,IAAItC,IAAI,CAACjF,EAAD,CAAjB;;AACA,cAAIuH,UAAS,CAACxH,MAAV,GAAmB4G,yBAAvB,EAAkD;AAChD;AACA;AACD;AACF;;AACD,yBAAUc,SAAV,eAAwBb,kBAAkB,CAACW,UAAD,CAA1C;AACD,OAbD,MAaO;AACL,eAAOE,SAAP;AACD;;AACH,SAAK,UAAL;AACE,UAAMxI,IAAI,GAAGgG,IAAI,CAACQ,WAAL,CAAiBxG,IAA9B;;AAEA,UAAI8H,kBAAJ,EAAwB;AACtB;AACA;AACA;AACA;AACA,YAAMzH,KAAK,GAAGQ,KAAK,CAACsE,IAAN,CAAWa,IAAX,CAAd;AAEA,YAAIsC,WAAS,GAAG,EAAhB;;AACA,aAAK,IAAIvH,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGV,KAAK,CAACS,MAA1B,EAAkCC,GAAC,EAAnC,EAAuC;AACrC,cAAM0H,cAAc,GAAGpI,KAAK,CAACU,GAAD,CAA5B;;AAEA,cAAIA,GAAC,GAAG,CAAR,EAAW;AACTuH,uBAAS,IAAI,IAAb;AACD,WALoC,CAOrC;AACA;AACA;AACA;AACA;;;AACA,cAAIzH,KAAK,CAAC0E,OAAN,CAAckD,cAAd,CAAJ,EAAmC;AACjC,gBAAMnJ,GAAG,GAAGuI,oBAAoB,CAACY,cAAc,CAAC,CAAD,CAAf,EAAoB,IAApB,CAAhC;AACA,gBAAM7F,KAAK,GAAGiF,oBAAoB,CAACY,cAAc,CAAC,CAAD,CAAf,EAAoB,KAApB,CAAlC;AACAH,uBAAS,cAAOhJ,GAAP,iBAAiBsD,KAAjB,CAAT;AACD,WAJD,MAIO;AACL0F,uBAAS,IAAIT,oBAAoB,CAACY,cAAD,EAAiB,KAAjB,CAAjC;AACD;;AAED,cAAIH,WAAS,CAACxH,MAAV,GAAmB4G,yBAAvB,EAAkD;AAChD;AACA;AACD;AACF;;AAED,yBAAU1H,IAAV,cAAkBgG,IAAI,CAACuC,IAAvB,gBAAiCZ,kBAAkB,CAACW,WAAD,CAAnD;AACD,OAnCD,MAmCO;AACL,yBAAUtI,IAAV,cAAkBgG,IAAI,CAACuC,IAAvB;AACD;;AACH,SAAK,iBAAL;AAAwB;AACtB,eAAOvC,IAAI,CAACvI,MAAM,CAACiL,WAAR,CAAX;AACD;;AACD,SAAK,MAAL;AACE,aAAO1C,IAAI,CAACtH,QAAL,EAAP;;AACF,SAAK,QAAL;AACE,UAAIoJ,kBAAJ,EAAwB;AACtB,YAAMjJ,IAAI,GAAGgC,KAAK,CAACsE,IAAN,CAAWxG,oBAAoB,CAACqH,IAAD,CAA/B,EAAuC2C,IAAvC,CAA4CpK,aAA5C,CAAb;AAEA,YAAI+J,WAAS,GAAG,EAAhB;;AACA,aAAK,IAAIvH,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGlC,IAAI,CAACiC,MAAzB,EAAiCC,GAAC,EAAlC,EAAsC;AACpC,cAAMzB,IAAG,GAAGT,IAAI,CAACkC,GAAD,CAAhB;;AACA,cAAIA,GAAC,GAAG,CAAR,EAAW;AACTuH,uBAAS,IAAI,IAAb;AACD;;AACDA,qBAAS,cAAOhJ,IAAG,CAACZ,QAAJ,EAAP,eAA0BmJ,oBAAoB,CACrD7B,IAAI,CAAC1G,IAAD,CADiD,EAErD,KAFqD,CAA9C,CAAT;;AAIA,cAAIgJ,WAAS,CAACxH,MAAV,GAAmB4G,yBAAvB,EAAkD;AAChD;AACA;AACD;AACF;;AACD,0BAAWC,kBAAkB,CAACW,WAAD,CAA7B;AACD,OAnBD,MAmBO;AACL,eAAO,KAAP;AACD;;AACH,SAAK,SAAL;AACA,SAAK,QAAL;AACA,SAAK,UAAL;AACA,SAAK,KAAL;AACA,SAAK,MAAL;AACA,SAAK,WAAL;AACE,aAAOtC,IAAP;;AACF;AACE,UAAI;AACF,eAAO2B,kBAAkB,CAAC,KAAK3B,IAAN,CAAzB;AACD,OAFD,CAEE,OAAO7C,KAAP,EAAc;AACd,eAAO,gBAAP;AACD;;AA9IL;AAgJD,C;;;;;;;ACh0BD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;AASA;AACA;AACA;AACA;AACA;AAEO,IAAMyF,sBAAsB,GAAG,MAA/B;AACA,IAAMC,6BAA6B,GAAG,+BAAtC;AAEA,IAAMC,cAAc,GAAG,MAAvB;AACA,IAAMC,qBAAqB,GAAG,uBAA9B;AAEA,IAAMC,mCAAmC,GAAG,0BAA5C;AAEA,IAAMC,cAAc,GAAG,MAAvB;AACA,IAAMC,qBAAqB,GAAG,uBAA9B;AAEA,IAAMC,yBAAyB,GAAG,MAAlC;AACA,IAAMC,gCAAgC,GAC3C,gCADK;AAGA,IAAMC,kBAAkB,GAAG,MAA3B;AACA,IAAMC,yBAAyB,GAAG,2BAAlC;AAEA,IAAMC,eAAe,GAAG,MAAxB;AACA,IAAMC,sBAAsB,GAAG,wBAA/B;AAEA,IAAMC,WAAW,GAAG,MAApB;AACA,IAAMC,kBAAkB,GAAG,oBAA3B;AAEA,IAAMC,WAAW,GAAG,MAApB;AACA,IAAMC,kBAAkB,GAAG,oBAA3B;AAEA,IAAMC,gBAAgB,GAAG,MAAzB;AACA,IAAMC,uBAAuB,GAAG,yBAAhC;AAEA,IAAMC,aAAa,GAAG,MAAtB;AACA,IAAMC,oBAAoB,GAAG,sBAA7B;AAEA,IAAMC,eAAe,GAAG,MAAxB;AACA,IAAMC,sBAAsB,GAAG,wBAA/B;AAEA,IAAMC,eAAe,GAAG,MAAxB;AACA,IAAMC,sBAAsB,GAAG,wBAA/B;AAEA,IAAMC,YAAY,GAAG,MAArB;AACA,IAAMC,mBAAmB,GAAG,qBAA5B;AAEA,IAAMC,kBAAkB,GAAG,MAA3B;AACA,IAAMC,yBAAyB,GAAG,2BAAlC;AAEA,IAAMC,eAAe,GAAG,MAAxB;AACA,IAAMC,sBAAsB,GAAG,wBAA/B;AAEA,IAAMC,oBAAoB,GAAG,MAA7B;AACA,IAAMC,2BAA2B,GAAG,6BAApC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChEP;;;;;;;;AASA;AACA;AACA;AAIO,SAASC,cAAT,CACL7E,IADK,EAEL8E,aAFK,EAIkB;AAAA,MADvBjG,IACuB,uEADS,EACT;;AACvB,MAAImB,IAAI,KAAK,IAAb,EAAmB;AACjB,QAAM+E,YAAY,GAAG,EAArB;AACA,QAAMC,mBAAmB,GAAG,EAA5B;AACA,QAAMC,WAAW,GAAGC,oEAAS,CAC3BlF,IAD2B,EAE3B+E,YAF2B,EAG3BC,mBAH2B,EAI3BnG,IAJ2B,EAK3BiG,aAL2B,CAA7B;AAQA,WAAO;AACL9E,UAAI,EAAEiF,WADD;AAELE,aAAO,EAAEJ,YAFJ;AAGLK,oBAAc,EAAEJ;AAHX,KAAP;AAKD,GAhBD,MAgBO;AACL,WAAO,IAAP;AACD;AACF;AAEM,SAASK,eAAT,CAAyBzI,KAAzB,EAA2C;AAChD,MAAM0I,UAAU,GAAGC,iBAAiB,CAAC3I,KAAD,CAApC;AACA,MAAM4I,IAAI,GAAGF,UAAU,KAAK3K,SAAf,GAA2B,WAA3B,GAAyC2K,UAAtD;AAFgD,MAGzCG,iBAHyC,GAGpBC,MAAM,CAACC,8BAHa,CAGzCF,iBAHyC,EAKhD;AACA;AACA;AACA;AACA;;AACA,MAAI,OAAOA,iBAAP,KAA6B,UAAjC,EAA6C;AAC3CA,qBAAiB,CAACD,IAAD,CAAjB,CAAwBI,KAAxB,CAA8B,UAAAC,GAAG,EAAI,CAAE,CAAvC;AACD,GAFD,MAEO;AACLC,6DAAI,CAACN,IAAD,CAAJ;AACD;AACF;AAEM,SAASO,cAAT,CACLnN,GADK,EAELiG,IAFK,EAIgB;AAAA,MADrBmH,KACqB,uEADL,CACK;AACrB,MAAM1M,GAAG,GAAGuF,IAAI,CAACmH,KAAD,CAAhB;AACA,MAAMC,OAAO,GAAG1G,sEAAO,CAAC3G,GAAD,CAAP,GAAeA,GAAG,CAAC+C,KAAJ,EAAf,qBAAiC/C,GAAjC,CAAhB;;AACA,MAAIoN,KAAK,GAAG,CAAR,KAAcnH,IAAI,CAAC/D,MAAvB,EAA+B;AAC7B,QAAIyE,sEAAO,CAAC0G,OAAD,CAAX,EAAsB;AACpBA,aAAO,CAACzG,MAAR,CAAiBlG,GAAjB,EAAqC,CAArC;AACD,KAFD,MAEO;AACL,aAAO2M,OAAO,CAAC3M,GAAD,CAAd;AACD;AACF,GAND,MAMO;AACL;AACA2M,WAAO,CAAC3M,GAAD,CAAP,GAAeyM,cAAc,CAACnN,GAAG,CAACU,GAAD,CAAJ,EAAWuF,IAAX,EAAiBmH,KAAK,GAAG,CAAzB,CAA7B;AACD;;AACD,SAAOC,OAAP;AACD,C,CAED;AACA;;AACO,SAASC,cAAT,CACLtN,GADK,EAEL8G,OAFK,EAGLC,OAHK,EAKgB;AAAA,MADrBqG,KACqB,uEADL,CACK;AACrB,MAAMG,MAAM,GAAGzG,OAAO,CAACsG,KAAD,CAAtB;AACA,MAAMC,OAAO,GAAG1G,sEAAO,CAAC3G,GAAD,CAAP,GAAeA,GAAG,CAAC+C,KAAJ,EAAf,qBAAiC/C,GAAjC,CAAhB;;AACA,MAAIoN,KAAK,GAAG,CAAR,KAActG,OAAO,CAAC5E,MAA1B,EAAkC;AAChC,QAAMsL,MAAM,GAAGzG,OAAO,CAACqG,KAAD,CAAtB,CADgC,CAEhC;;AACAC,WAAO,CAACG,MAAD,CAAP,GAAkBH,OAAO,CAACE,MAAD,CAAzB;;AACA,QAAI5G,sEAAO,CAAC0G,OAAD,CAAX,EAAsB;AACpBA,aAAO,CAACzG,MAAR,CAAiB2G,MAAjB,EAAwC,CAAxC;AACD,KAFD,MAEO;AACL,aAAOF,OAAO,CAACE,MAAD,CAAd;AACD;AACF,GATD,MASO;AACL;AACAF,WAAO,CAACE,MAAD,CAAP,GAAkBD,cAAc,CAACtN,GAAG,CAACuN,MAAD,CAAJ,EAAczG,OAAd,EAAuBC,OAAvB,EAAgCqG,KAAK,GAAG,CAAxC,CAAhC;AACD;;AACD,SAAOC,OAAP;AACD;AAEM,SAASI,WAAT,CACLzN,GADK,EAELiG,IAFK,EAGLjC,KAHK,EAKgB;AAAA,MADrBoJ,KACqB,uEADL,CACK;;AACrB,MAAIA,KAAK,IAAInH,IAAI,CAAC/D,MAAlB,EAA0B;AACxB,WAAO8B,KAAP;AACD;;AACD,MAAMtD,GAAG,GAAGuF,IAAI,CAACmH,KAAD,CAAhB;AACA,MAAMC,OAAO,GAAG1G,sEAAO,CAAC3G,GAAD,CAAP,GAAeA,GAAG,CAAC+C,KAAJ,EAAf,qBAAiC/C,GAAjC,CAAhB,CALqB,CAMrB;;AACAqN,SAAO,CAAC3M,GAAD,CAAP,GAAe+M,WAAW,CAACzN,GAAG,CAACU,GAAD,CAAJ,EAAWuF,IAAX,EAAiBjC,KAAjB,EAAwBoJ,KAAK,GAAG,CAAhC,CAA1B;AACA,SAAOC,OAAP;AACD;AAEM,SAASK,kBAAT,CAA4BC,IAA5B,EAA0C;AAC/C;AACA;AACA,MAAIC,cAAc,GAAG,IAArB;AACA,MAAIC,qBAAqB,GAAG,IAA5B;AACA,MAAMC,QAAQ,GAAGH,IAAI,CAACxN,OAAtB;;AACA,MAAI2N,QAAQ,IAAI,IAAhB,EAAsB;AACpB,QAAMC,SAAS,GAAGD,QAAQ,CAACC,SAA3B;;AACA,QAAIA,SAAS,IAAI,IAAjB,EAAuB;AACrBH,oBAAc,GACZG,SAAS,CAACH,cAAV,IAA4B,IAA5B,GAAmCG,SAAS,CAACH,cAA7C,GAA8D,IADhE;AAEAC,2BAAqB,GACnBE,SAAS,CAACF,qBAAV,IAAmC,IAAnC,GACIE,SAAS,CAACF,qBADd,GAEI,IAHN;AAID;AACF;;AACD,SAAO;AAACD,kBAAc,EAAdA,cAAD;AAAiBC,yBAAqB,EAArBA;AAAjB,GAAP;AACD;AAEM,SAASlB,iBAAT,CAA2BvF,IAA3B,EAA8C;AACnD,MAAM4G,KAAK,GAAG,IAAI9N,GAAJ,EAAd,CADmD,CAEnD;;AACA,SAAOmE,IAAI,CAACM,SAAL,CAAeyC,IAAf,EAAqB,UAAC1G,GAAD,EAAMsD,KAAN,EAAgB;AAC1C,QAAI,QAAOA,KAAP,MAAiB,QAAjB,IAA6BA,KAAK,KAAK,IAA3C,EAAiD;AAC/C,UAAIgK,KAAK,CAACC,GAAN,CAAUjK,KAAV,CAAJ,EAAsB;AACpB;AACD;;AACDgK,WAAK,CAACpN,GAAN,CAAUoD,KAAV;AACD,KANyC,CAO1C;;;AACA,QAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7B,aAAOA,KAAK,CAAClE,QAAN,KAAmB,GAA1B;AACD;;AACD,WAAOkE,KAAP;AACD,GAZM,CAAP;AAaD,C,CAED;AACA;AACA;AACA;;AACO,SAASkK,MAAT,CACLC,YADK,EAGG;AAAA,oCADLC,SACK;AADLA,aACK;AAAA;;AACR,MAAMC,IAAI,GAAGD,SAAS,CAACrL,KAAV,EAAb,CADQ,CAGR;;AACA,MAAI2G,SAAiB,GACnB,QAAOyE,YAAP,MAAwB,QAAxB,GACIA,YAAY,CAACrO,QAAb,EADJ,GAEI,KAAKqO,YAHX,CAJQ,CASR;;AACA,MAAI,OAAOA,YAAP,KAAwB,QAA5B,EAAsC;AACpC,QAAIE,IAAI,CAACnM,MAAT,EAAiB;AACf,UAAMoM,MAAM,GAAG,iBAAf;AAEA5E,eAAS,GAAGA,SAAS,CAAC6E,OAAV,CAAkBD,MAAlB,EAA0B,UAAC9I,KAAD,EAAQgJ,OAAR,EAAiBC,GAAjB,EAAsBC,IAAtB,EAA+B;AACnE,YAAIC,GAAG,GAAGN,IAAI,CAACO,KAAL,EAAV;;AACA,gBAAQF,IAAR;AACE,eAAK,GAAL;AACEC,eAAG,IAAI,EAAP;AACA;;AACF,eAAK,GAAL;AACA,eAAK,GAAL;AACEA,eAAG,GAAGjS,QAAQ,CAACiS,GAAD,EAAM,EAAN,CAAR,CAAkB7O,QAAlB,EAAN;AACA;;AACF,eAAK,GAAL;AACE6O,eAAG,GAAGE,UAAU,CAACF,GAAD,CAAV,CAAgB7O,QAAhB,EAAN;AACA;AAVJ;;AAYA,YAAI,CAAC0O,OAAL,EAAc;AACZ,iBAAOG,GAAP;AACD;;AACDN,YAAI,CAAC3I,OAAL,CAAaiJ,GAAb;AACA,eAAOnJ,KAAP;AACD,OAnBW,CAAZ;AAoBD;AACF,GAnCO,CAqCR;;;AACA,MAAI6I,IAAI,CAACnM,MAAT,EAAiB;AACf,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkM,IAAI,CAACnM,MAAzB,EAAiCC,CAAC,EAAlC,EAAsC;AACpC,UAAMwM,GAAG,GAAGN,IAAI,CAAClM,CAAD,CAAhB,CADoC,CAGpC;;AACAuH,eAAS,IAAI,OAAO,QAAOiF,GAAP,MAAe,QAAf,GAA0BA,GAAG,CAAC7O,QAAJ,EAA1B,GAA2C6O,GAAlD,CAAb;AACD;AACF,GA7CO,CA+CR;;;AACAjF,WAAS,GAAGA,SAAS,CAAC6E,OAAV,CAAkB,SAAlB,EAA6B,GAA7B,CAAZ;AAEA,SAAO,KAAK7E,SAAZ;AACD;AAEM,SAASoF,yBAAT,GAA8C;AACnD,SAAO,CAAC,EACNhC,MAAM,CAACiC,QAAP,IACAjC,MAAM,CAACiC,QAAP,CAAgBC,aADhB,IAEAlC,MAAM,CAACiC,QAAP,CAAgBC,aAAhB,CAA8BC,aAA9B,CAA4C,UAA5C,CAHM,CAAR;AAKD,C;;;;;;;AChOD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;AASO,SAAS7K,mBAAT,CAA6B1D,GAA7B,EAA+C;AACpD,MAAI;AACF,WAAOwO,YAAY,CAACC,OAAb,CAAqBzO,GAArB,CAAP;AACD,GAFD,CAEE,OAAO6D,KAAP,EAAc;AACd,WAAO,IAAP;AACD;AACF;AAEM,SAAS6K,sBAAT,CAAgC1O,GAAhC,EAAmD;AACxD,MAAI;AACFwO,gBAAY,CAACG,UAAb,CAAwB3O,GAAxB;AACD,GAFD,CAEE,OAAO6D,KAAP,EAAc,CAAE;AACnB;AAEM,SAASG,mBAAT,CAA6BhE,GAA7B,EAA0CsD,KAA1C,EAA4D;AACjE,MAAI;AACF,WAAOkL,YAAY,CAACI,OAAb,CAAqB5O,GAArB,EAA0BsD,KAA1B,CAAP;AACD,GAFD,CAEE,OAAOO,KAAP,EAAc,CAAE;AACnB;AAEM,SAASgL,qBAAT,CAA+B7O,GAA/B,EAAiD;AACtD,MAAI;AACF,WAAO8O,cAAc,CAACL,OAAf,CAAuBzO,GAAvB,CAAP;AACD,GAFD,CAEE,OAAO6D,KAAP,EAAc;AACd,WAAO,IAAP;AACD;AACF;AAEM,SAASkL,wBAAT,CAAkC/O,GAAlC,EAAqD;AAC1D,MAAI;AACF8O,kBAAc,CAACH,UAAf,CAA0B3O,GAA1B;AACD,GAFD,CAEE,OAAO6D,KAAP,EAAc,CAAE;AACnB;AAEM,SAASmL,qBAAT,CAA+BhP,GAA/B,EAA4CsD,KAA5C,EAA8D;AACnE,MAAI;AACF,WAAOwL,cAAc,CAACF,OAAf,CAAuB5O,GAAvB,EAA4BsD,KAA5B,CAAP;AACD,GAFD,CAEE,OAAOO,KAAP,EAAc,CAAE;AACnB,C;;;;;;;AC/CY;;AAEb,IAAIoL,IAAJ,EAA2C;AACzCC,QAAM,CAACC,OAAP,GAAiBC,mBAAO,CAAC,EAAD,CAAxB;AACD,CAFD,MAEO,E;;;;;;;ACJP;;;;;AAMa;AACb;;AACA,IAAIxP,qBAAqB,GAAGD,MAAM,CAACC,qBAAnC;AACA,IAAI+F,cAAc,GAAGhG,MAAM,CAACyH,SAAP,CAAiBzB,cAAtC;AACA,IAAI0J,gBAAgB,GAAG1P,MAAM,CAACyH,SAAP,CAAiBkI,oBAAxC;;AAEA,SAASC,QAAT,CAAkBC,GAAlB,EAAuB;AACtB,MAAIA,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAKnO,SAA5B,EAAuC;AACtC,UAAM,IAAIoO,SAAJ,CAAc,uDAAd,CAAN;AACA;;AAED,SAAO9P,MAAM,CAAC6P,GAAD,CAAb;AACA;;AAED,SAASE,eAAT,GAA2B;AAC1B,MAAI;AACH,QAAI,CAAC/P,MAAM,CAACgQ,MAAZ,EAAoB;AACnB,aAAO,KAAP;AACA,KAHE,CAKH;AAEA;;;AACA,QAAIC,KAAK,GAAG,IAAI5O,MAAJ,CAAW,KAAX,CAAZ,CARG,CAQ6B;;AAChC4O,SAAK,CAAC,CAAD,CAAL,GAAW,IAAX;;AACA,QAAIjQ,MAAM,CAACkQ,mBAAP,CAA2BD,KAA3B,EAAkC,CAAlC,MAAyC,GAA7C,EAAkD;AACjD,aAAO,KAAP;AACA,KAZE,CAcH;;;AACA,QAAIE,KAAK,GAAG,EAAZ;;AACA,SAAK,IAAIrO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC5BqO,WAAK,CAAC,MAAM9O,MAAM,CAAC+O,YAAP,CAAoBtO,CAApB,CAAP,CAAL,GAAsCA,CAAtC;AACA;;AACD,QAAIuO,MAAM,GAAGrQ,MAAM,CAACkQ,mBAAP,CAA2BC,KAA3B,EAAkCG,GAAlC,CAAsC,UAAUC,CAAV,EAAa;AAC/D,aAAOJ,KAAK,CAACI,CAAD,CAAZ;AACA,KAFY,CAAb;;AAGA,QAAIF,MAAM,CAACjN,IAAP,CAAY,EAAZ,MAAoB,YAAxB,EAAsC;AACrC,aAAO,KAAP;AACA,KAxBE,CA0BH;;;AACA,QAAIoN,KAAK,GAAG,EAAZ;AACA,2BAAuBC,KAAvB,CAA6B,EAA7B,EAAiCrQ,OAAjC,CAAyC,UAAUsQ,MAAV,EAAkB;AAC1DF,WAAK,CAACE,MAAD,CAAL,GAAgBA,MAAhB;AACA,KAFD;;AAGA,QAAI1Q,MAAM,CAACJ,IAAP,CAAYI,MAAM,CAACgQ,MAAP,CAAc,EAAd,EAAkBQ,KAAlB,CAAZ,EAAsCpN,IAAtC,CAA2C,EAA3C,MACF,sBADF,EAC0B;AACzB,aAAO,KAAP;AACA;;AAED,WAAO,IAAP;AACA,GArCD,CAqCE,OAAOwJ,GAAP,EAAY;AACb;AACA,WAAO,KAAP;AACA;AACD;;AAED2C,MAAM,CAACC,OAAP,GAAiBO,eAAe,KAAK/P,MAAM,CAACgQ,MAAZ,GAAqB,UAAUW,MAAV,EAAkBC,MAAlB,EAA0B;AAC9E,MAAI1K,IAAJ;AACA,MAAI2K,EAAE,GAAGjB,QAAQ,CAACe,MAAD,CAAjB;AACA,MAAIG,OAAJ;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACnP,MAA9B,EAAsCkP,CAAC,EAAvC,EAA2C;AAC1C7K,QAAI,GAAGlG,MAAM,CAACgR,SAAS,CAACD,CAAD,CAAV,CAAb;;AAEA,SAAK,IAAI1Q,GAAT,IAAgB6F,IAAhB,EAAsB;AACrB,UAAIF,cAAc,CAACC,IAAf,CAAoBC,IAApB,EAA0B7F,GAA1B,CAAJ,EAAoC;AACnCwQ,UAAE,CAACxQ,GAAD,CAAF,GAAU6F,IAAI,CAAC7F,GAAD,CAAd;AACA;AACD;;AAED,QAAIJ,qBAAJ,EAA2B;AAC1B6Q,aAAO,GAAG7Q,qBAAqB,CAACiG,IAAD,CAA/B;;AACA,WAAK,IAAIpE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgP,OAAO,CAACjP,MAA5B,EAAoCC,CAAC,EAArC,EAAyC;AACxC,YAAI4N,gBAAgB,CAACzJ,IAAjB,CAAsBC,IAAtB,EAA4B4K,OAAO,CAAChP,CAAD,CAAnC,CAAJ,EAA6C;AAC5C+O,YAAE,CAACC,OAAO,CAAChP,CAAD,CAAR,CAAF,GAAiBoE,IAAI,CAAC4K,OAAO,CAAChP,CAAD,CAAR,CAArB;AACA;AACD;AACD;AACD;;AAED,SAAO+O,EAAP;AACA,CAzBD,C;;;;;;;;;;;;;;;;;;;;;;AChEA;;;;;;;;AAYA;AAEA;AACA;AACA;AAEA,IAAMI,wBAAwB,GAAG,CAAC,OAAD,EAAU,OAAV,EAAmB,MAAnB,EAA2B,KAA3B,CAAjC;AACA,IAAMC,yBAAyB,GAAG,kBAAlC,C,CAEA;AACA;;AACA,IAAMC,YAAY,GAAG,mBAArB,C,CACA;AACA;;AACA,IAAMC,uBAAuB,GAAG,gBAAhC;AAEO,SAASC,sBAAT,CAAgC9E,IAAhC,EAAuD;AAC5D,SAAO4E,YAAY,CAACG,IAAb,CAAkB/E,IAAlB,KAA2B6E,uBAAuB,CAACE,IAAxB,CAA6B/E,IAA7B,CAAlC;AACD;AAQD,IAAMgF,iBASL,GAAG,IAAIC,GAAJ,EATJ;AAWA,IAAIC,aAAqB,GAAGjO,OAA5B;AACA,IAAIkO,oBAAoB,GAAG,EAA3B;;AACA,KAAK,IAAMC,MAAX,IAAqBnO,OAArB,EAA8B;AAC5BkO,sBAAoB,CAACC,MAAD,CAApB,GAA+BnO,OAAO,CAACmO,MAAD,CAAtC;AACD;;AAED,IAAIC,SAA8B,GAAG,IAArC;AAEA,IAAIC,MAAM,GAAG,KAAb;;AACA,IAAI;AACFA,QAAM,GAAG,SAAI,KAAKC,MAAlB;AACD,CAFD,CAEE,OAAO5N,KAAP,EAAc,CAAE,C,CAElB;;;AACO,SAAS6N,oCAAT,CACLC,uBADK,EAEC;AACNP,eAAa,GAAGO,uBAAhB;AAEAN,sBAAoB,GAAG,EAAvB;;AACA,OAAK,IAAMC,OAAX,IAAqBF,aAArB,EAAoC;AAClCC,wBAAoB,CAACC,OAAD,CAApB,GAA+BnO,OAAO,CAACmO,OAAD,CAAtC;AACD;AACF,C,CAED;AACA;AACA;;AACO,SAASM,gBAAT,CACLC,QADK,EAELC,gBAFK,EAGC;AAAA,MAEJC,oBAFI,GAOFF,QAPE,CAEJE,oBAFI;AAAA,MAGJC,eAHI,GAOFH,QAPE,CAGJG,eAHI;AAAA,MAIJC,eAJI,GAOFJ,QAPE,CAIJI,eAJI;AAAA,MAKJC,uBALI,GAOFL,QAPE,CAKJK,uBALI;AAAA,MAMJC,OANI,GAOFN,QAPE,CAMJM,OANI,EASN;;AACA,MAAI,OAAOD,uBAAP,KAAmC,UAAvC,EAAmD;AACjD;AACD,GAZK,CAcN;AACA;;;AACA,MAAIH,oBAAoB,IAAI,IAAxB,IAAgC,OAAOC,eAAP,KAA2B,UAA/D,EAA2E;AAAA,gCAC/CI,mFAAyB,CAACD,OAAD,CADsB;AAAA,QAClEE,eADkE,yBAClEA,eADkE;;AAGzEnB,qBAAiB,CAACvQ,GAAlB,CAAsBkR,QAAtB,EAAgC;AAC9BE,0BAAoB,EAApBA,oBAD8B;AAE9BC,qBAAe,EAAfA,eAF8B;AAG9BC,qBAAe,EAAfA,eAH8B;AAI9BK,gBAAU,EAAED,eAJkB;AAK9BP,sBAAgB,EAAhBA;AAL8B,KAAhC;AAOD;AACF;AAED,IAAMS,kBAAkB,GAAG;AACzBC,sBAAoB,EAAE,KADG;AAEzBC,sBAAoB,EAAE,KAFG;AAGzBC,6BAA2B,EAAE,KAHJ;AAIzBC,6BAA2B,EAAE;AAJJ,CAA3B,C,CAOA;AACA;AACA;;AACO,SAASC,KAAT,OAYE;AAAA,MAXPJ,oBAWO,QAXPA,oBAWO;AAAA,MAVPC,oBAUO,QAVPA,oBAUO;AAAA,MATPC,2BASO,QATPA,2BASO;AAAA,MARPC,2BAQO,QARPA,2BAQO;AAAA,MAPPE,YAOO,QAPPA,YAOO;AACP;AACA;AACAN,oBAAkB,CAACC,oBAAnB,GAA0CA,oBAA1C;AACAD,oBAAkB,CAACE,oBAAnB,GAA0CA,oBAA1C;AACAF,oBAAkB,CAACG,2BAAnB,GAAiDA,2BAAjD;AACAH,oBAAkB,CAACI,2BAAnB,GAAiDA,2BAAjD;;AAEA,MAAIpB,SAAS,KAAK,IAAlB,EAAwB;AACtB;AACA;AACD;;AAED,MAAMuB,sBAAsB,GAAG,EAA/B;;AAEAvB,WAAS,GAAG,qBAAM;AAChB,SAAK,IAAMD,QAAX,IAAqBwB,sBAArB,EAA6C;AAC3C,UAAI;AACF;AACA1B,qBAAa,CAACE,QAAD,CAAb,GAAwBwB,sBAAsB,CAACxB,QAAD,CAA9C;AACD,OAHD,CAGE,OAAOzN,KAAP,EAAc,CAAE;AACnB;AACF,GAPD;;AASA+M,0BAAwB,CAAC7Q,OAAzB,CAAiC,UAAAuR,MAAM,EAAI;AACzC,QAAI;AACF,UAAMyB,cAAc,GAAID,sBAAsB,CAACxB,MAAD,CAAtB,GAAiCF,aAAa,CACpEE,MADoE,CAAb,CAEvD0B,kCAFuD,GAGrD5B,aAAa,CAACE,MAAD,CAAb,CAAsB0B,kCAH+B,GAIrD5B,aAAa,CAACE,MAAD,CAJjB;;AAMA,UAAM2B,cAAc,GAAG,SAAjBA,cAAiB,GAAa;AAClC,YAAIC,wBAAwB,GAAG,KAA/B;;AADkC,0CAATvF,IAAS;AAATA,cAAS;AAAA;;AAElC,YAAI2D,MAAM,KAAK,KAAf,EAAsB;AACpB,cAAIiB,kBAAkB,CAACC,oBAAvB,EAA6C;AAC3C,gBAAMW,OAAO,GAAGxF,IAAI,CAACnM,MAAL,GAAc,CAAd,GAAkBmM,IAAI,CAACA,IAAI,CAACnM,MAAL,GAAc,CAAf,CAAtB,GAA0C,IAA1D;AACA,gBAAM4R,wBAAwB,GAC5B,OAAOD,OAAP,KAAmB,QAAnB,IAA+BnC,sBAAsB,CAACmC,OAAD,CADvD,CAF2C,CAK3C;AACA;;AACAD,oCAAwB,GAAG,CAACE,wBAA5B;AACD;AACF;;AAED,YAAMC,iCAAiC,GACrCd,kBAAkB,CAACG,2BAAnB,KACCpB,MAAM,KAAK,OAAX,IAAsBA,MAAM,KAAK,MADlC,CADF;AAIA,YAAIgC,cAAc,GAAG,KAArB,CAlBkC,CAoBlC;AACA;AACA;;AAtBkC,mDA6B7BpC,iBAAiB,CAACqC,MAAlB,EA7B6B;AAAA;;AAAA;AAuBlC,8DAMiC;AAAA;AAAA,gBAL/BxB,oBAK+B,eAL/BA,oBAK+B;AAAA,gBAJ/BC,eAI+B,eAJ/BA,eAI+B;AAAA,gBAH/BF,gBAG+B,eAH/BA,gBAG+B;AAAA,gBAF/BQ,UAE+B,eAF/BA,UAE+B;AAAA,gBAD/BL,eAC+B,eAD/BA,eAC+B;AAC/B,gBAAMxS,OAAe,GAAGuS,eAAe,EAAvC;;AACA,gBAAIvS,OAAO,IAAI,IAAf,EAAqB;AACnB,kBAAI;AACF,oBAAI,OAAOwS,eAAP,KAA2B,UAA3B,IAAyCA,eAAe,EAA5D,EAAgE;AAC9DqB,gCAAc,GAAG,IAAjB;AACD;;AAED,oBAAID,iCAAJ,EAAuC;AACrC;AACA;AACA,sBAAI,OAAOvB,gBAAP,KAA4B,UAAhC,EAA4C;AAC1CA,oCAAgB,CACdrS,OADc,EAEZ6R,MAFY,EAGd;AACA3D,wBAAI,CAACtL,KAAL,EAJc,CAAhB;AAMD;AACF;;AAED,oBAAI6Q,wBAAJ,EAA8B;AAC5B,sBAAMM,cAAc,GAAGC,wGAA2B,CAChDnB,UADgD,EAEhD7S,OAFgD,EAGhDsS,oBAHgD,CAAlD;;AAKA,sBAAIyB,cAAc,KAAK,EAAvB,EAA2B;AACzB7F,wBAAI,CAACrL,IAAL,CAAUkR,cAAV;AACD;AACF;AACF,eA5BD,CA4BE,OAAO3P,KAAP,EAAc;AACd;AACA6P,0BAAU,CAAC,YAAM;AACf,wBAAM7P,KAAN;AACD,iBAFS,EAEP,CAFO,CAAV;AAGD,eAjCD,SAiCU;AACR;AACD;AACF;AACF;AArEiC;AAAA;AAAA;AAAA;AAAA;;AAuElC,YAAI0O,kBAAkB,CAACE,oBAAvB,EAA6C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACD;;AAED,YAAIkB,6GAAwC,IAAIL,cAAhD,EAAgE;AAC9D,cAAI,CAACf,kBAAkB,CAACI,2BAAxB,EAAqD;AACnD;AACA;AACA,gBAAInB,MAAJ,EAAY;AACVuB,4BAAc,CAAClC,yBAAD,EAA4BrD,qDAAM,MAAN,SAAUG,IAAV,CAA5B,CAAd;AACD,aAFD,MAEO;AACL,kBAAIiG,KAAJ;;AACA,sBAAQtC,MAAR;AACE,qBAAK,MAAL;AACEsC,uBAAK,GACHf,YAAY,KAAK,OAAjB,GACI5D,0BADJ,GAEIA,yBAHN;AAIA;;AACF,qBAAK,OAAL;AACE2E,uBAAK,GACHf,YAAY,KAAK,OAAjB,GACI5D,2BADJ,GAEIA,0BAHN;AAIA;;AACF,qBAAK,KAAL;AACA;AACE2E,uBAAK,GACHf,YAAY,KAAK,OAAjB,GACI5D,2BADJ,GAEIA,0BAHN;AAIA;AAnBJ;;AAsBA,kBAAI2E,KAAJ,EAAW;AACTb,8BAAc,aAAMvF,qDAAM,MAAN,SAAUG,IAAV,CAAN,oBAAmCiG,KAAnC,EAAd;AACD,eAFD,MAEO;AACL,sBAAM1Q,KAAK,CAAC,8BAAD,CAAX;AACD;AACF;AACF;AACF,SArCD,MAqCO;AACL6P,wBAAc,MAAd,SAAkBpF,IAAlB;AACD;AACF,OAxHD;;AA0HAsF,oBAAc,CAACD,kCAAf,GAAoDD,cAApD;AACAA,oBAAc,CAACc,kCAAf,GAAoDZ,cAApD,CAlIE,CAoIF;;AACA7B,mBAAa,CAACE,MAAD,CAAb,GAAwB2B,cAAxB;AACD,KAtID,CAsIE,OAAOpP,KAAP,EAAc,CAAE;AACnB,GAxID;AAyID,C,CAED;;AACO,SAASiQ,OAAT,GAAyB;AAC9B,MAAIvC,SAAS,KAAK,IAAlB,EAAwB;AACtBA,aAAS;AACTA,aAAS,GAAG,IAAZ;AACD;AACF,C;;;;;;;;AC5SD;AAAA;AAAA;AAAA;;;;;;;;;AASA;;;;;AAMO,IAAMwC,gCAAgC,GAAG,KAAzC;AACA,IAAMC,uBAAuB,GAAG,KAAhC;AAEA,IAAML,wCAAwC,GAAG,KAAjD;AAEP;;;;;AAUA;AACC,IAAD,C;;;;;;;;;;;;;;;;;;AC/BA;;;;;;;;AASA;AAWO,IAAMlL,IAAI,GAAG;AAClBwL,aAAW,EAAE9V,MAAM,CAAC,aAAD,CADD;AAElB+V,WAAS,EAAE/V,MAAM,CAAC,WAAD,CAFC;AAGlBuC,MAAI,EAAEvC,MAAM,CAAC,MAAD,CAHM;AAIlBuK,cAAY,EAAEvK,MAAM,CAAC,cAAD,CAJF;AAKlBwK,eAAa,EAAExK,MAAM,CAAC,eAAD,CALH;AAMlBgW,UAAQ,EAAEhW,MAAM,CAAC,UAAD,CANE;AAOlB8K,MAAI,EAAE9K,MAAM,CAAC,MAAD,CAPM;AAQlBkC,MAAI,EAAElC,MAAM,CAAC,MAAD,CARM;AASlB2N,gBAAc,EAAE3N,MAAM,CAAC,gBAAD;AATJ,CAAb;AAqCP;AACA;AACA;AACA;AACA;AACA;AACA,IAAMiW,eAAe,GAAG,CAAxB;AAEA;;;;AAGA,SAASC,gBAAT,CACEhU,IADF,EAEE4T,WAFF,EAGEvN,IAHF,EAIEmF,OAJF,EAKEtG,IALF,EAMc;AACZsG,SAAO,CAACvJ,IAAR,CAAaiD,IAAb;AAEA,MAAM+O,UAAsB,GAAG;AAC7BL,eAAW,EAAXA,WAD6B;AAE7B5T,QAAI,EAAJA,IAF6B;AAG7BqI,gBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAHL;AAI7BiC,iBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAJN;AAK7BhG,QAAI,EACF,CAACgG,IAAI,CAACQ,WAAN,IAAqBR,IAAI,CAACQ,WAAL,CAAiBxG,IAAjB,KAA0B,QAA/C,GACI,EADJ,GAEIgG,IAAI,CAACQ,WAAL,CAAiBxG;AARM,GAA/B;;AAWA,MAAIL,IAAI,KAAK,OAAT,IAAoBA,IAAI,KAAK,aAAjC,EAAgD;AAC9CiU,cAAU,CAACrL,IAAX,GAAkBvC,IAAI,CAAClF,MAAvB;AACD,GAFD,MAEO,IAAInB,IAAI,KAAK,QAAb,EAAuB;AAC5BiU,cAAU,CAACrL,IAAX,GAAkBtJ,MAAM,CAACJ,IAAP,CAAYmH,IAAZ,EAAkBlF,MAApC;AACD;;AAED,MAAInB,IAAI,KAAK,UAAT,IAAuBA,IAAI,KAAK,aAApC,EAAmD;AACjDiU,cAAU,CAACH,QAAX,GAAsB,IAAtB;AACD;;AAED,SAAOG,UAAP;AACD;AAED;;;;;;;;;;;;;;;;;;;;AAkBO,SAAS1I,SAAT,CACLlF,IADK,EAELmF,OAFK,EAGLC,cAHK,EAILvG,IAJK,EAKLiG,aALK,EAawD;AAAA,MAP7D+I,KAO6D,uEAP5C,CAO4C;AAC7D,MAAMlU,IAAI,GAAGoG,kEAAW,CAACC,IAAD,CAAxB;AAEA,MAAI8N,kBAAJ;;AAEA,UAAQnU,IAAR;AACE,SAAK,cAAL;AACEwL,aAAO,CAACvJ,IAAR,CAAaiD,IAAb;AACA,aAAO;AACL0O,mBAAW,EAAE,KADR;AAELtL,qBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAF9B;AAGLgC,oBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAH7B;AAILhG,YAAI,EAAEgG,IAAI,CAACkC,OAJN;AAKLvI,YAAI,EAAJA;AALK,OAAP;;AAQF,SAAK,UAAL;AACEwL,aAAO,CAACvJ,IAAR,CAAaiD,IAAb;AACA,aAAO;AACL0O,mBAAW,EAAE,KADR;AAELtL,qBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAF9B;AAGLgC,oBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAH7B;AAILhG,YAAI,EACF,OAAOgG,IAAI,CAAChG,IAAZ,KAAqB,UAArB,IAAmC,CAACgG,IAAI,CAAChG,IAAzC,GACI,UADJ,GAEIgG,IAAI,CAAChG,IAPN;AAQLL,YAAI,EAAJA;AARK,OAAP;;AAWF,SAAK,QAAL;AACEmU,wBAAkB,GAAGhJ,aAAa,CAACjG,IAAD,CAAlC;;AACA,UAAIiP,kBAAJ,EAAwB;AACtB,eAAO9N,IAAP;AACD,OAFD,MAEO;AACL,eAAOA,IAAI,CAAClF,MAAL,IAAe,GAAf,GAAqBkF,IAArB,GAA4BA,IAAI,CAACrE,KAAL,CAAW,CAAX,EAAc,GAAd,IAAqB,KAAxD;AACD;;AAEH,SAAK,QAAL;AACEwJ,aAAO,CAACvJ,IAAR,CAAaiD,IAAb;AACA,aAAO;AACL0O,mBAAW,EAAE,KADR;AAELtL,qBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAF9B;AAGLgC,oBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAH7B;AAILhG,YAAI,EAAEgG,IAAI,CAACtH,QAAL,EAJD;AAKLiB,YAAI,EAAJA;AALK,OAAP;;AAQF,SAAK,QAAL;AACEwL,aAAO,CAACvJ,IAAR,CAAaiD,IAAb;AACA,aAAO;AACL0O,mBAAW,EAAE,KADR;AAELtL,qBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAF9B;AAGLgC,oBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAH7B;AAILhG,YAAI,EAAEgG,IAAI,CAACtH,QAAL,EAJD;AAKLiB,YAAI,EAAJA;AALK,OAAP;AAQF;AACA;;AACA,SAAK,eAAL;AACEwL,aAAO,CAACvJ,IAAR,CAAaiD,IAAb;AACA,aAAO;AACL0O,mBAAW,EAAE,KADR;AAELtL,qBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAF9B;AAGLgC,oBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAH7B;AAILhG,YAAI,EAAE2G,oFAA6B,CAACX,IAAD,CAA7B,IAAuC,SAJxC;AAKLrG,YAAI,EAAJA;AALK,OAAP;AAQF;;AACA,SAAK,cAAL;AACA,SAAK,WAAL;AACEwL,aAAO,CAACvJ,IAAR,CAAaiD,IAAb;AACA,aAAO;AACL0O,mBAAW,EAAE,KADR;AAELtL,qBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAF9B;AAGLgC,oBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAH7B;AAILhG,YAAI,EAAEL,IAAI,KAAK,WAAT,GAAuB,UAAvB,GAAoC,aAJrC;AAKL4I,YAAI,EAAEvC,IAAI,CAACoC,UALN;AAMLzI,YAAI,EAAJA;AANK,OAAP;;AASF,SAAK,OAAL;AACEmU,wBAAkB,GAAGhJ,aAAa,CAACjG,IAAD,CAAlC;;AACA,UAAIgP,KAAK,IAAIH,eAAT,IAA4B,CAACI,kBAAjC,EAAqD;AACnD,eAAOH,gBAAgB,CAAChU,IAAD,EAAO,IAAP,EAAaqG,IAAb,EAAmBmF,OAAnB,EAA4BtG,IAA5B,CAAvB;AACD;;AACD,aAAOmB,IAAI,CAACuJ,GAAL,CAAS,UAACwE,IAAD,EAAOhT,CAAP;AAAA,eACdmK,SAAS,CACP6I,IADO,EAEP5I,OAFO,EAGPC,cAHO,EAIPvG,IAAI,CAACmP,MAAL,CAAY,CAACjT,CAAD,CAAZ,CAJO,EAKP+J,aALO,EAMPgJ,kBAAkB,GAAG,CAAH,GAAOD,KAAK,GAAG,CAN1B,CADK;AAAA,OAAT,CAAP;;AAWF,SAAK,qBAAL;AACA,SAAK,aAAL;AACA,SAAK,UAAL;AACEC,wBAAkB,GAAGhJ,aAAa,CAACjG,IAAD,CAAlC;;AACA,UAAIgP,KAAK,IAAIH,eAAT,IAA4B,CAACI,kBAAjC,EAAqD;AACnD,eAAOH,gBAAgB,CAAChU,IAAD,EAAO,IAAP,EAAaqG,IAAb,EAAmBmF,OAAnB,EAA4BtG,IAA5B,CAAvB;AACD,OAFD,MAEO;AACL,YAAMoP,mBAAmC,GAAG;AAC1C7I,wBAAc,EAAE,IAD0B;AAE1CzL,cAAI,EAAEA,IAFoC;AAG1C8T,kBAAQ,EAAE,IAHgC;AAI1ClL,cAAI,EAAE5I,IAAI,KAAK,aAAT,GAAyBqG,IAAI,CAAClF,MAA9B,GAAuCH,SAJH;AAK1CsH,uBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CALO;AAM1CgC,sBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CANQ;AAO1ChG,cAAI,EACF,CAACgG,IAAI,CAACQ,WAAN,IAAqBR,IAAI,CAACQ,WAAL,CAAiBxG,IAAjB,KAA0B,QAA/C,GACI,EADJ,GAEIgG,IAAI,CAACQ,WAAL,CAAiBxG;AAVmB,SAA5C,CADK,CAcL;AACA;AACA;AACA;;AACAa,aAAK,CAACsE,IAAN,CAAWa,IAAX,EAAiB3G,OAAjB,CACE,UAAC0U,IAAD,EAAOhT,CAAP;AAAA,iBACGkT,mBAAmB,CAAClT,CAAD,CAAnB,GAAyBmK,SAAS,CACjC6I,IADiC,EAEjC5I,OAFiC,EAGjCC,cAHiC,EAIjCvG,IAAI,CAACmP,MAAL,CAAY,CAACjT,CAAD,CAAZ,CAJiC,EAKjC+J,aALiC,EAMjCgJ,kBAAkB,GAAG,CAAH,GAAOD,KAAK,GAAG,CANA,CADrC;AAAA,SADF;AAYAzI,sBAAc,CAACxJ,IAAf,CAAoBiD,IAApB;AAEA,eAAOoP,mBAAP;AACD;;AAEH,SAAK,iBAAL;AACE9I,aAAO,CAACvJ,IAAR,CAAaiD,IAAb;AACA,aAAO;AACL0O,mBAAW,EAAE,KADR;AAELtL,qBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAF9B;AAGLgC,oBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAH7B;AAILhG,YAAI,EAAEgG,IAAI,CAACvI,MAAM,CAACiL,WAAR,CAJL;AAKL/I,YAAI,EAAJA;AALK,OAAP;;AAQF,SAAK,MAAL;AACEwL,aAAO,CAACvJ,IAAR,CAAaiD,IAAb;AACA,aAAO;AACL0O,mBAAW,EAAE,KADR;AAELtL,qBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAF9B;AAGLgC,oBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAH7B;AAILhG,YAAI,EAAEgG,IAAI,CAACtH,QAAL,EAJD;AAKLiB,YAAI,EAAJA;AALK,OAAP;;AAQF,SAAK,QAAL;AACEwL,aAAO,CAACvJ,IAAR,CAAaiD,IAAb;AACA,aAAO;AACL0O,mBAAW,EAAE,KADR;AAELtL,qBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAF9B;AAGLgC,oBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAH7B;AAILhG,YAAI,EAAEgG,IAAI,CAACtH,QAAL,EAJD;AAKLiB,YAAI,EAAJA;AALK,OAAP;;AAQF,SAAK,QAAL;AACEmU,wBAAkB,GAAGhJ,aAAa,CAACjG,IAAD,CAAlC;;AACA,UAAIgP,KAAK,IAAIH,eAAT,IAA4B,CAACI,kBAAjC,EAAqD;AACnD,eAAOH,gBAAgB,CAAChU,IAAD,EAAO,IAAP,EAAaqG,IAAb,EAAmBmF,OAAnB,EAA4BtG,IAA5B,CAAvB;AACD,OAFD,MAEO;AACL,YAAMD,MAAM,GAAG,EAAf;AACAjG,mFAAoB,CAACqH,IAAD,CAApB,CAA2B3G,OAA3B,CAAmC,UAAAC,GAAG,EAAI;AACxC,cAAMU,IAAI,GAAGV,GAAG,CAACZ,QAAJ,EAAb;AACAkG,gBAAM,CAAC5E,IAAD,CAAN,GAAekL,SAAS,CACtBlF,IAAI,CAAC1G,GAAD,CADkB,EAEtB6L,OAFsB,EAGtBC,cAHsB,EAItBvG,IAAI,CAACmP,MAAL,CAAY,CAAChU,IAAD,CAAZ,CAJsB,EAKtB8K,aALsB,EAMtBgJ,kBAAkB,GAAG,CAAH,GAAOD,KAAK,GAAG,CANX,CAAxB;AAQD,SAVD;AAWA,eAAOjP,MAAP;AACD;;AAEH,SAAK,UAAL;AACA,SAAK,KAAL;AACA,SAAK,WAAL;AACE;AACA;AACAuG,aAAO,CAACvJ,IAAR,CAAaiD,IAAb;AACA,aAAO;AACLlF,YAAI,EAAJA;AADK,OAAP;;AAIF;AACE,aAAOqG,IAAP;AAnMJ;AAqMD;AAEM,SAASkO,UAAT,CACLtP,MADK,EAELoB,IAFK,EAGLnB,IAHK,EAILjC,KAJK,EAKL;AACA,MAAMgN,MAAM,GAAGjL,kEAAW,CAACC,MAAD,EAASC,IAAT,CAA1B;;AACA,MAAI+K,MAAM,IAAI,IAAd,EAAoB;AAClB,QAAI,CAACA,MAAM,CAAC7H,IAAI,CAACqD,cAAN,CAAX,EAAkC;AAChC,aAAOwE,MAAM,CAAC7H,IAAI,CAACwL,WAAN,CAAb;AACA,aAAO3D,MAAM,CAAC7H,IAAI,CAACyL,SAAN,CAAb;AACA,aAAO5D,MAAM,CAAC7H,IAAI,CAAC/H,IAAN,CAAb;AACA,aAAO4P,MAAM,CAAC7H,IAAI,CAACC,YAAN,CAAb;AACA,aAAO4H,MAAM,CAAC7H,IAAI,CAACE,aAAN,CAAb;AACA,aAAO2H,MAAM,CAAC7H,IAAI,CAAC0L,QAAN,CAAb;AACA,aAAO7D,MAAM,CAAC7H,IAAI,CAACQ,IAAN,CAAb;AACA,aAAOqH,MAAM,CAAC7H,IAAI,CAACpI,IAAN,CAAb;AACD;AACF;;AAED,MAAIiD,KAAK,KAAK,IAAV,IAAkBoD,IAAI,CAACoF,cAAL,CAAoBtK,MAApB,GAA6B,CAAnD,EAAsD;AACpD,QAAMqT,kBAAkB,GAAGnO,IAAI,CAACoF,cAAL,CAAoB,CAApB,CAA3B;AACA,QAAIgJ,OAAO,GAAGD,kBAAkB,CAACrT,MAAnB,KAA8B+D,IAAI,CAAC/D,MAAjD;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8D,IAAI,CAAC/D,MAAzB,EAAiCC,CAAC,EAAlC,EAAsC;AACpC,UAAI8D,IAAI,CAAC9D,CAAD,CAAJ,KAAYoT,kBAAkB,CAACpT,CAAD,CAAlC,EAAuC;AACrCqT,eAAO,GAAG,KAAV;AACA;AACD;AACF;;AACD,QAAIA,OAAJ,EAAa;AACXC,2BAAqB,CAACzR,KAAD,EAAQA,KAAR,CAArB;AACD;AACF;;AAEDkD,oEAAW,CAAClB,MAAD,EAASC,IAAT,EAAejC,KAAf,CAAX;AACD;AAEM,SAAS0R,OAAT,CACL1P,MADK,EAELuG,OAFK,EAGLC,cAHK,EAIG;AACRD,SAAO,CAAC9L,OAAR,CAAgB,UAACwF,IAAD,EAAkC;AAChD,QAAM/D,MAAM,GAAG+D,IAAI,CAAC/D,MAApB;AACA,QAAMuE,IAAI,GAAGR,IAAI,CAAC/D,MAAM,GAAG,CAAV,CAAjB;AACA,QAAMwE,MAAM,GAAGX,kEAAW,CAACC,MAAD,EAASC,IAAI,CAAClD,KAAL,CAAW,CAAX,EAAcb,MAAM,GAAG,CAAvB,CAAT,CAA1B;;AACA,QAAI,CAACwE,MAAD,IAAW,CAACA,MAAM,CAACL,cAAP,CAAsBI,IAAtB,CAAhB,EAA6C;AAC3C;AACD;;AAED,QAAMzC,KAAK,GAAG0C,MAAM,CAACD,IAAD,CAApB;;AAEA,QAAI,CAACzC,KAAL,EAAY;AACV;AACD,KAFD,MAEO,IAAIA,KAAK,CAACjD,IAAN,KAAe,UAAnB,EAA+B;AACpC2F,YAAM,CAACD,IAAD,CAAN,GAAekP,QAAf;AACD,KAFM,MAEA,IAAI3R,KAAK,CAACjD,IAAN,KAAe,KAAnB,EAA0B;AAC/B2F,YAAM,CAACD,IAAD,CAAN,GAAemP,GAAf;AACD,KAFM,MAEA,IAAI5R,KAAK,CAACjD,IAAN,KAAe,WAAnB,EAAgC;AACrC2F,YAAM,CAACD,IAAD,CAAN,GAAe1E,SAAf;AACD,KAFM,MAEA;AACL;AACA,UAAM8T,QAAgD,GAAG,EAAzD;AACAA,cAAQ,CAAC1M,IAAI,CAACwL,WAAN,CAAR,GAA6B,CAAC,CAAC3Q,KAAK,CAAC2Q,WAArC;AACAkB,cAAQ,CAAC1M,IAAI,CAACyL,SAAN,CAAR,GAA2B,KAA3B;AACAiB,cAAQ,CAAC1M,IAAI,CAAC/H,IAAN,CAAR,GAAsB4C,KAAK,CAAC5C,IAA5B;AACAyU,cAAQ,CAAC1M,IAAI,CAACC,YAAN,CAAR,GAA8BpF,KAAK,CAACoF,YAApC;AACAyM,cAAQ,CAAC1M,IAAI,CAACE,aAAN,CAAR,GAA+BrF,KAAK,CAACqF,aAArC;AACAwM,cAAQ,CAAC1M,IAAI,CAACQ,IAAN,CAAR,GAAsB3F,KAAK,CAAC2F,IAA5B;AACAkM,cAAQ,CAAC1M,IAAI,CAAC0L,QAAN,CAAR,GAA0B,CAAC,CAAC7Q,KAAK,CAAC6Q,QAAlC;AACAgB,cAAQ,CAAC1M,IAAI,CAACpI,IAAN,CAAR,GAAsBiD,KAAK,CAACjD,IAA5B;AAEA2F,YAAM,CAACD,IAAD,CAAN,GAAeoP,QAAf;AACD;AACF,GAhCD;AAiCArJ,gBAAc,CAAC/L,OAAf,CAAuB,UAACwF,IAAD,EAAkC;AACvD,QAAM/D,MAAM,GAAG+D,IAAI,CAAC/D,MAApB;AACA,QAAMuE,IAAI,GAAGR,IAAI,CAAC/D,MAAM,GAAG,CAAV,CAAjB;AACA,QAAMwE,MAAM,GAAGX,kEAAW,CAACC,MAAD,EAASC,IAAI,CAAClD,KAAL,CAAW,CAAX,EAAcb,MAAM,GAAG,CAAvB,CAAT,CAA1B;;AACA,QAAI,CAACwE,MAAD,IAAW,CAACA,MAAM,CAACL,cAAP,CAAsBI,IAAtB,CAAhB,EAA6C;AAC3C;AACD;;AAED,QAAMqP,IAAI,GAAGpP,MAAM,CAACD,IAAD,CAAnB;;AAEA,QAAMsP,WAAW,qBACZD,IADY,CAAjB;;AAIAL,yBAAqB,CAACM,WAAD,EAAcD,IAAd,CAArB;AAEApP,UAAM,CAACD,IAAD,CAAN,GAAesP,WAAf;AACD,GAjBD;AAkBA,SAAO/P,MAAP;AACD;;AAED,SAASyP,qBAAT,CAA+BO,WAA/B,EAAoD/E,MAApD,EAAoE;AAAA;;AAClE5Q,QAAM,CAAC4V,gBAAP,CAAwBD,WAAxB,sEACG7M,IAAI,CAACyL,SADR,EACoB;AAChBsB,gBAAY,EAAE,IADE;AAEhBvV,cAAU,EAAE,KAFI;AAGhBqD,SAAK,EAAE,CAAC,CAACiN,MAAM,CAAC2D;AAHA,GADpB,0CAMGzL,IAAI,CAAC/H,IANR,EAMe;AACX8U,gBAAY,EAAE,IADH;AAEXvV,cAAU,EAAE,KAFD;AAGXqD,SAAK,EAAEiN,MAAM,CAAC7P;AAHH,GANf,0CAWG+H,IAAI,CAACC,YAXR,EAWuB;AACnB8M,gBAAY,EAAE,IADK;AAEnBvV,cAAU,EAAE,KAFO;AAGnBqD,SAAK,EAAEiN,MAAM,CAAC7H;AAHK,GAXvB,0CAgBGD,IAAI,CAACE,aAhBR,EAgBwB;AACpB6M,gBAAY,EAAE,IADM;AAEpBvV,cAAU,EAAE,KAFQ;AAGpBqD,SAAK,EAAEiN,MAAM,CAAC5H;AAHM,GAhBxB,0CAqBGF,IAAI,CAACQ,IArBR,EAqBe;AACXuM,gBAAY,EAAE,IADH;AAEXvV,cAAU,EAAE,KAFD;AAGXqD,SAAK,EAAEiN,MAAM,CAACtH;AAHH,GArBf,0CA0BGR,IAAI,CAAC0L,QA1BR,EA0BmB;AACfqB,gBAAY,EAAE,IADC;AAEfvV,cAAU,EAAE,KAFG;AAGfqD,SAAK,EAAE,CAAC,CAACiN,MAAM,CAAC4D;AAHD,GA1BnB,0CA+BG1L,IAAI,CAACpI,IA/BR,EA+Be;AACXmV,gBAAY,EAAE,IADH;AAEXvV,cAAU,EAAE,KAFD;AAGXqD,SAAK,EAAEiN,MAAM,CAAClQ;AAHH,GA/Bf,0CAoCGoI,IAAI,CAACqD,cApCR,EAoCyB;AACrB0J,gBAAY,EAAE,IADO;AAErBvV,cAAU,EAAE,KAFS;AAGrBqD,SAAK,EAAE,CAAC,CAACiN,MAAM,CAACzE;AAHK,GApCzB;AA2CA,SAAOwJ,WAAW,CAACpB,SAAnB;AACA,SAAOoB,WAAW,CAAC5U,IAAnB;AACA,SAAO4U,WAAW,CAAC5M,YAAnB;AACA,SAAO4M,WAAW,CAAC3M,aAAnB;AACA,SAAO2M,WAAW,CAACrM,IAAnB;AACA,SAAOqM,WAAW,CAACnB,QAAnB;AACA,SAAOmB,WAAW,CAACjV,IAAnB;AACA,SAAOiV,WAAW,CAACxJ,cAAnB;AACD,C;;;;;;;ACpeD;;;;;;;;AAWA,IAAM2J,WAAW,GAAGlU,KAAK,CAAC0E,OAA1B,C,CAEA;;AACA,SAASA,OAAT,CAAiB/G,CAAjB,EAAoC;AAClC,SAAOuW,WAAW,CAACvW,CAAD,CAAlB;AACD;;AAEc+G,gEAAf,E;;;;;;;;AClBAkJ,OAAO,GAAGD,MAAM,CAACC,OAAP,GAAiBuG,MAA3B;AAEA,IAAIC,KAAJ;AACA;;AACA,IAAI,QAAO1G,OAAP,yCAAOA,OAAP,OAAmB,QAAnB,IACAA,OAAO,CAAC2G,GADR,IAEA3G,OAAO,CAAC2G,GAAR,CAAYC,UAFZ,IAGA,cAAc5E,IAAd,CAAmBhC,OAAO,CAAC2G,GAAR,CAAYC,UAA/B,CAHJ,EAGgD;AAC9CF,OAAK,GAAG,iBAAY;AAClB,QAAIhI,IAAI,GAAGpM,KAAK,CAAC6F,SAAN,CAAgB/E,KAAhB,CAAsBuD,IAAtB,CAA2B+K,SAA3B,EAAsC,CAAtC,CAAX;AACAhD,QAAI,CAAC3I,OAAL,CAAa,QAAb;AACA7B,WAAO,CAACC,GAAR,CAAY0S,KAAZ,CAAkB3S,OAAlB,EAA2BwK,IAA3B;AACD,GAJD;AAKD,CATD,MASO;AACLgI,OAAK,GAAG,iBAAY,CAAE,CAAtB;AACD,C,CAED;AACA;;;AACAxG,OAAO,CAAC4G,mBAAR,GAA8B,OAA9B;AAEA,IAAIC,UAAU,GAAG,GAAjB;AACA,IAAIC,gBAAgB,GAAGpP,MAAM,CAACoP,gBAAP;AACrB;AAA2B,gBAD7B,C,CAGA;;AACA,IAAIC,yBAAyB,GAAG,EAAhC,C,CAEA;;AACA,IAAIC,EAAE,GAAGhH,OAAO,CAACgH,EAAR,GAAa,EAAtB;AACA,IAAIC,GAAG,GAAGjH,OAAO,CAACiH,GAAR,GAAc,EAAxB;AACA,IAAIC,CAAC,GAAGlH,OAAO,CAACmH,MAAR,GAAiB,EAAzB;AACA,IAAIC,CAAC,GAAG,CAAR;;AAEA,SAASC,GAAT,CAActG,CAAd,EAAiB;AACfmG,GAAC,CAACnG,CAAD,CAAD,GAAOqG,CAAC,EAAR;AACD,C,CAED;AACA;AAEA;AACA;;;AAEAC,GAAG,CAAC,mBAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACI,iBAAH,CAAH,GAA2B,aAA3B;AACAD,GAAG,CAAC,wBAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACK,sBAAH,CAAH,GAAgC,QAAhC,C,CAEA;AACA;AACA;;AAEAF,GAAG,CAAC,sBAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACM,oBAAH,CAAH,GAA8B,4BAA9B,C,CAEA;AACA;;AAEAH,GAAG,CAAC,aAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACO,WAAH,CAAH,GAAqB,MAAMR,GAAG,CAACC,CAAC,CAACI,iBAAH,CAAT,GAAiC,MAAjC,GACF,GADE,GACIL,GAAG,CAACC,CAAC,CAACI,iBAAH,CADP,GAC+B,MAD/B,GAEF,GAFE,GAEIL,GAAG,CAACC,CAAC,CAACI,iBAAH,CAFP,GAE+B,GAFpD;AAIAD,GAAG,CAAC,kBAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACQ,gBAAH,CAAH,GAA0B,MAAMT,GAAG,CAACC,CAAC,CAACK,sBAAH,CAAT,GAAsC,MAAtC,GACF,GADE,GACIN,GAAG,CAACC,CAAC,CAACK,sBAAH,CADP,GACoC,MADpC,GAEF,GAFE,GAEIN,GAAG,CAACC,CAAC,CAACK,sBAAH,CAFP,GAEoC,GAF9D,C,CAIA;AACA;;AAEAF,GAAG,CAAC,sBAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACS,oBAAH,CAAH,GAA8B,QAAQV,GAAG,CAACC,CAAC,CAACI,iBAAH,CAAX,GACF,GADE,GACIL,GAAG,CAACC,CAAC,CAACM,oBAAH,CADP,GACkC,GADhE;AAGAH,GAAG,CAAC,2BAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACU,yBAAH,CAAH,GAAmC,QAAQX,GAAG,CAACC,CAAC,CAACK,sBAAH,CAAX,GACF,GADE,GACIN,GAAG,CAACC,CAAC,CAACM,oBAAH,CADP,GACkC,GADrE,C,CAGA;AACA;AACA;;AAEAH,GAAG,CAAC,YAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACW,UAAH,CAAH,GAAoB,UAAUZ,GAAG,CAACC,CAAC,CAACS,oBAAH,CAAb,GACF,QADE,GACSV,GAAG,CAACC,CAAC,CAACS,oBAAH,CADZ,GACuC,MAD3D;AAGAN,GAAG,CAAC,iBAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACY,eAAH,CAAH,GAAyB,WAAWb,GAAG,CAACC,CAAC,CAACU,yBAAH,CAAd,GACF,QADE,GACSX,GAAG,CAACC,CAAC,CAACU,yBAAH,CADZ,GAC4C,MADrE,C,CAGA;AACA;;AAEAP,GAAG,CAAC,iBAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACa,eAAH,CAAH,GAAyB,eAAzB,C,CAEA;AACA;AACA;;AAEAV,GAAG,CAAC,OAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACc,KAAH,CAAH,GAAe,YAAYf,GAAG,CAACC,CAAC,CAACa,eAAH,CAAf,GACF,QADE,GACSd,GAAG,CAACC,CAAC,CAACa,eAAH,CADZ,GACkC,MADjD,C,CAGA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEAV,GAAG,CAAC,MAAD,CAAH;AACAA,GAAG,CAAC,WAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACe,SAAH,CAAH,GAAmB,OAAOhB,GAAG,CAACC,CAAC,CAACO,WAAH,CAAV,GACDR,GAAG,CAACC,CAAC,CAACW,UAAH,CADF,GACmB,GADnB,GAEDZ,GAAG,CAACC,CAAC,CAACc,KAAH,CAFF,GAEc,GAFjC;AAIAf,GAAG,CAACC,CAAC,CAACgB,IAAH,CAAH,GAAc,MAAMjB,GAAG,CAACC,CAAC,CAACe,SAAH,CAAT,GAAyB,GAAvC,C,CAEA;AACA;AACA;;AACAZ,GAAG,CAAC,YAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACiB,UAAH,CAAH,GAAoB,aAAalB,GAAG,CAACC,CAAC,CAACQ,gBAAH,CAAhB,GACFT,GAAG,CAACC,CAAC,CAACY,eAAH,CADD,GACuB,GADvB,GAEFb,GAAG,CAACC,CAAC,CAACc,KAAH,CAFD,GAEa,GAFjC;AAIAX,GAAG,CAAC,OAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACkB,KAAH,CAAH,GAAe,MAAMnB,GAAG,CAACC,CAAC,CAACiB,UAAH,CAAT,GAA0B,GAAzC;AAEAd,GAAG,CAAC,MAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACmB,IAAH,CAAH,GAAc,cAAd,C,CAEA;AACA;AACA;;AACAhB,GAAG,CAAC,uBAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACoB,qBAAH,CAAH,GAA+BrB,GAAG,CAACC,CAAC,CAACK,sBAAH,CAAH,GAAgC,UAA/D;AACAF,GAAG,CAAC,kBAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACqB,gBAAH,CAAH,GAA0BtB,GAAG,CAACC,CAAC,CAACI,iBAAH,CAAH,GAA2B,UAArD;AAEAD,GAAG,CAAC,aAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACsB,WAAH,CAAH,GAAqB,cAAcvB,GAAG,CAACC,CAAC,CAACqB,gBAAH,CAAjB,GAAwC,GAAxC,GACF,SADE,GACUtB,GAAG,CAACC,CAAC,CAACqB,gBAAH,CADb,GACoC,GADpC,GAEF,SAFE,GAEUtB,GAAG,CAACC,CAAC,CAACqB,gBAAH,CAFb,GAEoC,GAFpC,GAGF,KAHE,GAGMtB,GAAG,CAACC,CAAC,CAACW,UAAH,CAHT,GAG0B,IAH1B,GAIFZ,GAAG,CAACC,CAAC,CAACc,KAAH,CAJD,GAIa,GAJb,GAKF,MALnB;AAOAX,GAAG,CAAC,kBAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACuB,gBAAH,CAAH,GAA0B,cAAcxB,GAAG,CAACC,CAAC,CAACoB,qBAAH,CAAjB,GAA6C,GAA7C,GACF,SADE,GACUrB,GAAG,CAACC,CAAC,CAACoB,qBAAH,CADb,GACyC,GADzC,GAEF,SAFE,GAEUrB,GAAG,CAACC,CAAC,CAACoB,qBAAH,CAFb,GAEyC,GAFzC,GAGF,KAHE,GAGMrB,GAAG,CAACC,CAAC,CAACY,eAAH,CAHT,GAG+B,IAH/B,GAIFb,GAAG,CAACC,CAAC,CAACc,KAAH,CAJD,GAIa,GAJb,GAKF,MALxB;AAOAX,GAAG,CAAC,QAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACwB,MAAH,CAAH,GAAgB,MAAMzB,GAAG,CAACC,CAAC,CAACmB,IAAH,CAAT,GAAoB,MAApB,GAA6BpB,GAAG,CAACC,CAAC,CAACsB,WAAH,CAAhC,GAAkD,GAAlE;AACAnB,GAAG,CAAC,aAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACyB,WAAH,CAAH,GAAqB,MAAM1B,GAAG,CAACC,CAAC,CAACmB,IAAH,CAAT,GAAoB,MAApB,GAA6BpB,GAAG,CAACC,CAAC,CAACuB,gBAAH,CAAhC,GAAuD,GAA5E,C,CAEA;AACA;;AACApB,GAAG,CAAC,QAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAAC0B,MAAH,CAAH,GAAgB,eACF,SADE,GACU7B,yBADV,GACsC,IADtC,GAEF,eAFE,GAEgBA,yBAFhB,GAE4C,MAF5C,GAGF,eAHE,GAGgBA,yBAHhB,GAG4C,MAH5C,GAIF,cAJd;AAKAM,GAAG,CAAC,WAAD,CAAH;AACAL,EAAE,CAACE,CAAC,CAAC2B,SAAH,CAAF,GAAkB,IAAIC,MAAJ,CAAW7B,GAAG,CAACC,CAAC,CAAC0B,MAAH,CAAd,EAA0B,GAA1B,CAAlB,C,CAEA;AACA;;AACAvB,GAAG,CAAC,WAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAAC6B,SAAH,CAAH,GAAmB,SAAnB;AAEA1B,GAAG,CAAC,WAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAAC8B,SAAH,CAAH,GAAmB,WAAW/B,GAAG,CAACC,CAAC,CAAC6B,SAAH,CAAd,GAA8B,MAAjD;AACA/B,EAAE,CAACE,CAAC,CAAC8B,SAAH,CAAF,GAAkB,IAAIF,MAAJ,CAAW7B,GAAG,CAACC,CAAC,CAAC8B,SAAH,CAAd,EAA6B,GAA7B,CAAlB;AACA,IAAIC,gBAAgB,GAAG,KAAvB;AAEA5B,GAAG,CAAC,OAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACgC,KAAH,CAAH,GAAe,MAAMjC,GAAG,CAACC,CAAC,CAAC6B,SAAH,CAAT,GAAyB9B,GAAG,CAACC,CAAC,CAACsB,WAAH,CAA5B,GAA8C,GAA7D;AACAnB,GAAG,CAAC,YAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACiC,UAAH,CAAH,GAAoB,MAAMlC,GAAG,CAACC,CAAC,CAAC6B,SAAH,CAAT,GAAyB9B,GAAG,CAACC,CAAC,CAACuB,gBAAH,CAA5B,GAAmD,GAAvE,C,CAEA;AACA;;AACApB,GAAG,CAAC,WAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACkC,SAAH,CAAH,GAAmB,SAAnB;AAEA/B,GAAG,CAAC,WAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACmC,SAAH,CAAH,GAAmB,WAAWpC,GAAG,CAACC,CAAC,CAACkC,SAAH,CAAd,GAA8B,MAAjD;AACApC,EAAE,CAACE,CAAC,CAACmC,SAAH,CAAF,GAAkB,IAAIP,MAAJ,CAAW7B,GAAG,CAACC,CAAC,CAACmC,SAAH,CAAd,EAA6B,GAA7B,CAAlB;AACA,IAAIC,gBAAgB,GAAG,KAAvB;AAEAjC,GAAG,CAAC,OAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACqC,KAAH,CAAH,GAAe,MAAMtC,GAAG,CAACC,CAAC,CAACkC,SAAH,CAAT,GAAyBnC,GAAG,CAACC,CAAC,CAACsB,WAAH,CAA5B,GAA8C,GAA7D;AACAnB,GAAG,CAAC,YAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACsC,UAAH,CAAH,GAAoB,MAAMvC,GAAG,CAACC,CAAC,CAACkC,SAAH,CAAT,GAAyBnC,GAAG,CAACC,CAAC,CAACuB,gBAAH,CAA5B,GAAmD,GAAvE,C,CAEA;;AACApB,GAAG,CAAC,iBAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACuC,eAAH,CAAH,GAAyB,MAAMxC,GAAG,CAACC,CAAC,CAACmB,IAAH,CAAT,GAAoB,OAApB,GAA8BpB,GAAG,CAACC,CAAC,CAACiB,UAAH,CAAjC,GAAkD,OAA3E;AACAd,GAAG,CAAC,YAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACwC,UAAH,CAAH,GAAoB,MAAMzC,GAAG,CAACC,CAAC,CAACmB,IAAH,CAAT,GAAoB,OAApB,GAA8BpB,GAAG,CAACC,CAAC,CAACe,SAAH,CAAjC,GAAiD,OAArE,C,CAEA;AACA;;AACAZ,GAAG,CAAC,gBAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAACyC,cAAH,CAAH,GAAwB,WAAW1C,GAAG,CAACC,CAAC,CAACmB,IAAH,CAAd,GACF,OADE,GACQpB,GAAG,CAACC,CAAC,CAACiB,UAAH,CADX,GAC4B,GAD5B,GACkClB,GAAG,CAACC,CAAC,CAACsB,WAAH,CADrC,GACuD,GAD/E,C,CAGA;;AACAxB,EAAE,CAACE,CAAC,CAACyC,cAAH,CAAF,GAAuB,IAAIb,MAAJ,CAAW7B,GAAG,CAACC,CAAC,CAACyC,cAAH,CAAd,EAAkC,GAAlC,CAAvB;AACA,IAAIC,qBAAqB,GAAG,QAA5B,C,CAEA;AACA;AACA;AACA;;AACAvC,GAAG,CAAC,aAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAAC2C,WAAH,CAAH,GAAqB,WAAW5C,GAAG,CAACC,CAAC,CAACsB,WAAH,CAAd,GAAgC,GAAhC,GACF,WADE,GAEF,GAFE,GAEIvB,GAAG,CAACC,CAAC,CAACsB,WAAH,CAFP,GAEyB,GAFzB,GAGF,OAHnB;AAKAnB,GAAG,CAAC,kBAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAAC4C,gBAAH,CAAH,GAA0B,WAAW7C,GAAG,CAACC,CAAC,CAACuB,gBAAH,CAAd,GAAqC,GAArC,GACF,WADE,GAEF,GAFE,GAEIxB,GAAG,CAACC,CAAC,CAACuB,gBAAH,CAFP,GAE8B,GAF9B,GAGF,OAHxB,C,CAKA;;AACApB,GAAG,CAAC,MAAD,CAAH;AACAJ,GAAG,CAACC,CAAC,CAAC6C,IAAH,CAAH,GAAc,iBAAd,C,CAEA;AACA;;AACA,KAAK,IAAIzX,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8U,CAApB,EAAuB9U,CAAC,EAAxB,EAA4B;AAC1BkU,OAAK,CAAClU,CAAD,EAAI2U,GAAG,CAAC3U,CAAD,CAAP,CAAL;;AACA,MAAI,CAAC0U,EAAE,CAAC1U,CAAD,CAAP,EAAY;AACV0U,MAAE,CAAC1U,CAAD,CAAF,GAAQ,IAAIwW,MAAJ,CAAW7B,GAAG,CAAC3U,CAAD,CAAd,CAAR;AACD;AACF;;AAED0N,OAAO,CAACvL,KAAR,GAAgBA,KAAhB;;AACA,SAASA,KAAT,CAAgBuO,OAAhB,EAAyBgH,OAAzB,EAAkC;AAChC,MAAI,CAACA,OAAD,IAAY,QAAOA,OAAP,MAAmB,QAAnC,EAA6C;AAC3CA,WAAO,GAAG;AACRC,WAAK,EAAE,CAAC,CAACD,OADD;AAERE,uBAAiB,EAAE;AAFX,KAAV;AAID;;AAED,MAAIlH,OAAO,YAAYuD,MAAvB,EAA+B;AAC7B,WAAOvD,OAAP;AACD;;AAED,MAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,WAAO,IAAP;AACD;;AAED,MAAIA,OAAO,CAAC3Q,MAAR,GAAiBwU,UAArB,EAAiC;AAC/B,WAAO,IAAP;AACD;;AAED,MAAIsD,CAAC,GAAGH,OAAO,CAACC,KAAR,GAAgBjD,EAAE,CAACE,CAAC,CAACkB,KAAH,CAAlB,GAA8BpB,EAAE,CAACE,CAAC,CAACgB,IAAH,CAAxC;;AACA,MAAI,CAACiC,CAAC,CAACrI,IAAF,CAAOkB,OAAP,CAAL,EAAsB;AACpB,WAAO,IAAP;AACD;;AAED,MAAI;AACF,WAAO,IAAIuD,MAAJ,CAAWvD,OAAX,EAAoBgH,OAApB,CAAP;AACD,GAFD,CAEE,OAAOI,EAAP,EAAW;AACX,WAAO,IAAP;AACD;AACF;;AAEDpK,OAAO,CAACqK,KAAR,GAAgBA,KAAhB;;AACA,SAASA,KAAT,CAAgBrH,OAAhB,EAAyBgH,OAAzB,EAAkC;AAChC,MAAIM,CAAC,GAAG7V,KAAK,CAACuO,OAAD,EAAUgH,OAAV,CAAb;AACA,SAAOM,CAAC,GAAGA,CAAC,CAACtH,OAAL,GAAe,IAAvB;AACD;;AAEDhD,OAAO,CAACuK,KAAR,GAAgBA,KAAhB;;AACA,SAASA,KAAT,CAAgBvH,OAAhB,EAAyBgH,OAAzB,EAAkC;AAChC,MAAIzI,CAAC,GAAG9M,KAAK,CAACuO,OAAO,CAACwH,IAAR,GAAe9L,OAAf,CAAuB,QAAvB,EAAiC,EAAjC,CAAD,EAAuCsL,OAAvC,CAAb;AACA,SAAOzI,CAAC,GAAGA,CAAC,CAACyB,OAAL,GAAe,IAAvB;AACD;;AAEDhD,OAAO,CAACuG,MAAR,GAAiBA,MAAjB;;AAEA,SAASA,MAAT,CAAiBvD,OAAjB,EAA0BgH,OAA1B,EAAmC;AACjC,MAAI,CAACA,OAAD,IAAY,QAAOA,OAAP,MAAmB,QAAnC,EAA6C;AAC3CA,WAAO,GAAG;AACRC,WAAK,EAAE,CAAC,CAACD,OADD;AAERE,uBAAiB,EAAE;AAFX,KAAV;AAID;;AACD,MAAIlH,OAAO,YAAYuD,MAAvB,EAA+B;AAC7B,QAAIvD,OAAO,CAACiH,KAAR,KAAkBD,OAAO,CAACC,KAA9B,EAAqC;AACnC,aAAOjH,OAAP;AACD,KAFD,MAEO;AACLA,aAAO,GAAGA,OAAO,CAACA,OAAlB;AACD;AACF,GAND,MAMO,IAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;AACtC,UAAM,IAAI1C,SAAJ,CAAc,sBAAsB0C,OAApC,CAAN;AACD;;AAED,MAAIA,OAAO,CAAC3Q,MAAR,GAAiBwU,UAArB,EAAiC;AAC/B,UAAM,IAAIvG,SAAJ,CAAc,4BAA4BuG,UAA5B,GAAyC,aAAvD,CAAN;AACD;;AAED,MAAI,EAAE,gBAAgBN,MAAlB,CAAJ,EAA+B;AAC7B,WAAO,IAAIA,MAAJ,CAAWvD,OAAX,EAAoBgH,OAApB,CAAP;AACD;;AAEDxD,OAAK,CAAC,QAAD,EAAWxD,OAAX,EAAoBgH,OAApB,CAAL;AACA,OAAKA,OAAL,GAAeA,OAAf;AACA,OAAKC,KAAL,GAAa,CAAC,CAACD,OAAO,CAACC,KAAvB;AAEA,MAAIQ,CAAC,GAAGzH,OAAO,CAACwH,IAAR,GAAe7U,KAAf,CAAqBqU,OAAO,CAACC,KAAR,GAAgBjD,EAAE,CAACE,CAAC,CAACkB,KAAH,CAAlB,GAA8BpB,EAAE,CAACE,CAAC,CAACgB,IAAH,CAArD,CAAR;;AAEA,MAAI,CAACuC,CAAL,EAAQ;AACN,UAAM,IAAInK,SAAJ,CAAc,sBAAsB0C,OAApC,CAAN;AACD;;AAED,OAAK1O,GAAL,GAAW0O,OAAX,CAnCiC,CAqCjC;;AACA,OAAK0H,KAAL,GAAa,CAACD,CAAC,CAAC,CAAD,CAAf;AACA,OAAKE,KAAL,GAAa,CAACF,CAAC,CAAC,CAAD,CAAf;AACA,OAAKhH,KAAL,GAAa,CAACgH,CAAC,CAAC,CAAD,CAAf;;AAEA,MAAI,KAAKC,KAAL,GAAa5D,gBAAb,IAAiC,KAAK4D,KAAL,GAAa,CAAlD,EAAqD;AACnD,UAAM,IAAIpK,SAAJ,CAAc,uBAAd,CAAN;AACD;;AAED,MAAI,KAAKqK,KAAL,GAAa7D,gBAAb,IAAiC,KAAK6D,KAAL,GAAa,CAAlD,EAAqD;AACnD,UAAM,IAAIrK,SAAJ,CAAc,uBAAd,CAAN;AACD;;AAED,MAAI,KAAKmD,KAAL,GAAaqD,gBAAb,IAAiC,KAAKrD,KAAL,GAAa,CAAlD,EAAqD;AACnD,UAAM,IAAInD,SAAJ,CAAc,uBAAd,CAAN;AACD,GApDgC,CAsDjC;;;AACA,MAAI,CAACmK,CAAC,CAAC,CAAD,CAAN,EAAW;AACT,SAAKG,UAAL,GAAkB,EAAlB;AACD,GAFD,MAEO;AACL,SAAKA,UAAL,GAAkBH,CAAC,CAAC,CAAD,CAAD,CAAKxJ,KAAL,CAAW,GAAX,EAAgBH,GAAhB,CAAoB,UAAUzN,EAAV,EAAc;AAClD,UAAI,WAAWyO,IAAX,CAAgBzO,EAAhB,CAAJ,EAAyB;AACvB,YAAIwX,GAAG,GAAG,CAACxX,EAAX;;AACA,YAAIwX,GAAG,IAAI,CAAP,IAAYA,GAAG,GAAG/D,gBAAtB,EAAwC;AACtC,iBAAO+D,GAAP;AACD;AACF;;AACD,aAAOxX,EAAP;AACD,KARiB,CAAlB;AASD;;AAED,OAAKyX,KAAL,GAAaL,CAAC,CAAC,CAAD,CAAD,GAAOA,CAAC,CAAC,CAAD,CAAD,CAAKxJ,KAAL,CAAW,GAAX,CAAP,GAAyB,EAAtC;AACA,OAAK5C,MAAL;AACD;;AAEDkI,MAAM,CAACtO,SAAP,CAAiBoG,MAAjB,GAA0B,YAAY;AACpC,OAAK2E,OAAL,GAAe,KAAK0H,KAAL,GAAa,GAAb,GAAmB,KAAKC,KAAxB,GAAgC,GAAhC,GAAsC,KAAKlH,KAA1D;;AACA,MAAI,KAAKmH,UAAL,CAAgBvY,MAApB,EAA4B;AAC1B,SAAK2Q,OAAL,IAAgB,MAAM,KAAK4H,UAAL,CAAgBhX,IAAhB,CAAqB,GAArB,CAAtB;AACD;;AACD,SAAO,KAAKoP,OAAZ;AACD,CAND;;AAQAuD,MAAM,CAACtO,SAAP,CAAiBhI,QAAjB,GAA4B,YAAY;AACtC,SAAO,KAAK+S,OAAZ;AACD,CAFD;;AAIAuD,MAAM,CAACtO,SAAP,CAAiB8S,OAAjB,GAA2B,UAAUC,KAAV,EAAiB;AAC1CxE,OAAK,CAAC,gBAAD,EAAmB,KAAKxD,OAAxB,EAAiC,KAAKgH,OAAtC,EAA+CgB,KAA/C,CAAL;;AACA,MAAI,EAAEA,KAAK,YAAYzE,MAAnB,CAAJ,EAAgC;AAC9ByE,SAAK,GAAG,IAAIzE,MAAJ,CAAWyE,KAAX,EAAkB,KAAKhB,OAAvB,CAAR;AACD;;AAED,SAAO,KAAKiB,WAAL,CAAiBD,KAAjB,KAA2B,KAAKE,UAAL,CAAgBF,KAAhB,CAAlC;AACD,CAPD;;AASAzE,MAAM,CAACtO,SAAP,CAAiBgT,WAAjB,GAA+B,UAAUD,KAAV,EAAiB;AAC9C,MAAI,EAAEA,KAAK,YAAYzE,MAAnB,CAAJ,EAAgC;AAC9ByE,SAAK,GAAG,IAAIzE,MAAJ,CAAWyE,KAAX,EAAkB,KAAKhB,OAAvB,CAAR;AACD;;AAED,SAAOmB,kBAAkB,CAAC,KAAKT,KAAN,EAAaM,KAAK,CAACN,KAAnB,CAAlB,IACAS,kBAAkB,CAAC,KAAKR,KAAN,EAAaK,KAAK,CAACL,KAAnB,CADlB,IAEAQ,kBAAkB,CAAC,KAAK1H,KAAN,EAAauH,KAAK,CAACvH,KAAnB,CAFzB;AAGD,CARD;;AAUA8C,MAAM,CAACtO,SAAP,CAAiBiT,UAAjB,GAA8B,UAAUF,KAAV,EAAiB;AAC7C,MAAI,EAAEA,KAAK,YAAYzE,MAAnB,CAAJ,EAAgC;AAC9ByE,SAAK,GAAG,IAAIzE,MAAJ,CAAWyE,KAAX,EAAkB,KAAKhB,OAAvB,CAAR;AACD,GAH4C,CAK7C;;;AACA,MAAI,KAAKY,UAAL,CAAgBvY,MAAhB,IAA0B,CAAC2Y,KAAK,CAACJ,UAAN,CAAiBvY,MAAhD,EAAwD;AACtD,WAAO,CAAC,CAAR;AACD,GAFD,MAEO,IAAI,CAAC,KAAKuY,UAAL,CAAgBvY,MAAjB,IAA2B2Y,KAAK,CAACJ,UAAN,CAAiBvY,MAAhD,EAAwD;AAC7D,WAAO,CAAP;AACD,GAFM,MAEA,IAAI,CAAC,KAAKuY,UAAL,CAAgBvY,MAAjB,IAA2B,CAAC2Y,KAAK,CAACJ,UAAN,CAAiBvY,MAAjD,EAAyD;AAC9D,WAAO,CAAP;AACD;;AAED,MAAIC,CAAC,GAAG,CAAR;;AACA,KAAG;AACD,QAAIvC,CAAC,GAAG,KAAK6a,UAAL,CAAgBtY,CAAhB,CAAR;AACA,QAAItC,CAAC,GAAGgb,KAAK,CAACJ,UAAN,CAAiBtY,CAAjB,CAAR;AACAkU,SAAK,CAAC,oBAAD,EAAuBlU,CAAvB,EAA0BvC,CAA1B,EAA6BC,CAA7B,CAAL;;AACA,QAAID,CAAC,KAAKmC,SAAN,IAAmBlC,CAAC,KAAKkC,SAA7B,EAAwC;AACtC,aAAO,CAAP;AACD,KAFD,MAEO,IAAIlC,CAAC,KAAKkC,SAAV,EAAqB;AAC1B,aAAO,CAAP;AACD,KAFM,MAEA,IAAInC,CAAC,KAAKmC,SAAV,EAAqB;AAC1B,aAAO,CAAC,CAAR;AACD,KAFM,MAEA,IAAInC,CAAC,KAAKC,CAAV,EAAa;AAClB;AACD,KAFM,MAEA;AACL,aAAOmb,kBAAkB,CAACpb,CAAD,EAAIC,CAAJ,CAAzB;AACD;AACF,GAfD,QAeS,EAAEsC,CAfX;AAgBD,CA/BD;;AAiCAiU,MAAM,CAACtO,SAAP,CAAiBmT,YAAjB,GAAgC,UAAUJ,KAAV,EAAiB;AAC/C,MAAI,EAAEA,KAAK,YAAYzE,MAAnB,CAAJ,EAAgC;AAC9ByE,SAAK,GAAG,IAAIzE,MAAJ,CAAWyE,KAAX,EAAkB,KAAKhB,OAAvB,CAAR;AACD;;AAED,MAAI1X,CAAC,GAAG,CAAR;;AACA,KAAG;AACD,QAAIvC,CAAC,GAAG,KAAK+a,KAAL,CAAWxY,CAAX,CAAR;AACA,QAAItC,CAAC,GAAGgb,KAAK,CAACF,KAAN,CAAYxY,CAAZ,CAAR;AACAkU,SAAK,CAAC,oBAAD,EAAuBlU,CAAvB,EAA0BvC,CAA1B,EAA6BC,CAA7B,CAAL;;AACA,QAAID,CAAC,KAAKmC,SAAN,IAAmBlC,CAAC,KAAKkC,SAA7B,EAAwC;AACtC,aAAO,CAAP;AACD,KAFD,MAEO,IAAIlC,CAAC,KAAKkC,SAAV,EAAqB;AAC1B,aAAO,CAAP;AACD,KAFM,MAEA,IAAInC,CAAC,KAAKmC,SAAV,EAAqB;AAC1B,aAAO,CAAC,CAAR;AACD,KAFM,MAEA,IAAInC,CAAC,KAAKC,CAAV,EAAa;AAClB;AACD,KAFM,MAEA;AACL,aAAOmb,kBAAkB,CAACpb,CAAD,EAAIC,CAAJ,CAAzB;AACD;AACF,GAfD,QAeS,EAAEsC,CAfX;AAgBD,CAtBD,C,CAwBA;AACA;;;AACAiU,MAAM,CAACtO,SAAP,CAAiBoT,GAAjB,GAAuB,UAAUC,OAAV,EAAmBC,UAAnB,EAA+B;AACpD,UAAQD,OAAR;AACE,SAAK,UAAL;AACE,WAAKV,UAAL,CAAgBvY,MAAhB,GAAyB,CAAzB;AACA,WAAKoR,KAAL,GAAa,CAAb;AACA,WAAKkH,KAAL,GAAa,CAAb;AACA,WAAKD,KAAL;AACA,WAAKW,GAAL,CAAS,KAAT,EAAgBE,UAAhB;AACA;;AACF,SAAK,UAAL;AACE,WAAKX,UAAL,CAAgBvY,MAAhB,GAAyB,CAAzB;AACA,WAAKoR,KAAL,GAAa,CAAb;AACA,WAAKkH,KAAL;AACA,WAAKU,GAAL,CAAS,KAAT,EAAgBE,UAAhB;AACA;;AACF,SAAK,UAAL;AACE;AACA;AACA;AACA,WAAKX,UAAL,CAAgBvY,MAAhB,GAAyB,CAAzB;AACA,WAAKgZ,GAAL,CAAS,OAAT,EAAkBE,UAAlB;AACA,WAAKF,GAAL,CAAS,KAAT,EAAgBE,UAAhB;AACA;AACF;AACA;;AACA,SAAK,YAAL;AACE,UAAI,KAAKX,UAAL,CAAgBvY,MAAhB,KAA2B,CAA/B,EAAkC;AAChC,aAAKgZ,GAAL,CAAS,OAAT,EAAkBE,UAAlB;AACD;;AACD,WAAKF,GAAL,CAAS,KAAT,EAAgBE,UAAhB;AACA;;AAEF,SAAK,OAAL;AACE;AACA;AACA;AACA;AACA,UAAI,KAAKZ,KAAL,KAAe,CAAf,IACA,KAAKlH,KAAL,KAAe,CADf,IAEA,KAAKmH,UAAL,CAAgBvY,MAAhB,KAA2B,CAF/B,EAEkC;AAChC,aAAKqY,KAAL;AACD;;AACD,WAAKC,KAAL,GAAa,CAAb;AACA,WAAKlH,KAAL,GAAa,CAAb;AACA,WAAKmH,UAAL,GAAkB,EAAlB;AACA;;AACF,SAAK,OAAL;AACE;AACA;AACA;AACA;AACA,UAAI,KAAKnH,KAAL,KAAe,CAAf,IAAoB,KAAKmH,UAAL,CAAgBvY,MAAhB,KAA2B,CAAnD,EAAsD;AACpD,aAAKsY,KAAL;AACD;;AACD,WAAKlH,KAAL,GAAa,CAAb;AACA,WAAKmH,UAAL,GAAkB,EAAlB;AACA;;AACF,SAAK,OAAL;AACE;AACA;AACA;AACA;AACA,UAAI,KAAKA,UAAL,CAAgBvY,MAAhB,KAA2B,CAA/B,EAAkC;AAChC,aAAKoR,KAAL;AACD;;AACD,WAAKmH,UAAL,GAAkB,EAAlB;AACA;AACF;AACA;;AACA,SAAK,KAAL;AACE,UAAI,KAAKA,UAAL,CAAgBvY,MAAhB,KAA2B,CAA/B,EAAkC;AAChC,aAAKuY,UAAL,GAAkB,CAAC,CAAD,CAAlB;AACD,OAFD,MAEO;AACL,YAAItY,CAAC,GAAG,KAAKsY,UAAL,CAAgBvY,MAAxB;;AACA,eAAO,EAAEC,CAAF,IAAO,CAAd,EAAiB;AACf,cAAI,OAAO,KAAKsY,UAAL,CAAgBtY,CAAhB,CAAP,KAA8B,QAAlC,EAA4C;AAC1C,iBAAKsY,UAAL,CAAgBtY,CAAhB;AACAA,aAAC,GAAG,CAAC,CAAL;AACD;AACF;;AACD,YAAIA,CAAC,KAAK,CAAC,CAAX,EAAc;AACZ;AACA,eAAKsY,UAAL,CAAgBzX,IAAhB,CAAqB,CAArB;AACD;AACF;;AACD,UAAIoY,UAAJ,EAAgB;AACd;AACA;AACA,YAAI,KAAKX,UAAL,CAAgB,CAAhB,MAAuBW,UAA3B,EAAuC;AACrC,cAAI5T,KAAK,CAAC,KAAKiT,UAAL,CAAgB,CAAhB,CAAD,CAAT,EAA+B;AAC7B,iBAAKA,UAAL,GAAkB,CAACW,UAAD,EAAa,CAAb,CAAlB;AACD;AACF,SAJD,MAIO;AACL,eAAKX,UAAL,GAAkB,CAACW,UAAD,EAAa,CAAb,CAAlB;AACD;AACF;;AACD;;AAEF;AACE,YAAM,IAAIxX,KAAJ,CAAU,iCAAiCuX,OAA3C,CAAN;AAlGJ;;AAoGA,OAAKjN,MAAL;AACA,OAAK/J,GAAL,GAAW,KAAK0O,OAAhB;AACA,SAAO,IAAP;AACD,CAxGD;;AA0GAhD,OAAO,CAACqL,GAAR,GAAcA,GAAd;;AACA,SAASA,GAAT,CAAcrI,OAAd,EAAuBsI,OAAvB,EAAgCrB,KAAhC,EAAuCsB,UAAvC,EAAmD;AACjD,MAAI,OAAQtB,KAAR,KAAmB,QAAvB,EAAiC;AAC/BsB,cAAU,GAAGtB,KAAb;AACAA,SAAK,GAAG/X,SAAR;AACD;;AAED,MAAI;AACF,WAAO,IAAIqU,MAAJ,CAAWvD,OAAX,EAAoBiH,KAApB,EAA2BoB,GAA3B,CAA+BC,OAA/B,EAAwCC,UAAxC,EAAoDvI,OAA3D;AACD,GAFD,CAEE,OAAOoH,EAAP,EAAW;AACX,WAAO,IAAP;AACD;AACF;;AAEDpK,OAAO,CAACwL,IAAR,GAAeA,IAAf;;AACA,SAASA,IAAT,CAAeC,QAAf,EAAyBC,QAAzB,EAAmC;AACjC,MAAIC,EAAE,CAACF,QAAD,EAAWC,QAAX,CAAN,EAA4B;AAC1B,WAAO,IAAP;AACD,GAFD,MAEO;AACL,QAAIE,EAAE,GAAGnX,KAAK,CAACgX,QAAD,CAAd;AACA,QAAII,EAAE,GAAGpX,KAAK,CAACiX,QAAD,CAAd;AACA,QAAII,MAAM,GAAG,EAAb;;AACA,QAAIF,EAAE,CAAChB,UAAH,CAAcvY,MAAd,IAAwBwZ,EAAE,CAACjB,UAAH,CAAcvY,MAA1C,EAAkD;AAChDyZ,YAAM,GAAG,KAAT;AACA,UAAIC,aAAa,GAAG,YAApB;AACD;;AACD,SAAK,IAAIlb,GAAT,IAAgB+a,EAAhB,EAAoB;AAClB,UAAI/a,GAAG,KAAK,OAAR,IAAmBA,GAAG,KAAK,OAA3B,IAAsCA,GAAG,KAAK,OAAlD,EAA2D;AACzD,YAAI+a,EAAE,CAAC/a,GAAD,CAAF,KAAYgb,EAAE,CAAChb,GAAD,CAAlB,EAAyB;AACvB,iBAAOib,MAAM,GAAGjb,GAAhB;AACD;AACF;AACF;;AACD,WAAOkb,aAAP,CAfK,CAegB;AACtB;AACF;;AAED/L,OAAO,CAACmL,kBAAR,GAA6BA,kBAA7B;AAEA,IAAIa,OAAO,GAAG,UAAd;;AACA,SAASb,kBAAT,CAA6Bpb,CAA7B,EAAgCC,CAAhC,EAAmC;AACjC,MAAIic,IAAI,GAAGD,OAAO,CAAClK,IAAR,CAAa/R,CAAb,CAAX;AACA,MAAImc,IAAI,GAAGF,OAAO,CAAClK,IAAR,CAAa9R,CAAb,CAAX;;AAEA,MAAIic,IAAI,IAAIC,IAAZ,EAAkB;AAChBnc,KAAC,GAAG,CAACA,CAAL;AACAC,KAAC,GAAG,CAACA,CAAL;AACD;;AAED,SAAOD,CAAC,KAAKC,CAAN,GAAU,CAAV,GACFic,IAAI,IAAI,CAACC,IAAV,GAAkB,CAAC,CAAnB,GACCA,IAAI,IAAI,CAACD,IAAV,GAAkB,CAAlB,GACAlc,CAAC,GAAGC,CAAJ,GAAQ,CAAC,CAAT,GACA,CAJJ;AAKD;;AAEDgQ,OAAO,CAACmM,mBAAR,GAA8BA,mBAA9B;;AACA,SAASA,mBAAT,CAA8Bpc,CAA9B,EAAiCC,CAAjC,EAAoC;AAClC,SAAOmb,kBAAkB,CAACnb,CAAD,EAAID,CAAJ,CAAzB;AACD;;AAEDiQ,OAAO,CAAC0K,KAAR,GAAgBA,KAAhB;;AACA,SAASA,KAAT,CAAgB3a,CAAhB,EAAmBka,KAAnB,EAA0B;AACxB,SAAO,IAAI1D,MAAJ,CAAWxW,CAAX,EAAcka,KAAd,EAAqBS,KAA5B;AACD;;AAED1K,OAAO,CAAC2K,KAAR,GAAgBA,KAAhB;;AACA,SAASA,KAAT,CAAgB5a,CAAhB,EAAmBka,KAAnB,EAA0B;AACxB,SAAO,IAAI1D,MAAJ,CAAWxW,CAAX,EAAcka,KAAd,EAAqBU,KAA5B;AACD;;AAED3K,OAAO,CAACyD,KAAR,GAAgBA,KAAhB;;AACA,SAASA,KAAT,CAAgB1T,CAAhB,EAAmBka,KAAnB,EAA0B;AACxB,SAAO,IAAI1D,MAAJ,CAAWxW,CAAX,EAAcka,KAAd,EAAqBxG,KAA5B;AACD;;AAEDzD,OAAO,CAAC+K,OAAR,GAAkBA,OAAlB;;AACA,SAASA,OAAT,CAAkBhb,CAAlB,EAAqBC,CAArB,EAAwBia,KAAxB,EAA+B;AAC7B,SAAO,IAAI1D,MAAJ,CAAWxW,CAAX,EAAcka,KAAd,EAAqBc,OAArB,CAA6B,IAAIxE,MAAJ,CAAWvW,CAAX,EAAcia,KAAd,CAA7B,CAAP;AACD;;AAEDjK,OAAO,CAACoM,YAAR,GAAuBA,YAAvB;;AACA,SAASA,YAAT,CAAuBrc,CAAvB,EAA0BC,CAA1B,EAA6B;AAC3B,SAAO+a,OAAO,CAAChb,CAAD,EAAIC,CAAJ,EAAO,IAAP,CAAd;AACD;;AAEDgQ,OAAO,CAACoL,YAAR,GAAuBA,YAAvB;;AACA,SAASA,YAAT,CAAuBrb,CAAvB,EAA0BC,CAA1B,EAA6Bia,KAA7B,EAAoC;AAClC,MAAIoC,QAAQ,GAAG,IAAI9F,MAAJ,CAAWxW,CAAX,EAAcka,KAAd,CAAf;AACA,MAAIqC,QAAQ,GAAG,IAAI/F,MAAJ,CAAWvW,CAAX,EAAcia,KAAd,CAAf;AACA,SAAOoC,QAAQ,CAACtB,OAAT,CAAiBuB,QAAjB,KAA8BD,QAAQ,CAACjB,YAAT,CAAsBkB,QAAtB,CAArC;AACD;;AAEDtM,OAAO,CAACuM,QAAR,GAAmBA,QAAnB;;AACA,SAASA,QAAT,CAAmBxc,CAAnB,EAAsBC,CAAtB,EAAyBia,KAAzB,EAAgC;AAC9B,SAAOc,OAAO,CAAC/a,CAAD,EAAID,CAAJ,EAAOka,KAAP,CAAd;AACD;;AAEDjK,OAAO,CAAC9F,IAAR,GAAeA,IAAf;;AACA,SAASA,IAAT,CAAesS,IAAf,EAAqBvC,KAArB,EAA4B;AAC1B,SAAOuC,IAAI,CAACtS,IAAL,CAAU,UAAUnK,CAAV,EAAaC,CAAb,EAAgB;AAC/B,WAAOgQ,OAAO,CAACoL,YAAR,CAAqBrb,CAArB,EAAwBC,CAAxB,EAA2Bia,KAA3B,CAAP;AACD,GAFM,CAAP;AAGD;;AAEDjK,OAAO,CAACyM,KAAR,GAAgBA,KAAhB;;AACA,SAASA,KAAT,CAAgBD,IAAhB,EAAsBvC,KAAtB,EAA6B;AAC3B,SAAOuC,IAAI,CAACtS,IAAL,CAAU,UAAUnK,CAAV,EAAaC,CAAb,EAAgB;AAC/B,WAAOgQ,OAAO,CAACoL,YAAR,CAAqBpb,CAArB,EAAwBD,CAAxB,EAA2Bka,KAA3B,CAAP;AACD,GAFM,CAAP;AAGD;;AAEDjK,OAAO,CAAC0M,EAAR,GAAaA,EAAb;;AACA,SAASA,EAAT,CAAa3c,CAAb,EAAgBC,CAAhB,EAAmBia,KAAnB,EAA0B;AACxB,SAAOc,OAAO,CAAChb,CAAD,EAAIC,CAAJ,EAAOia,KAAP,CAAP,GAAuB,CAA9B;AACD;;AAEDjK,OAAO,CAAC2M,EAAR,GAAaA,EAAb;;AACA,SAASA,EAAT,CAAa5c,CAAb,EAAgBC,CAAhB,EAAmBia,KAAnB,EAA0B;AACxB,SAAOc,OAAO,CAAChb,CAAD,EAAIC,CAAJ,EAAOia,KAAP,CAAP,GAAuB,CAA9B;AACD;;AAEDjK,OAAO,CAAC2L,EAAR,GAAaA,EAAb;;AACA,SAASA,EAAT,CAAa5b,CAAb,EAAgBC,CAAhB,EAAmBia,KAAnB,EAA0B;AACxB,SAAOc,OAAO,CAAChb,CAAD,EAAIC,CAAJ,EAAOia,KAAP,CAAP,KAAyB,CAAhC;AACD;;AAEDjK,OAAO,CAAC4M,GAAR,GAAcA,GAAd;;AACA,SAASA,GAAT,CAAc7c,CAAd,EAAiBC,CAAjB,EAAoBia,KAApB,EAA2B;AACzB,SAAOc,OAAO,CAAChb,CAAD,EAAIC,CAAJ,EAAOia,KAAP,CAAP,KAAyB,CAAhC;AACD;;AAEDjK,OAAO,CAAC6M,GAAR,GAAcA,GAAd;;AACA,SAASA,GAAT,CAAc9c,CAAd,EAAiBC,CAAjB,EAAoBia,KAApB,EAA2B;AACzB,SAAOc,OAAO,CAAChb,CAAD,EAAIC,CAAJ,EAAOia,KAAP,CAAP,IAAwB,CAA/B;AACD;;AAEDjK,OAAO,CAAC8M,GAAR,GAAcA,GAAd;;AACA,SAASA,GAAT,CAAc/c,CAAd,EAAiBC,CAAjB,EAAoBia,KAApB,EAA2B;AACzB,SAAOc,OAAO,CAAChb,CAAD,EAAIC,CAAJ,EAAOia,KAAP,CAAP,IAAwB,CAA/B;AACD;;AAEDjK,OAAO,CAAC+M,GAAR,GAAcA,GAAd;;AACA,SAASA,GAAT,CAAchd,CAAd,EAAiBid,EAAjB,EAAqBhd,CAArB,EAAwBia,KAAxB,EAA+B;AAC7B,UAAQ+C,EAAR;AACE,SAAK,KAAL;AACE,UAAI,QAAOjd,CAAP,MAAa,QAAjB,EACEA,CAAC,GAAGA,CAAC,CAACiT,OAAN;AACF,UAAI,QAAOhT,CAAP,MAAa,QAAjB,EACEA,CAAC,GAAGA,CAAC,CAACgT,OAAN;AACF,aAAOjT,CAAC,KAAKC,CAAb;;AAEF,SAAK,KAAL;AACE,UAAI,QAAOD,CAAP,MAAa,QAAjB,EACEA,CAAC,GAAGA,CAAC,CAACiT,OAAN;AACF,UAAI,QAAOhT,CAAP,MAAa,QAAjB,EACEA,CAAC,GAAGA,CAAC,CAACgT,OAAN;AACF,aAAOjT,CAAC,KAAKC,CAAb;;AAEF,SAAK,EAAL;AACA,SAAK,GAAL;AACA,SAAK,IAAL;AACE,aAAO2b,EAAE,CAAC5b,CAAD,EAAIC,CAAJ,EAAOia,KAAP,CAAT;;AAEF,SAAK,IAAL;AACE,aAAO2C,GAAG,CAAC7c,CAAD,EAAIC,CAAJ,EAAOia,KAAP,CAAV;;AAEF,SAAK,GAAL;AACE,aAAOyC,EAAE,CAAC3c,CAAD,EAAIC,CAAJ,EAAOia,KAAP,CAAT;;AAEF,SAAK,IAAL;AACE,aAAO4C,GAAG,CAAC9c,CAAD,EAAIC,CAAJ,EAAOia,KAAP,CAAV;;AAEF,SAAK,GAAL;AACE,aAAO0C,EAAE,CAAC5c,CAAD,EAAIC,CAAJ,EAAOia,KAAP,CAAT;;AAEF,SAAK,IAAL;AACE,aAAO6C,GAAG,CAAC/c,CAAD,EAAIC,CAAJ,EAAOia,KAAP,CAAV;;AAEF;AACE,YAAM,IAAI3J,SAAJ,CAAc,uBAAuB0M,EAArC,CAAN;AApCJ;AAsCD;;AAEDhN,OAAO,CAACiN,UAAR,GAAqBA,UAArB;;AACA,SAASA,UAAT,CAAqBC,IAArB,EAA2BlD,OAA3B,EAAoC;AAClC,MAAI,CAACA,OAAD,IAAY,QAAOA,OAAP,MAAmB,QAAnC,EAA6C;AAC3CA,WAAO,GAAG;AACRC,WAAK,EAAE,CAAC,CAACD,OADD;AAERE,uBAAiB,EAAE;AAFX,KAAV;AAID;;AAED,MAAIgD,IAAI,YAAYD,UAApB,EAAgC;AAC9B,QAAIC,IAAI,CAACjD,KAAL,KAAe,CAAC,CAACD,OAAO,CAACC,KAA7B,EAAoC;AAClC,aAAOiD,IAAP;AACD,KAFD,MAEO;AACLA,UAAI,GAAGA,IAAI,CAAC/Y,KAAZ;AACD;AACF;;AAED,MAAI,EAAE,gBAAgB8Y,UAAlB,CAAJ,EAAmC;AACjC,WAAO,IAAIA,UAAJ,CAAeC,IAAf,EAAqBlD,OAArB,CAAP;AACD;;AAEDxD,OAAK,CAAC,YAAD,EAAe0G,IAAf,EAAqBlD,OAArB,CAAL;AACA,OAAKA,OAAL,GAAeA,OAAf;AACA,OAAKC,KAAL,GAAa,CAAC,CAACD,OAAO,CAACC,KAAvB;AACA,OAAKxV,KAAL,CAAWyY,IAAX;;AAEA,MAAI,KAAKC,MAAL,KAAgBC,GAApB,EAAyB;AACvB,SAAKjZ,KAAL,GAAa,EAAb;AACD,GAFD,MAEO;AACL,SAAKA,KAAL,GAAa,KAAKkZ,QAAL,GAAgB,KAAKF,MAAL,CAAYnK,OAAzC;AACD;;AAEDwD,OAAK,CAAC,MAAD,EAAS,IAAT,CAAL;AACD;;AAED,IAAI4G,GAAG,GAAG,EAAV;;AACAH,UAAU,CAAChV,SAAX,CAAqBxD,KAArB,GAA6B,UAAUyY,IAAV,EAAgB;AAC3C,MAAI/C,CAAC,GAAG,KAAKH,OAAL,CAAaC,KAAb,GAAqBjD,EAAE,CAACE,CAAC,CAACuC,eAAH,CAAvB,GAA6CzC,EAAE,CAACE,CAAC,CAACwC,UAAH,CAAvD;AACA,MAAIe,CAAC,GAAGyC,IAAI,CAACvX,KAAL,CAAWwU,CAAX,CAAR;;AAEA,MAAI,CAACM,CAAL,EAAQ;AACN,UAAM,IAAInK,SAAJ,CAAc,yBAAyB4M,IAAvC,CAAN;AACD;;AAED,OAAKG,QAAL,GAAgB5C,CAAC,CAAC,CAAD,CAAD,KAASvY,SAAT,GAAqBuY,CAAC,CAAC,CAAD,CAAtB,GAA4B,EAA5C;;AACA,MAAI,KAAK4C,QAAL,KAAkB,GAAtB,EAA2B;AACzB,SAAKA,QAAL,GAAgB,EAAhB;AACD,GAX0C,CAa3C;;;AACA,MAAI,CAAC5C,CAAC,CAAC,CAAD,CAAN,EAAW;AACT,SAAK0C,MAAL,GAAcC,GAAd;AACD,GAFD,MAEO;AACL,SAAKD,MAAL,GAAc,IAAI5G,MAAJ,CAAWkE,CAAC,CAAC,CAAD,CAAZ,EAAiB,KAAKT,OAAL,CAAaC,KAA9B,CAAd;AACD;AACF,CAnBD;;AAqBAgD,UAAU,CAAChV,SAAX,CAAqBhI,QAArB,GAAgC,YAAY;AAC1C,SAAO,KAAKkE,KAAZ;AACD,CAFD;;AAIA8Y,UAAU,CAAChV,SAAX,CAAqB6J,IAArB,GAA4B,UAAUkB,OAAV,EAAmB;AAC7CwD,OAAK,CAAC,iBAAD,EAAoBxD,OAApB,EAA6B,KAAKgH,OAAL,CAAaC,KAA1C,CAAL;;AAEA,MAAI,KAAKkD,MAAL,KAAgBC,GAAhB,IAAuBpK,OAAO,KAAKoK,GAAvC,EAA4C;AAC1C,WAAO,IAAP;AACD;;AAED,MAAI,OAAOpK,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,QAAI;AACFA,aAAO,GAAG,IAAIuD,MAAJ,CAAWvD,OAAX,EAAoB,KAAKgH,OAAzB,CAAV;AACD,KAFD,CAEE,OAAOI,EAAP,EAAW;AACX,aAAO,KAAP;AACD;AACF;;AAED,SAAO2C,GAAG,CAAC/J,OAAD,EAAU,KAAKqK,QAAf,EAAyB,KAAKF,MAA9B,EAAsC,KAAKnD,OAA3C,CAAV;AACD,CAhBD;;AAkBAiD,UAAU,CAAChV,SAAX,CAAqBqV,UAArB,GAAkC,UAAUJ,IAAV,EAAgBlD,OAAhB,EAAyB;AACzD,MAAI,EAAEkD,IAAI,YAAYD,UAAlB,CAAJ,EAAmC;AACjC,UAAM,IAAI3M,SAAJ,CAAc,0BAAd,CAAN;AACD;;AAED,MAAI,CAAC0J,OAAD,IAAY,QAAOA,OAAP,MAAmB,QAAnC,EAA6C;AAC3CA,WAAO,GAAG;AACRC,WAAK,EAAE,CAAC,CAACD,OADD;AAERE,uBAAiB,EAAE;AAFX,KAAV;AAID;;AAED,MAAIqD,QAAJ;;AAEA,MAAI,KAAKF,QAAL,KAAkB,EAAtB,EAA0B;AACxB,QAAI,KAAKlZ,KAAL,KAAe,EAAnB,EAAuB;AACrB,aAAO,IAAP;AACD;;AACDoZ,YAAQ,GAAG,IAAIC,KAAJ,CAAUN,IAAI,CAAC/Y,KAAf,EAAsB6V,OAAtB,CAAX;AACA,WAAOyD,SAAS,CAAC,KAAKtZ,KAAN,EAAaoZ,QAAb,EAAuBvD,OAAvB,CAAhB;AACD,GAND,MAMO,IAAIkD,IAAI,CAACG,QAAL,KAAkB,EAAtB,EAA0B;AAC/B,QAAIH,IAAI,CAAC/Y,KAAL,KAAe,EAAnB,EAAuB;AACrB,aAAO,IAAP;AACD;;AACDoZ,YAAQ,GAAG,IAAIC,KAAJ,CAAU,KAAKrZ,KAAf,EAAsB6V,OAAtB,CAAX;AACA,WAAOyD,SAAS,CAACP,IAAI,CAACC,MAAN,EAAcI,QAAd,EAAwBvD,OAAxB,CAAhB;AACD;;AAED,MAAI0D,uBAAuB,GACzB,CAAC,KAAKL,QAAL,KAAkB,IAAlB,IAA0B,KAAKA,QAAL,KAAkB,GAA7C,MACCH,IAAI,CAACG,QAAL,KAAkB,IAAlB,IAA0BH,IAAI,CAACG,QAAL,KAAkB,GAD7C,CADF;AAGA,MAAIM,uBAAuB,GACzB,CAAC,KAAKN,QAAL,KAAkB,IAAlB,IAA0B,KAAKA,QAAL,KAAkB,GAA7C,MACCH,IAAI,CAACG,QAAL,KAAkB,IAAlB,IAA0BH,IAAI,CAACG,QAAL,KAAkB,GAD7C,CADF;AAGA,MAAIO,UAAU,GAAG,KAAKT,MAAL,CAAYnK,OAAZ,KAAwBkK,IAAI,CAACC,MAAL,CAAYnK,OAArD;AACA,MAAI6K,4BAA4B,GAC9B,CAAC,KAAKR,QAAL,KAAkB,IAAlB,IAA0B,KAAKA,QAAL,KAAkB,IAA7C,MACCH,IAAI,CAACG,QAAL,KAAkB,IAAlB,IAA0BH,IAAI,CAACG,QAAL,KAAkB,IAD7C,CADF;AAGA,MAAIS,0BAA0B,GAC5Bf,GAAG,CAAC,KAAKI,MAAN,EAAc,GAAd,EAAmBD,IAAI,CAACC,MAAxB,EAAgCnD,OAAhC,CAAH,IACC,CAAC,KAAKqD,QAAL,KAAkB,IAAlB,IAA0B,KAAKA,QAAL,KAAkB,GAA7C,MACAH,IAAI,CAACG,QAAL,KAAkB,IAAlB,IAA0BH,IAAI,CAACG,QAAL,KAAkB,GAD5C,CAFH;AAIA,MAAIU,6BAA6B,GAC/BhB,GAAG,CAAC,KAAKI,MAAN,EAAc,GAAd,EAAmBD,IAAI,CAACC,MAAxB,EAAgCnD,OAAhC,CAAH,IACC,CAAC,KAAKqD,QAAL,KAAkB,IAAlB,IAA0B,KAAKA,QAAL,KAAkB,GAA7C,MACAH,IAAI,CAACG,QAAL,KAAkB,IAAlB,IAA0BH,IAAI,CAACG,QAAL,KAAkB,GAD5C,CAFH;AAKA,SAAOK,uBAAuB,IAAIC,uBAA3B,IACJC,UAAU,IAAIC,4BADV,IAELC,0BAFK,IAEyBC,6BAFhC;AAGD,CAlDD;;AAoDA/N,OAAO,CAACwN,KAAR,GAAgBA,KAAhB;;AACA,SAASA,KAAT,CAAgBQ,KAAhB,EAAuBhE,OAAvB,EAAgC;AAC9B,MAAI,CAACA,OAAD,IAAY,QAAOA,OAAP,MAAmB,QAAnC,EAA6C;AAC3CA,WAAO,GAAG;AACRC,WAAK,EAAE,CAAC,CAACD,OADD;AAERE,uBAAiB,EAAE;AAFX,KAAV;AAID;;AAED,MAAI8D,KAAK,YAAYR,KAArB,EAA4B;AAC1B,QAAIQ,KAAK,CAAC/D,KAAN,KAAgB,CAAC,CAACD,OAAO,CAACC,KAA1B,IACA+D,KAAK,CAAC9D,iBAAN,KAA4B,CAAC,CAACF,OAAO,CAACE,iBAD1C,EAC6D;AAC3D,aAAO8D,KAAP;AACD,KAHD,MAGO;AACL,aAAO,IAAIR,KAAJ,CAAUQ,KAAK,CAAC1Z,GAAhB,EAAqB0V,OAArB,CAAP;AACD;AACF;;AAED,MAAIgE,KAAK,YAAYf,UAArB,EAAiC;AAC/B,WAAO,IAAIO,KAAJ,CAAUQ,KAAK,CAAC7Z,KAAhB,EAAuB6V,OAAvB,CAAP;AACD;;AAED,MAAI,EAAE,gBAAgBwD,KAAlB,CAAJ,EAA8B;AAC5B,WAAO,IAAIA,KAAJ,CAAUQ,KAAV,EAAiBhE,OAAjB,CAAP;AACD;;AAED,OAAKA,OAAL,GAAeA,OAAf;AACA,OAAKC,KAAL,GAAa,CAAC,CAACD,OAAO,CAACC,KAAvB;AACA,OAAKC,iBAAL,GAAyB,CAAC,CAACF,OAAO,CAACE,iBAAnC,CA3B8B,CA6B9B;;AACA,OAAK5V,GAAL,GAAW0Z,KAAX;AACA,OAAKxc,GAAL,GAAWwc,KAAK,CAAC/M,KAAN,CAAY,YAAZ,EAA0BH,GAA1B,CAA8B,UAAUkN,KAAV,EAAiB;AACxD,WAAO,KAAKC,UAAL,CAAgBD,KAAK,CAACxD,IAAN,EAAhB,CAAP;AACD,GAFU,EAER,IAFQ,EAEF0D,MAFE,CAEK,UAAUC,CAAV,EAAa;AAC3B;AACA,WAAOA,CAAC,CAAC9b,MAAT;AACD,GALU,CAAX;;AAOA,MAAI,CAAC,KAAKb,GAAL,CAASa,MAAd,EAAsB;AACpB,UAAM,IAAIiO,SAAJ,CAAc,2BAA2B0N,KAAzC,CAAN;AACD;;AAED,OAAK3P,MAAL;AACD;;AAEDmP,KAAK,CAACvV,SAAN,CAAgBoG,MAAhB,GAAyB,YAAY;AACnC,OAAK2P,KAAL,GAAa,KAAKxc,GAAL,CAASsP,GAAT,CAAa,UAAUsN,KAAV,EAAiB;AACzC,WAAOA,KAAK,CAACxa,IAAN,CAAW,GAAX,EAAgB4W,IAAhB,EAAP;AACD,GAFY,EAEV5W,IAFU,CAEL,IAFK,EAEC4W,IAFD,EAAb;AAGA,SAAO,KAAKwD,KAAZ;AACD,CALD;;AAOAR,KAAK,CAACvV,SAAN,CAAgBhI,QAAhB,GAA2B,YAAY;AACrC,SAAO,KAAK+d,KAAZ;AACD,CAFD;;AAIAR,KAAK,CAACvV,SAAN,CAAgBgW,UAAhB,GAA6B,UAAUD,KAAV,EAAiB;AAC5C,MAAI/D,KAAK,GAAG,KAAKD,OAAL,CAAaC,KAAzB;AACA+D,OAAK,GAAGA,KAAK,CAACxD,IAAN,EAAR,CAF4C,CAG5C;;AACA,MAAI6D,EAAE,GAAGpE,KAAK,GAAGjD,EAAE,CAACE,CAAC,CAAC4C,gBAAH,CAAL,GAA4B9C,EAAE,CAACE,CAAC,CAAC2C,WAAH,CAA5C;AACAmE,OAAK,GAAGA,KAAK,CAACtP,OAAN,CAAc2P,EAAd,EAAkBC,aAAlB,CAAR;AACA9H,OAAK,CAAC,gBAAD,EAAmBwH,KAAnB,CAAL,CAN4C,CAO5C;;AACAA,OAAK,GAAGA,KAAK,CAACtP,OAAN,CAAcsI,EAAE,CAACE,CAAC,CAACyC,cAAH,CAAhB,EAAoCC,qBAApC,CAAR;AACApD,OAAK,CAAC,iBAAD,EAAoBwH,KAApB,EAA2BhH,EAAE,CAACE,CAAC,CAACyC,cAAH,CAA7B,CAAL,CAT4C,CAW5C;;AACAqE,OAAK,GAAGA,KAAK,CAACtP,OAAN,CAAcsI,EAAE,CAACE,CAAC,CAAC8B,SAAH,CAAhB,EAA+BC,gBAA/B,CAAR,CAZ4C,CAc5C;;AACA+E,OAAK,GAAGA,KAAK,CAACtP,OAAN,CAAcsI,EAAE,CAACE,CAAC,CAACmC,SAAH,CAAhB,EAA+BC,gBAA/B,CAAR,CAf4C,CAiB5C;;AACA0E,OAAK,GAAGA,KAAK,CAAC/M,KAAN,CAAY,KAAZ,EAAmBrN,IAAnB,CAAwB,GAAxB,CAAR,CAlB4C,CAoB5C;AACA;;AAEA,MAAI2a,MAAM,GAAGtE,KAAK,GAAGjD,EAAE,CAACE,CAAC,CAACuC,eAAH,CAAL,GAA2BzC,EAAE,CAACE,CAAC,CAACwC,UAAH,CAA/C;AACA,MAAIlY,GAAG,GAAGwc,KAAK,CAAC/M,KAAN,CAAY,GAAZ,EAAiBH,GAAjB,CAAqB,UAAUoM,IAAV,EAAgB;AAC7C,WAAOsB,eAAe,CAACtB,IAAD,EAAO,KAAKlD,OAAZ,CAAtB;AACD,GAFS,EAEP,IAFO,EAEDpW,IAFC,CAEI,GAFJ,EAESqN,KAFT,CAEe,KAFf,CAAV;;AAGA,MAAI,KAAK+I,OAAL,CAAaC,KAAjB,EAAwB;AACtB;AACAzY,OAAG,GAAGA,GAAG,CAAC0c,MAAJ,CAAW,UAAUhB,IAAV,EAAgB;AAC/B,aAAO,CAAC,CAACA,IAAI,CAACvX,KAAL,CAAW4Y,MAAX,CAAT;AACD,KAFK,CAAN;AAGD;;AACD/c,KAAG,GAAGA,GAAG,CAACsP,GAAJ,CAAQ,UAAUoM,IAAV,EAAgB;AAC5B,WAAO,IAAID,UAAJ,CAAeC,IAAf,EAAqB,KAAKlD,OAA1B,CAAP;AACD,GAFK,EAEH,IAFG,CAAN;AAIA,SAAOxY,GAAP;AACD,CAtCD;;AAwCAgc,KAAK,CAACvV,SAAN,CAAgBqV,UAAhB,GAA6B,UAAUU,KAAV,EAAiBhE,OAAjB,EAA0B;AACrD,MAAI,EAAEgE,KAAK,YAAYR,KAAnB,CAAJ,EAA+B;AAC7B,UAAM,IAAIlN,SAAJ,CAAc,qBAAd,CAAN;AACD;;AAED,SAAO,KAAK9O,GAAL,CAASid,IAAT,CAAc,UAAUC,eAAV,EAA2B;AAC9C,WACEC,aAAa,CAACD,eAAD,EAAkB1E,OAAlB,CAAb,IACAgE,KAAK,CAACxc,GAAN,CAAUid,IAAV,CAAe,UAAUG,gBAAV,EAA4B;AACzC,aACED,aAAa,CAACC,gBAAD,EAAmB5E,OAAnB,CAAb,IACA0E,eAAe,CAACG,KAAhB,CAAsB,UAAUC,cAAV,EAA0B;AAC9C,eAAOF,gBAAgB,CAACC,KAAjB,CAAuB,UAAUE,eAAV,EAA2B;AACvD,iBAAOD,cAAc,CAACxB,UAAf,CAA0ByB,eAA1B,EAA2C/E,OAA3C,CAAP;AACD,SAFM,CAAP;AAGD,OAJD,CAFF;AAQD,KATD,CAFF;AAaD,GAdM,CAAP;AAeD,CApBD,C,CAsBA;AACA;;;AACA,SAAS2E,aAAT,CAAwBK,WAAxB,EAAqChF,OAArC,EAA8C;AAC5C,MAAIiF,MAAM,GAAG,IAAb;AACA,MAAIC,oBAAoB,GAAGF,WAAW,CAAC9b,KAAZ,EAA3B;AACA,MAAIic,cAAc,GAAGD,oBAAoB,CAACtZ,GAArB,EAArB;;AAEA,SAAOqZ,MAAM,IAAIC,oBAAoB,CAAC7c,MAAtC,EAA8C;AAC5C4c,UAAM,GAAGC,oBAAoB,CAACL,KAArB,CAA2B,UAAUO,eAAV,EAA2B;AAC7D,aAAOD,cAAc,CAAC7B,UAAf,CAA0B8B,eAA1B,EAA2CpF,OAA3C,CAAP;AACD,KAFQ,CAAT;AAIAmF,kBAAc,GAAGD,oBAAoB,CAACtZ,GAArB,EAAjB;AACD;;AAED,SAAOqZ,MAAP;AACD,C,CAED;;;AACAjP,OAAO,CAACqP,aAAR,GAAwBA,aAAxB;;AACA,SAASA,aAAT,CAAwBrB,KAAxB,EAA+BhE,OAA/B,EAAwC;AACtC,SAAO,IAAIwD,KAAJ,CAAUQ,KAAV,EAAiBhE,OAAjB,EAA0BxY,GAA1B,CAA8BsP,GAA9B,CAAkC,UAAUoM,IAAV,EAAgB;AACvD,WAAOA,IAAI,CAACpM,GAAL,CAAS,UAAUqN,CAAV,EAAa;AAC3B,aAAOA,CAAC,CAACha,KAAT;AACD,KAFM,EAEJP,IAFI,CAEC,GAFD,EAEM4W,IAFN,GAEavJ,KAFb,CAEmB,GAFnB,CAAP;AAGD,GAJM,CAAP;AAKD,C,CAED;AACA;AACA;;;AACA,SAASuN,eAAT,CAA0BtB,IAA1B,EAAgClD,OAAhC,EAAyC;AACvCxD,OAAK,CAAC,MAAD,EAAS0G,IAAT,EAAelD,OAAf,CAAL;AACAkD,MAAI,GAAGoC,aAAa,CAACpC,IAAD,EAAOlD,OAAP,CAApB;AACAxD,OAAK,CAAC,OAAD,EAAU0G,IAAV,CAAL;AACAA,MAAI,GAAGqC,aAAa,CAACrC,IAAD,EAAOlD,OAAP,CAApB;AACAxD,OAAK,CAAC,QAAD,EAAW0G,IAAX,CAAL;AACAA,MAAI,GAAGsC,cAAc,CAACtC,IAAD,EAAOlD,OAAP,CAArB;AACAxD,OAAK,CAAC,QAAD,EAAW0G,IAAX,CAAL;AACAA,MAAI,GAAGuC,YAAY,CAACvC,IAAD,EAAOlD,OAAP,CAAnB;AACAxD,OAAK,CAAC,OAAD,EAAU0G,IAAV,CAAL;AACA,SAAOA,IAAP;AACD;;AAED,SAASwC,GAAT,CAAcrc,EAAd,EAAkB;AAChB,SAAO,CAACA,EAAD,IAAOA,EAAE,CAACqG,WAAH,OAAqB,GAA5B,IAAmCrG,EAAE,KAAK,GAAjD;AACD,C,CAED;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASkc,aAAT,CAAwBrC,IAAxB,EAA8BlD,OAA9B,EAAuC;AACrC,SAAOkD,IAAI,CAAC1C,IAAL,GAAYvJ,KAAZ,CAAkB,KAAlB,EAAyBH,GAAzB,CAA6B,UAAUoM,IAAV,EAAgB;AAClD,WAAOyC,YAAY,CAACzC,IAAD,EAAOlD,OAAP,CAAnB;AACD,GAFM,EAEJpW,IAFI,CAEC,GAFD,CAAP;AAGD;;AAED,SAAS+b,YAAT,CAAuBzC,IAAvB,EAA6BlD,OAA7B,EAAsC;AACpC,MAAIG,CAAC,GAAGH,OAAO,CAACC,KAAR,GAAgBjD,EAAE,CAACE,CAAC,CAACiC,UAAH,CAAlB,GAAmCnC,EAAE,CAACE,CAAC,CAACgC,KAAH,CAA7C;AACA,SAAOgE,IAAI,CAACxO,OAAL,CAAayL,CAAb,EAAgB,UAAUyF,CAAV,EAAaC,CAAb,EAAgBpF,CAAhB,EAAmBqF,CAAnB,EAAsBC,EAAtB,EAA0B;AAC/CvJ,SAAK,CAAC,OAAD,EAAU0G,IAAV,EAAgB0C,CAAhB,EAAmBC,CAAnB,EAAsBpF,CAAtB,EAAyBqF,CAAzB,EAA4BC,EAA5B,CAAL;AACA,QAAIC,GAAJ;;AAEA,QAAIN,GAAG,CAACG,CAAD,CAAP,EAAY;AACVG,SAAG,GAAG,EAAN;AACD,KAFD,MAEO,IAAIN,GAAG,CAACjF,CAAD,CAAP,EAAY;AACjBuF,SAAG,GAAG,OAAOH,CAAP,GAAW,QAAX,IAAuB,CAACA,CAAD,GAAK,CAA5B,IAAiC,MAAvC;AACD,KAFM,MAEA,IAAIH,GAAG,CAACI,CAAD,CAAP,EAAY;AACjB;AACAE,SAAG,GAAG,OAAOH,CAAP,GAAW,GAAX,GAAiBpF,CAAjB,GAAqB,MAArB,GAA8BoF,CAA9B,GAAkC,GAAlC,IAAyC,CAACpF,CAAD,GAAK,CAA9C,IAAmD,IAAzD;AACD,KAHM,MAGA,IAAIsF,EAAJ,EAAQ;AACbvJ,WAAK,CAAC,iBAAD,EAAoBuJ,EAApB,CAAL;AACAC,SAAG,GAAG,OAAOH,CAAP,GAAW,GAAX,GAAiBpF,CAAjB,GAAqB,GAArB,GAA2BqF,CAA3B,GAA+B,GAA/B,GAAqCC,EAArC,GACA,IADA,GACOF,CADP,GACW,GADX,IACkB,CAACpF,CAAD,GAAK,CADvB,IAC4B,IADlC;AAED,KAJM,MAIA;AACL;AACAuF,SAAG,GAAG,OAAOH,CAAP,GAAW,GAAX,GAAiBpF,CAAjB,GAAqB,GAArB,GAA2BqF,CAA3B,GACA,IADA,GACOD,CADP,GACW,GADX,IACkB,CAACpF,CAAD,GAAK,CADvB,IAC4B,IADlC;AAED;;AAEDjE,SAAK,CAAC,cAAD,EAAiBwJ,GAAjB,CAAL;AACA,WAAOA,GAAP;AACD,GAvBM,CAAP;AAwBD,C,CAED;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASV,aAAT,CAAwBpC,IAAxB,EAA8BlD,OAA9B,EAAuC;AACrC,SAAOkD,IAAI,CAAC1C,IAAL,GAAYvJ,KAAZ,CAAkB,KAAlB,EAAyBH,GAAzB,CAA6B,UAAUoM,IAAV,EAAgB;AAClD,WAAO+C,YAAY,CAAC/C,IAAD,EAAOlD,OAAP,CAAnB;AACD,GAFM,EAEJpW,IAFI,CAEC,GAFD,CAAP;AAGD;;AAED,SAASqc,YAAT,CAAuB/C,IAAvB,EAA6BlD,OAA7B,EAAsC;AACpCxD,OAAK,CAAC,OAAD,EAAU0G,IAAV,EAAgBlD,OAAhB,CAAL;AACA,MAAIG,CAAC,GAAGH,OAAO,CAACC,KAAR,GAAgBjD,EAAE,CAACE,CAAC,CAACsC,UAAH,CAAlB,GAAmCxC,EAAE,CAACE,CAAC,CAACqC,KAAH,CAA7C;AACA,SAAO2D,IAAI,CAACxO,OAAL,CAAayL,CAAb,EAAgB,UAAUyF,CAAV,EAAaC,CAAb,EAAgBpF,CAAhB,EAAmBqF,CAAnB,EAAsBC,EAAtB,EAA0B;AAC/CvJ,SAAK,CAAC,OAAD,EAAU0G,IAAV,EAAgB0C,CAAhB,EAAmBC,CAAnB,EAAsBpF,CAAtB,EAAyBqF,CAAzB,EAA4BC,EAA5B,CAAL;AACA,QAAIC,GAAJ;;AAEA,QAAIN,GAAG,CAACG,CAAD,CAAP,EAAY;AACVG,SAAG,GAAG,EAAN;AACD,KAFD,MAEO,IAAIN,GAAG,CAACjF,CAAD,CAAP,EAAY;AACjBuF,SAAG,GAAG,OAAOH,CAAP,GAAW,QAAX,IAAuB,CAACA,CAAD,GAAK,CAA5B,IAAiC,MAAvC;AACD,KAFM,MAEA,IAAIH,GAAG,CAACI,CAAD,CAAP,EAAY;AACjB,UAAID,CAAC,KAAK,GAAV,EAAe;AACbG,WAAG,GAAG,OAAOH,CAAP,GAAW,GAAX,GAAiBpF,CAAjB,GAAqB,MAArB,GAA8BoF,CAA9B,GAAkC,GAAlC,IAAyC,CAACpF,CAAD,GAAK,CAA9C,IAAmD,IAAzD;AACD,OAFD,MAEO;AACLuF,WAAG,GAAG,OAAOH,CAAP,GAAW,GAAX,GAAiBpF,CAAjB,GAAqB,MAArB,IAA+B,CAACoF,CAAD,GAAK,CAApC,IAAyC,MAA/C;AACD;AACF,KANM,MAMA,IAAIE,EAAJ,EAAQ;AACbvJ,WAAK,CAAC,iBAAD,EAAoBuJ,EAApB,CAAL;;AACA,UAAIF,CAAC,KAAK,GAAV,EAAe;AACb,YAAIpF,CAAC,KAAK,GAAV,EAAe;AACbuF,aAAG,GAAG,OAAOH,CAAP,GAAW,GAAX,GAAiBpF,CAAjB,GAAqB,GAArB,GAA2BqF,CAA3B,GAA+B,GAA/B,GAAqCC,EAArC,GACA,IADA,GACOF,CADP,GACW,GADX,GACiBpF,CADjB,GACqB,GADrB,IAC4B,CAACqF,CAAD,GAAK,CADjC,CAAN;AAED,SAHD,MAGO;AACLE,aAAG,GAAG,OAAOH,CAAP,GAAW,GAAX,GAAiBpF,CAAjB,GAAqB,GAArB,GAA2BqF,CAA3B,GAA+B,GAA/B,GAAqCC,EAArC,GACA,IADA,GACOF,CADP,GACW,GADX,IACkB,CAACpF,CAAD,GAAK,CADvB,IAC4B,IADlC;AAED;AACF,OARD,MAQO;AACLuF,WAAG,GAAG,OAAOH,CAAP,GAAW,GAAX,GAAiBpF,CAAjB,GAAqB,GAArB,GAA2BqF,CAA3B,GAA+B,GAA/B,GAAqCC,EAArC,GACA,IADA,IACQ,CAACF,CAAD,GAAK,CADb,IACkB,MADxB;AAED;AACF,KAdM,MAcA;AACLrJ,WAAK,CAAC,OAAD,CAAL;;AACA,UAAIqJ,CAAC,KAAK,GAAV,EAAe;AACb,YAAIpF,CAAC,KAAK,GAAV,EAAe;AACbuF,aAAG,GAAG,OAAOH,CAAP,GAAW,GAAX,GAAiBpF,CAAjB,GAAqB,GAArB,GAA2BqF,CAA3B,GACA,IADA,GACOD,CADP,GACW,GADX,GACiBpF,CADjB,GACqB,GADrB,IAC4B,CAACqF,CAAD,GAAK,CADjC,CAAN;AAED,SAHD,MAGO;AACLE,aAAG,GAAG,OAAOH,CAAP,GAAW,GAAX,GAAiBpF,CAAjB,GAAqB,GAArB,GAA2BqF,CAA3B,GACA,IADA,GACOD,CADP,GACW,GADX,IACkB,CAACpF,CAAD,GAAK,CADvB,IAC4B,IADlC;AAED;AACF,OARD,MAQO;AACLuF,WAAG,GAAG,OAAOH,CAAP,GAAW,GAAX,GAAiBpF,CAAjB,GAAqB,GAArB,GAA2BqF,CAA3B,GACA,IADA,IACQ,CAACD,CAAD,GAAK,CADb,IACkB,MADxB;AAED;AACF;;AAEDrJ,SAAK,CAAC,cAAD,EAAiBwJ,GAAjB,CAAL;AACA,WAAOA,GAAP;AACD,GA9CM,CAAP;AA+CD;;AAED,SAASR,cAAT,CAAyBtC,IAAzB,EAA+BlD,OAA/B,EAAwC;AACtCxD,OAAK,CAAC,gBAAD,EAAmB0G,IAAnB,EAAyBlD,OAAzB,CAAL;AACA,SAAOkD,IAAI,CAACjM,KAAL,CAAW,KAAX,EAAkBH,GAAlB,CAAsB,UAAUoM,IAAV,EAAgB;AAC3C,WAAOgD,aAAa,CAAChD,IAAD,EAAOlD,OAAP,CAApB;AACD,GAFM,EAEJpW,IAFI,CAEC,GAFD,CAAP;AAGD;;AAED,SAASsc,aAAT,CAAwBhD,IAAxB,EAA8BlD,OAA9B,EAAuC;AACrCkD,MAAI,GAAGA,IAAI,CAAC1C,IAAL,EAAP;AACA,MAAIL,CAAC,GAAGH,OAAO,CAACC,KAAR,GAAgBjD,EAAE,CAACE,CAAC,CAACyB,WAAH,CAAlB,GAAoC3B,EAAE,CAACE,CAAC,CAACwB,MAAH,CAA9C;AACA,SAAOwE,IAAI,CAACxO,OAAL,CAAayL,CAAb,EAAgB,UAAU6F,GAAV,EAAeG,IAAf,EAAqBN,CAArB,EAAwBpF,CAAxB,EAA2BqF,CAA3B,EAA8BC,EAA9B,EAAkC;AACvDvJ,SAAK,CAAC,QAAD,EAAW0G,IAAX,EAAiB8C,GAAjB,EAAsBG,IAAtB,EAA4BN,CAA5B,EAA+BpF,CAA/B,EAAkCqF,CAAlC,EAAqCC,EAArC,CAAL;AACA,QAAIK,EAAE,GAAGV,GAAG,CAACG,CAAD,CAAZ;AACA,QAAIQ,EAAE,GAAGD,EAAE,IAAIV,GAAG,CAACjF,CAAD,CAAlB;AACA,QAAI6F,EAAE,GAAGD,EAAE,IAAIX,GAAG,CAACI,CAAD,CAAlB;AACA,QAAIS,IAAI,GAAGD,EAAX;;AAEA,QAAIH,IAAI,KAAK,GAAT,IAAgBI,IAApB,EAA0B;AACxBJ,UAAI,GAAG,EAAP;AACD,KATsD,CAWvD;AACA;;;AACAJ,MAAE,GAAG/F,OAAO,CAACE,iBAAR,GAA4B,IAA5B,GAAmC,EAAxC;;AAEA,QAAIkG,EAAJ,EAAQ;AACN,UAAID,IAAI,KAAK,GAAT,IAAgBA,IAAI,KAAK,GAA7B,EAAkC;AAChC;AACAH,WAAG,GAAG,UAAN;AACD,OAHD,MAGO;AACL;AACAA,WAAG,GAAG,GAAN;AACD;AACF,KARD,MAQO,IAAIG,IAAI,IAAII,IAAZ,EAAkB;AACvB;AACA;AACA,UAAIF,EAAJ,EAAQ;AACN5F,SAAC,GAAG,CAAJ;AACD;;AACDqF,OAAC,GAAG,CAAJ;;AAEA,UAAIK,IAAI,KAAK,GAAb,EAAkB;AAChB;AACA;AACA;AACAA,YAAI,GAAG,IAAP;;AACA,YAAIE,EAAJ,EAAQ;AACNR,WAAC,GAAG,CAACA,CAAD,GAAK,CAAT;AACApF,WAAC,GAAG,CAAJ;AACAqF,WAAC,GAAG,CAAJ;AACD,SAJD,MAIO;AACLrF,WAAC,GAAG,CAACA,CAAD,GAAK,CAAT;AACAqF,WAAC,GAAG,CAAJ;AACD;AACF,OAbD,MAaO,IAAIK,IAAI,KAAK,IAAb,EAAmB;AACxB;AACA;AACAA,YAAI,GAAG,GAAP;;AACA,YAAIE,EAAJ,EAAQ;AACNR,WAAC,GAAG,CAACA,CAAD,GAAK,CAAT;AACD,SAFD,MAEO;AACLpF,WAAC,GAAG,CAACA,CAAD,GAAK,CAAT;AACD;AACF;;AAEDuF,SAAG,GAAGG,IAAI,GAAGN,CAAP,GAAW,GAAX,GAAiBpF,CAAjB,GAAqB,GAArB,GAA2BqF,CAA3B,GAA+BC,EAArC;AACD,KAjCM,MAiCA,IAAIM,EAAJ,EAAQ;AACbL,SAAG,GAAG,OAAOH,CAAP,GAAW,MAAX,GAAoBE,EAApB,GAAyB,IAAzB,IAAiC,CAACF,CAAD,GAAK,CAAtC,IAA2C,MAA3C,GAAoDE,EAA1D;AACD,KAFM,MAEA,IAAIO,EAAJ,EAAQ;AACbN,SAAG,GAAG,OAAOH,CAAP,GAAW,GAAX,GAAiBpF,CAAjB,GAAqB,IAArB,GAA4BsF,EAA5B,GACJ,IADI,GACGF,CADH,GACO,GADP,IACc,CAACpF,CAAD,GAAK,CADnB,IACwB,IADxB,GAC+BsF,EADrC;AAED;;AAEDvJ,SAAK,CAAC,eAAD,EAAkBwJ,GAAlB,CAAL;AAEA,WAAOA,GAAP;AACD,GAlEM,CAAP;AAmED,C,CAED;AACA;;;AACA,SAASP,YAAT,CAAuBvC,IAAvB,EAA6BlD,OAA7B,EAAsC;AACpCxD,OAAK,CAAC,cAAD,EAAiB0G,IAAjB,EAAuBlD,OAAvB,CAAL,CADoC,CAEpC;;AACA,SAAOkD,IAAI,CAAC1C,IAAL,GAAY9L,OAAZ,CAAoBsI,EAAE,CAACE,CAAC,CAAC6C,IAAH,CAAtB,EAAgC,EAAhC,CAAP;AACD,C,CAED;AACA;AACA;AACA;AACA;;;AACA,SAASuE,aAAT,CAAwBkC,EAAxB,EACE9Z,IADF,EACQ+Z,EADR,EACYC,EADZ,EACgBC,EADhB,EACoBC,GADpB,EACyBC,EADzB,EAEExP,EAFF,EAEMyP,EAFN,EAEUC,EAFV,EAEcC,EAFd,EAEkBC,GAFlB,EAEuBC,EAFvB,EAE2B;AACzB,MAAIxB,GAAG,CAACe,EAAD,CAAP,EAAa;AACX/Z,QAAI,GAAG,EAAP;AACD,GAFD,MAEO,IAAIgZ,GAAG,CAACgB,EAAD,CAAP,EAAa;AAClBha,QAAI,GAAG,OAAO+Z,EAAP,GAAY,MAAnB;AACD,GAFM,MAEA,IAAIf,GAAG,CAACiB,EAAD,CAAP,EAAa;AAClBja,QAAI,GAAG,OAAO+Z,EAAP,GAAY,GAAZ,GAAkBC,EAAlB,GAAuB,IAA9B;AACD,GAFM,MAEA;AACLha,QAAI,GAAG,OAAOA,IAAd;AACD;;AAED,MAAIgZ,GAAG,CAACoB,EAAD,CAAP,EAAa;AACXzP,MAAE,GAAG,EAAL;AACD,GAFD,MAEO,IAAIqO,GAAG,CAACqB,EAAD,CAAP,EAAa;AAClB1P,MAAE,GAAG,OAAO,CAACyP,EAAD,GAAM,CAAb,IAAkB,MAAvB;AACD,GAFM,MAEA,IAAIpB,GAAG,CAACsB,EAAD,CAAP,EAAa;AAClB3P,MAAE,GAAG,MAAMyP,EAAN,GAAW,GAAX,IAAkB,CAACC,EAAD,GAAM,CAAxB,IAA6B,IAAlC;AACD,GAFM,MAEA,IAAIE,GAAJ,EAAS;AACd5P,MAAE,GAAG,OAAOyP,EAAP,GAAY,GAAZ,GAAkBC,EAAlB,GAAuB,GAAvB,GAA6BC,EAA7B,GAAkC,GAAlC,GAAwCC,GAA7C;AACD,GAFM,MAEA;AACL5P,MAAE,GAAG,OAAOA,EAAZ;AACD;;AAED,SAAO,CAAC3K,IAAI,GAAG,GAAP,GAAa2K,EAAd,EAAkBmJ,IAAlB,EAAP;AACD,C,CAED;;;AACAgD,KAAK,CAACvV,SAAN,CAAgB6J,IAAhB,GAAuB,UAAUkB,OAAV,EAAmB;AACxC,MAAI,CAACA,OAAL,EAAc;AACZ,WAAO,KAAP;AACD;;AAED,MAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,QAAI;AACFA,aAAO,GAAG,IAAIuD,MAAJ,CAAWvD,OAAX,EAAoB,KAAKgH,OAAzB,CAAV;AACD,KAFD,CAEE,OAAOI,EAAP,EAAW;AACX,aAAO,KAAP;AACD;AACF;;AAED,OAAK,IAAI9X,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKd,GAAL,CAASa,MAA7B,EAAqCC,CAAC,EAAtC,EAA0C;AACxC,QAAI6e,OAAO,CAAC,KAAK3f,GAAL,CAASc,CAAT,CAAD,EAAc0Q,OAAd,EAAuB,KAAKgH,OAA5B,CAAX,EAAiD;AAC/C,aAAO,IAAP;AACD;AACF;;AACD,SAAO,KAAP;AACD,CAnBD;;AAqBA,SAASmH,OAAT,CAAkB3f,GAAlB,EAAuBwR,OAAvB,EAAgCgH,OAAhC,EAAyC;AACvC,OAAK,IAAI1X,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGd,GAAG,CAACa,MAAxB,EAAgCC,CAAC,EAAjC,EAAqC;AACnC,QAAI,CAACd,GAAG,CAACc,CAAD,CAAH,CAAOwP,IAAP,CAAYkB,OAAZ,CAAL,EAA2B;AACzB,aAAO,KAAP;AACD;AACF;;AAED,MAAIA,OAAO,CAAC4H,UAAR,CAAmBvY,MAAnB,IAA6B,CAAC2X,OAAO,CAACE,iBAA1C,EAA6D;AAC3D;AACA;AACA;AACA;AACA;AACA,SAAK5X,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGd,GAAG,CAACa,MAApB,EAA4BC,CAAC,EAA7B,EAAiC;AAC/BkU,WAAK,CAAChV,GAAG,CAACc,CAAD,CAAH,CAAO6a,MAAR,CAAL;;AACA,UAAI3b,GAAG,CAACc,CAAD,CAAH,CAAO6a,MAAP,KAAkBC,GAAtB,EAA2B;AACzB;AACD;;AAED,UAAI5b,GAAG,CAACc,CAAD,CAAH,CAAO6a,MAAP,CAAcvC,UAAd,CAAyBvY,MAAzB,GAAkC,CAAtC,EAAyC;AACvC,YAAI+e,OAAO,GAAG5f,GAAG,CAACc,CAAD,CAAH,CAAO6a,MAArB;;AACA,YAAIiE,OAAO,CAAC1G,KAAR,KAAkB1H,OAAO,CAAC0H,KAA1B,IACA0G,OAAO,CAACzG,KAAR,KAAkB3H,OAAO,CAAC2H,KAD1B,IAEAyG,OAAO,CAAC3N,KAAR,KAAkBT,OAAO,CAACS,KAF9B,EAEqC;AACnC,iBAAO,IAAP;AACD;AACF;AACF,KApB0D,CAsB3D;;;AACA,WAAO,KAAP;AACD;;AAED,SAAO,IAAP;AACD;;AAEDzD,OAAO,CAACyN,SAAR,GAAoBA,SAApB;;AACA,SAASA,SAAT,CAAoBzK,OAApB,EAA6BgL,KAA7B,EAAoChE,OAApC,EAA6C;AAC3C,MAAI;AACFgE,SAAK,GAAG,IAAIR,KAAJ,CAAUQ,KAAV,EAAiBhE,OAAjB,CAAR;AACD,GAFD,CAEE,OAAOI,EAAP,EAAW;AACX,WAAO,KAAP;AACD;;AACD,SAAO4D,KAAK,CAAClM,IAAN,CAAWkB,OAAX,CAAP;AACD;;AAEDhD,OAAO,CAACqR,aAAR,GAAwBA,aAAxB;;AACA,SAASA,aAAT,CAAwBC,QAAxB,EAAkCtD,KAAlC,EAAyChE,OAAzC,EAAkD;AAChD,MAAIna,GAAG,GAAG,IAAV;AACA,MAAI0hB,KAAK,GAAG,IAAZ;;AACA,MAAI;AACF,QAAIC,QAAQ,GAAG,IAAIhE,KAAJ,CAAUQ,KAAV,EAAiBhE,OAAjB,CAAf;AACD,GAFD,CAEE,OAAOI,EAAP,EAAW;AACX,WAAO,IAAP;AACD;;AACDkH,UAAQ,CAAC1gB,OAAT,CAAiB,UAAU0Z,CAAV,EAAa;AAC5B,QAAIkH,QAAQ,CAAC1P,IAAT,CAAcwI,CAAd,CAAJ,EAAsB;AACpB;AACA,UAAI,CAACza,GAAD,IAAQ0hB,KAAK,CAACxG,OAAN,CAAcT,CAAd,MAAqB,CAAC,CAAlC,EAAqC;AACnC;AACAza,WAAG,GAAGya,CAAN;AACAiH,aAAK,GAAG,IAAIhL,MAAJ,CAAW1W,GAAX,EAAgBma,OAAhB,CAAR;AACD;AACF;AACF,GATD;AAUA,SAAOna,GAAP;AACD;;AAEDmQ,OAAO,CAACyR,aAAR,GAAwBA,aAAxB;;AACA,SAASA,aAAT,CAAwBH,QAAxB,EAAkCtD,KAAlC,EAAyChE,OAAzC,EAAkD;AAChD,MAAI0H,GAAG,GAAG,IAAV;AACA,MAAIC,KAAK,GAAG,IAAZ;;AACA,MAAI;AACF,QAAIH,QAAQ,GAAG,IAAIhE,KAAJ,CAAUQ,KAAV,EAAiBhE,OAAjB,CAAf;AACD,GAFD,CAEE,OAAOI,EAAP,EAAW;AACX,WAAO,IAAP;AACD;;AACDkH,UAAQ,CAAC1gB,OAAT,CAAiB,UAAU0Z,CAAV,EAAa;AAC5B,QAAIkH,QAAQ,CAAC1P,IAAT,CAAcwI,CAAd,CAAJ,EAAsB;AACpB;AACA,UAAI,CAACoH,GAAD,IAAQC,KAAK,CAAC5G,OAAN,CAAcT,CAAd,MAAqB,CAAjC,EAAoC;AAClC;AACAoH,WAAG,GAAGpH,CAAN;AACAqH,aAAK,GAAG,IAAIpL,MAAJ,CAAWmL,GAAX,EAAgB1H,OAAhB,CAAR;AACD;AACF;AACF,GATD;AAUA,SAAO0H,GAAP;AACD;;AAED1R,OAAO,CAAC4R,UAAR,GAAqBA,UAArB;;AACA,SAASA,UAAT,CAAqB5D,KAArB,EAA4B/D,KAA5B,EAAmC;AACjC+D,OAAK,GAAG,IAAIR,KAAJ,CAAUQ,KAAV,EAAiB/D,KAAjB,CAAR;AAEA,MAAI4H,MAAM,GAAG,IAAItL,MAAJ,CAAW,OAAX,CAAb;;AACA,MAAIyH,KAAK,CAAClM,IAAN,CAAW+P,MAAX,CAAJ,EAAwB;AACtB,WAAOA,MAAP;AACD;;AAEDA,QAAM,GAAG,IAAItL,MAAJ,CAAW,SAAX,CAAT;;AACA,MAAIyH,KAAK,CAAClM,IAAN,CAAW+P,MAAX,CAAJ,EAAwB;AACtB,WAAOA,MAAP;AACD;;AAEDA,QAAM,GAAG,IAAT;;AACA,OAAK,IAAIvf,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0b,KAAK,CAACxc,GAAN,CAAUa,MAA9B,EAAsC,EAAEC,CAAxC,EAA2C;AACzC,QAAI0c,WAAW,GAAGhB,KAAK,CAACxc,GAAN,CAAUc,CAAV,CAAlB;AAEA0c,eAAW,CAACpe,OAAZ,CAAoB,UAAUkhB,UAAV,EAAsB;AACxC;AACA,UAAIC,OAAO,GAAG,IAAIxL,MAAJ,CAAWuL,UAAU,CAAC3E,MAAX,CAAkBnK,OAA7B,CAAd;;AACA,cAAQ8O,UAAU,CAACzE,QAAnB;AACE,aAAK,GAAL;AACE,cAAI0E,OAAO,CAACnH,UAAR,CAAmBvY,MAAnB,KAA8B,CAAlC,EAAqC;AACnC0f,mBAAO,CAACtO,KAAR;AACD,WAFD,MAEO;AACLsO,mBAAO,CAACnH,UAAR,CAAmBzX,IAAnB,CAAwB,CAAxB;AACD;;AACD4e,iBAAO,CAACzd,GAAR,GAAcyd,OAAO,CAAC1T,MAAR,EAAd;;AACA;;AACF,aAAK,EAAL;AACA,aAAK,IAAL;AACE,cAAI,CAACwT,MAAD,IAAWnF,EAAE,CAACmF,MAAD,EAASE,OAAT,CAAjB,EAAoC;AAClCF,kBAAM,GAAGE,OAAT;AACD;;AACD;;AACF,aAAK,GAAL;AACA,aAAK,IAAL;AACE;AACA;;AACF;;AACA;AACE,gBAAM,IAAIhe,KAAJ,CAAU,2BAA2B+d,UAAU,CAACzE,QAAhD,CAAN;AArBJ;AAuBD,KA1BD;AA2BD;;AAED,MAAIwE,MAAM,IAAI7D,KAAK,CAAClM,IAAN,CAAW+P,MAAX,CAAd,EAAkC;AAChC,WAAOA,MAAP;AACD;;AAED,SAAO,IAAP;AACD;;AAED7R,OAAO,CAACgS,UAAR,GAAqBA,UAArB;;AACA,SAASA,UAAT,CAAqBhE,KAArB,EAA4BhE,OAA5B,EAAqC;AACnC,MAAI;AACF;AACA;AACA,WAAO,IAAIwD,KAAJ,CAAUQ,KAAV,EAAiBhE,OAAjB,EAA0BgE,KAA1B,IAAmC,GAA1C;AACD,GAJD,CAIE,OAAO5D,EAAP,EAAW;AACX,WAAO,IAAP;AACD;AACF,C,CAED;;;AACApK,OAAO,CAACiS,GAAR,GAAcA,GAAd;;AACA,SAASA,GAAT,CAAcjP,OAAd,EAAuBgL,KAAvB,EAA8BhE,OAA9B,EAAuC;AACrC,SAAOkI,OAAO,CAAClP,OAAD,EAAUgL,KAAV,EAAiB,GAAjB,EAAsBhE,OAAtB,CAAd;AACD,C,CAED;;;AACAhK,OAAO,CAACmS,GAAR,GAAcA,GAAd;;AACA,SAASA,GAAT,CAAcnP,OAAd,EAAuBgL,KAAvB,EAA8BhE,OAA9B,EAAuC;AACrC,SAAOkI,OAAO,CAAClP,OAAD,EAAUgL,KAAV,EAAiB,GAAjB,EAAsBhE,OAAtB,CAAd;AACD;;AAEDhK,OAAO,CAACkS,OAAR,GAAkBA,OAAlB;;AACA,SAASA,OAAT,CAAkBlP,OAAlB,EAA2BgL,KAA3B,EAAkCoE,IAAlC,EAAwCpI,OAAxC,EAAiD;AAC/ChH,SAAO,GAAG,IAAIuD,MAAJ,CAAWvD,OAAX,EAAoBgH,OAApB,CAAV;AACAgE,OAAK,GAAG,IAAIR,KAAJ,CAAUQ,KAAV,EAAiBhE,OAAjB,CAAR;AAEA,MAAIqI,IAAJ,EAAUC,KAAV,EAAiBC,IAAjB,EAAuBrF,IAAvB,EAA6BsF,KAA7B;;AACA,UAAQJ,IAAR;AACE,SAAK,GAAL;AACEC,UAAI,GAAG3F,EAAP;AACA4F,WAAK,GAAGxF,GAAR;AACAyF,UAAI,GAAG5F,EAAP;AACAO,UAAI,GAAG,GAAP;AACAsF,WAAK,GAAG,IAAR;AACA;;AACF,SAAK,GAAL;AACEH,UAAI,GAAG1F,EAAP;AACA2F,WAAK,GAAGzF,GAAR;AACA0F,UAAI,GAAG7F,EAAP;AACAQ,UAAI,GAAG,GAAP;AACAsF,WAAK,GAAG,IAAR;AACA;;AACF;AACE,YAAM,IAAIlS,SAAJ,CAAc,uCAAd,CAAN;AAhBJ,GAL+C,CAwB/C;;;AACA,MAAImN,SAAS,CAACzK,OAAD,EAAUgL,KAAV,EAAiBhE,OAAjB,CAAb,EAAwC;AACtC,WAAO,KAAP;AACD,GA3B8C,CA6B/C;AACA;;;AAEA,OAAK,IAAI1X,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0b,KAAK,CAACxc,GAAN,CAAUa,MAA9B,EAAsC,EAAEC,CAAxC,EAA2C;AACzC,QAAI0c,WAAW,GAAGhB,KAAK,CAACxc,GAAN,CAAUc,CAAV,CAAlB;AAEA,QAAImgB,IAAI,GAAG,IAAX;AACA,QAAIC,GAAG,GAAG,IAAV;AAEA1D,eAAW,CAACpe,OAAZ,CAAoB,UAAUkhB,UAAV,EAAsB;AACxC,UAAIA,UAAU,CAAC3E,MAAX,KAAsBC,GAA1B,EAA+B;AAC7B0E,kBAAU,GAAG,IAAI7E,UAAJ,CAAe,SAAf,CAAb;AACD;;AACDwF,UAAI,GAAGA,IAAI,IAAIX,UAAf;AACAY,SAAG,GAAGA,GAAG,IAAIZ,UAAb;;AACA,UAAIO,IAAI,CAACP,UAAU,CAAC3E,MAAZ,EAAoBsF,IAAI,CAACtF,MAAzB,EAAiCnD,OAAjC,CAAR,EAAmD;AACjDyI,YAAI,GAAGX,UAAP;AACD,OAFD,MAEO,IAAIS,IAAI,CAACT,UAAU,CAAC3E,MAAZ,EAAoBuF,GAAG,CAACvF,MAAxB,EAAgCnD,OAAhC,CAAR,EAAkD;AACvD0I,WAAG,GAAGZ,UAAN;AACD;AACF,KAXD,EANyC,CAmBzC;AACA;;AACA,QAAIW,IAAI,CAACpF,QAAL,KAAkBH,IAAlB,IAA0BuF,IAAI,CAACpF,QAAL,KAAkBmF,KAAhD,EAAuD;AACrD,aAAO,KAAP;AACD,KAvBwC,CAyBzC;AACA;;;AACA,QAAI,CAAC,CAACE,GAAG,CAACrF,QAAL,IAAiBqF,GAAG,CAACrF,QAAJ,KAAiBH,IAAnC,KACAoF,KAAK,CAACtP,OAAD,EAAU0P,GAAG,CAACvF,MAAd,CADT,EACgC;AAC9B,aAAO,KAAP;AACD,KAHD,MAGO,IAAIuF,GAAG,CAACrF,QAAJ,KAAiBmF,KAAjB,IAA0BD,IAAI,CAACvP,OAAD,EAAU0P,GAAG,CAACvF,MAAd,CAAlC,EAAyD;AAC9D,aAAO,KAAP;AACD;AACF;;AACD,SAAO,IAAP;AACD;;AAEDnN,OAAO,CAAC4K,UAAR,GAAqBA,UAArB;;AACA,SAASA,UAAT,CAAqB5H,OAArB,EAA8BgH,OAA9B,EAAuC;AACrC,MAAI2I,MAAM,GAAGle,KAAK,CAACuO,OAAD,EAAUgH,OAAV,CAAlB;AACA,SAAQ2I,MAAM,IAAIA,MAAM,CAAC/H,UAAP,CAAkBvY,MAA7B,GAAuCsgB,MAAM,CAAC/H,UAA9C,GAA2D,IAAlE;AACD;;AAED5K,OAAO,CAACsN,UAAR,GAAqBA,UAArB;;AACA,SAASA,UAAT,CAAqBsF,EAArB,EAAyBC,EAAzB,EAA6B7I,OAA7B,EAAsC;AACpC4I,IAAE,GAAG,IAAIpF,KAAJ,CAAUoF,EAAV,EAAc5I,OAAd,CAAL;AACA6I,IAAE,GAAG,IAAIrF,KAAJ,CAAUqF,EAAV,EAAc7I,OAAd,CAAL;AACA,SAAO4I,EAAE,CAACtF,UAAH,CAAcuF,EAAd,CAAP;AACD;;AAED7S,OAAO,CAAC8S,MAAR,GAAiBA,MAAjB;;AACA,SAASA,MAAT,CAAiB9P,OAAjB,EAA0BgH,OAA1B,EAAmC;AACjC,MAAIhH,OAAO,YAAYuD,MAAvB,EAA+B;AAC7B,WAAOvD,OAAP;AACD;;AAED,MAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;AAC/BA,WAAO,GAAGnR,MAAM,CAACmR,OAAD,CAAhB;AACD;;AAED,MAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,WAAO,IAAP;AACD;;AAEDgH,SAAO,GAAGA,OAAO,IAAI,EAArB;AAEA,MAAIrU,KAAK,GAAG,IAAZ;;AACA,MAAI,CAACqU,OAAO,CAAC+I,GAAb,EAAkB;AAChBpd,SAAK,GAAGqN,OAAO,CAACrN,KAAR,CAAcqR,EAAE,CAACE,CAAC,CAAC0B,MAAH,CAAhB,CAAR;AACD,GAFD,MAEO;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAI5S,IAAJ;;AACA,WAAO,CAACA,IAAI,GAAGgR,EAAE,CAACE,CAAC,CAAC2B,SAAH,CAAF,CAAgBmK,IAAhB,CAAqBhQ,OAArB,CAAR,MACJ,CAACrN,KAAD,IAAUA,KAAK,CAAC4H,KAAN,GAAc5H,KAAK,CAAC,CAAD,CAAL,CAAStD,MAAvB,KAAkC2Q,OAAO,CAAC3Q,MADhD,CAAP,EAEE;AACA,UAAI,CAACsD,KAAD,IACAK,IAAI,CAACuH,KAAL,GAAavH,IAAI,CAAC,CAAD,CAAJ,CAAQ3D,MAArB,KAAgCsD,KAAK,CAAC4H,KAAN,GAAc5H,KAAK,CAAC,CAAD,CAAL,CAAStD,MAD3D,EACmE;AACjEsD,aAAK,GAAGK,IAAR;AACD;;AACDgR,QAAE,CAACE,CAAC,CAAC2B,SAAH,CAAF,CAAgBoK,SAAhB,GAA4Bjd,IAAI,CAACuH,KAAL,GAAavH,IAAI,CAAC,CAAD,CAAJ,CAAQ3D,MAArB,GAA8B2D,IAAI,CAAC,CAAD,CAAJ,CAAQ3D,MAAlE;AACD,KAlBI,CAmBL;;;AACA2U,MAAE,CAACE,CAAC,CAAC2B,SAAH,CAAF,CAAgBoK,SAAhB,GAA4B,CAAC,CAA7B;AACD;;AAED,MAAItd,KAAK,KAAK,IAAd,EAAoB;AAClB,WAAO,IAAP;AACD;;AAED,SAAOlB,KAAK,CAACkB,KAAK,CAAC,CAAD,CAAL,GACX,GADW,IACJA,KAAK,CAAC,CAAD,CAAL,IAAY,GADR,IAEX,GAFW,IAEJA,KAAK,CAAC,CAAD,CAAL,IAAY,GAFR,CAAD,EAEeqU,OAFf,CAAZ;AAGD,C;;;;;;;;;AC3jDD,IAAIkJ,CAAJ,C,CAEA;;AACAA,CAAC,GAAI,YAAW;AACf,SAAO,IAAP;AACA,CAFG,EAAJ;;AAIA,IAAI;AACH;AACAA,GAAC,GAAGA,CAAC,IAAI,IAAIC,QAAJ,CAAa,aAAb,GAAT;AACA,CAHD,CAGE,OAAOC,CAAP,EAAU;AACX;AACA,MAAI,QAAOnW,MAAP,yCAAOA,MAAP,OAAkB,QAAtB,EAAgCiW,CAAC,GAAGjW,MAAJ;AAChC,C,CAED;AACA;AACA;;;AAEA8C,MAAM,CAACC,OAAP,GAAiBkT,CAAjB,C;;;;;;;;ACnBA;;;;;;;;;AASA;AACA,IAAIG,eAAe,GAAG,qBAAtB;AAEA;;AACA,IAAIC,GAAG,GAAG,IAAI,CAAd;AAEA;;AACA,IAAIC,SAAS,GAAG,iBAAhB;AAEA;;AACA,IAAIC,MAAM,GAAG,YAAb;AAEA;;AACA,IAAIC,UAAU,GAAG,oBAAjB;AAEA;;AACA,IAAIC,UAAU,GAAG,YAAjB;AAEA;;AACA,IAAIC,SAAS,GAAG,aAAhB;AAEA;;AACA,IAAIC,YAAY,GAAG/mB,QAAnB;AAEA;;AACA,IAAIgnB,UAAU,GAAG,QAAOvR,MAAP,yCAAOA,MAAP,MAAiB,QAAjB,IAA6BA,MAA7B,IAAuCA,MAAM,CAAC9R,MAAP,KAAkBA,MAAzD,IAAmE8R,MAApF;AAEA;;AACA,IAAIwR,QAAQ,GAAG,QAAOC,IAAP,yCAAOA,IAAP,MAAe,QAAf,IAA2BA,IAA3B,IAAmCA,IAAI,CAACvjB,MAAL,KAAgBA,MAAnD,IAA6DujB,IAA5E;AAEA;;AACA,IAAIjW,IAAI,GAAG+V,UAAU,IAAIC,QAAd,IAA0BX,QAAQ,CAAC,aAAD,CAAR,EAArC;AAEA;;AACA,IAAIa,WAAW,GAAGxjB,MAAM,CAACyH,SAAzB;AAEA;;;;;;AAKA,IAAIgc,cAAc,GAAGD,WAAW,CAAC/jB,QAAjC;AAEA;;AACA,IAAIikB,SAAS,GAAGC,IAAI,CAACtkB,GAArB;AAAA,IACIukB,SAAS,GAAGD,IAAI,CAACzC,GADrB;AAGA;;;;;;;;;;;;;;;;;AAgBA,IAAI2C,GAAG,GAAG,SAANA,GAAM,GAAW;AACnB,SAAOvW,IAAI,CAACwW,IAAL,CAAUD,GAAV,EAAP;AACD,CAFD;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA,SAASE,QAAT,CAAkBC,IAAlB,EAAwBC,IAAxB,EAA8BzK,OAA9B,EAAuC;AACrC,MAAI0K,QAAJ;AAAA,MACIC,QADJ;AAAA,MAEIC,OAFJ;AAAA,MAGI3F,MAHJ;AAAA,MAII4F,OAJJ;AAAA,MAKIC,YALJ;AAAA,MAMIC,cAAc,GAAG,CANrB;AAAA,MAOIC,OAAO,GAAG,KAPd;AAAA,MAQIC,MAAM,GAAG,KARb;AAAA,MASIC,QAAQ,GAAG,IATf;;AAWA,MAAI,OAAOV,IAAP,IAAe,UAAnB,EAA+B;AAC7B,UAAM,IAAIlU,SAAJ,CAAc+S,eAAd,CAAN;AACD;;AACDoB,MAAI,GAAGU,QAAQ,CAACV,IAAD,CAAR,IAAkB,CAAzB;;AACA,MAAIW,QAAQ,CAACpL,OAAD,CAAZ,EAAuB;AACrBgL,WAAO,GAAG,CAAC,CAAChL,OAAO,CAACgL,OAApB;AACAC,UAAM,GAAG,aAAajL,OAAtB;AACA4K,WAAO,GAAGK,MAAM,GAAGf,SAAS,CAACiB,QAAQ,CAACnL,OAAO,CAAC4K,OAAT,CAAR,IAA6B,CAA9B,EAAiCH,IAAjC,CAAZ,GAAqDG,OAArE;AACAM,YAAQ,GAAG,cAAclL,OAAd,GAAwB,CAAC,CAACA,OAAO,CAACkL,QAAlC,GAA6CA,QAAxD;AACD;;AAED,WAASG,UAAT,CAAoBC,IAApB,EAA0B;AACxB,QAAI9W,IAAI,GAAGkW,QAAX;AAAA,QACIa,OAAO,GAAGZ,QADd;AAGAD,YAAQ,GAAGC,QAAQ,GAAGziB,SAAtB;AACA6iB,kBAAc,GAAGO,IAAjB;AACArG,UAAM,GAAGuF,IAAI,CAAC7N,KAAL,CAAW4O,OAAX,EAAoB/W,IAApB,CAAT;AACA,WAAOyQ,MAAP;AACD;;AAED,WAASuG,WAAT,CAAqBF,IAArB,EAA2B;AACzB;AACAP,kBAAc,GAAGO,IAAjB,CAFyB,CAGzB;;AACAT,WAAO,GAAGtQ,UAAU,CAACkR,YAAD,EAAehB,IAAf,CAApB,CAJyB,CAKzB;;AACA,WAAOO,OAAO,GAAGK,UAAU,CAACC,IAAD,CAAb,GAAsBrG,MAApC;AACD;;AAED,WAASyG,aAAT,CAAuBJ,IAAvB,EAA6B;AAC3B,QAAIK,iBAAiB,GAAGL,IAAI,GAAGR,YAA/B;AAAA,QACIc,mBAAmB,GAAGN,IAAI,GAAGP,cADjC;AAAA,QAEI9F,MAAM,GAAGwF,IAAI,GAAGkB,iBAFpB;AAIA,WAAOV,MAAM,GAAGb,SAAS,CAACnF,MAAD,EAAS2F,OAAO,GAAGgB,mBAAnB,CAAZ,GAAsD3G,MAAnE;AACD;;AAED,WAAS4G,YAAT,CAAsBP,IAAtB,EAA4B;AAC1B,QAAIK,iBAAiB,GAAGL,IAAI,GAAGR,YAA/B;AAAA,QACIc,mBAAmB,GAAGN,IAAI,GAAGP,cADjC,CAD0B,CAI1B;AACA;AACA;;AACA,WAAQD,YAAY,KAAK5iB,SAAjB,IAA+ByjB,iBAAiB,IAAIlB,IAApD,IACLkB,iBAAiB,GAAG,CADf,IACsBV,MAAM,IAAIW,mBAAmB,IAAIhB,OAD/D;AAED;;AAED,WAASa,YAAT,GAAwB;AACtB,QAAIH,IAAI,GAAGjB,GAAG,EAAd;;AACA,QAAIwB,YAAY,CAACP,IAAD,CAAhB,EAAwB;AACtB,aAAOQ,YAAY,CAACR,IAAD,CAAnB;AACD,KAJqB,CAKtB;;;AACAT,WAAO,GAAGtQ,UAAU,CAACkR,YAAD,EAAeC,aAAa,CAACJ,IAAD,CAA5B,CAApB;AACD;;AAED,WAASQ,YAAT,CAAsBR,IAAtB,EAA4B;AAC1BT,WAAO,GAAG3iB,SAAV,CAD0B,CAG1B;AACA;;AACA,QAAIgjB,QAAQ,IAAIR,QAAhB,EAA0B;AACxB,aAAOW,UAAU,CAACC,IAAD,CAAjB;AACD;;AACDZ,YAAQ,GAAGC,QAAQ,GAAGziB,SAAtB;AACA,WAAO+c,MAAP;AACD;;AAED,WAAS8G,MAAT,GAAkB;AAChB,QAAIlB,OAAO,KAAK3iB,SAAhB,EAA2B;AACzB8jB,kBAAY,CAACnB,OAAD,CAAZ;AACD;;AACDE,kBAAc,GAAG,CAAjB;AACAL,YAAQ,GAAGI,YAAY,GAAGH,QAAQ,GAAGE,OAAO,GAAG3iB,SAA/C;AACD;;AAED,WAAS+jB,KAAT,GAAiB;AACf,WAAOpB,OAAO,KAAK3iB,SAAZ,GAAwB+c,MAAxB,GAAiC6G,YAAY,CAACzB,GAAG,EAAJ,CAApD;AACD;;AAED,WAAS6B,SAAT,GAAqB;AACnB,QAAIZ,IAAI,GAAGjB,GAAG,EAAd;AAAA,QACI8B,UAAU,GAAGN,YAAY,CAACP,IAAD,CAD7B;AAGAZ,YAAQ,GAAGlT,SAAX;AACAmT,YAAQ,GAAG,IAAX;AACAG,gBAAY,GAAGQ,IAAf;;AAEA,QAAIa,UAAJ,EAAgB;AACd,UAAItB,OAAO,KAAK3iB,SAAhB,EAA2B;AACzB,eAAOsjB,WAAW,CAACV,YAAD,CAAlB;AACD;;AACD,UAAIG,MAAJ,EAAY;AACV;AACAJ,eAAO,GAAGtQ,UAAU,CAACkR,YAAD,EAAehB,IAAf,CAApB;AACA,eAAOY,UAAU,CAACP,YAAD,CAAjB;AACD;AACF;;AACD,QAAID,OAAO,KAAK3iB,SAAhB,EAA2B;AACzB2iB,aAAO,GAAGtQ,UAAU,CAACkR,YAAD,EAAehB,IAAf,CAApB;AACD;;AACD,WAAOxF,MAAP;AACD;;AACDiH,WAAS,CAACH,MAAV,GAAmBA,MAAnB;AACAG,WAAS,CAACD,KAAV,GAAkBA,KAAlB;AACA,SAAOC,SAAP;AACD;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA,SAASE,QAAT,CAAkB5B,IAAlB,EAAwBC,IAAxB,EAA8BzK,OAA9B,EAAuC;AACrC,MAAIgL,OAAO,GAAG,IAAd;AAAA,MACIE,QAAQ,GAAG,IADf;;AAGA,MAAI,OAAOV,IAAP,IAAe,UAAnB,EAA+B;AAC7B,UAAM,IAAIlU,SAAJ,CAAc+S,eAAd,CAAN;AACD;;AACD,MAAI+B,QAAQ,CAACpL,OAAD,CAAZ,EAAuB;AACrBgL,WAAO,GAAG,aAAahL,OAAb,GAAuB,CAAC,CAACA,OAAO,CAACgL,OAAjC,GAA2CA,OAArD;AACAE,YAAQ,GAAG,cAAclL,OAAd,GAAwB,CAAC,CAACA,OAAO,CAACkL,QAAlC,GAA6CA,QAAxD;AACD;;AACD,SAAOX,QAAQ,CAACC,IAAD,EAAOC,IAAP,EAAa;AAC1B,eAAWO,OADe;AAE1B,eAAWP,IAFe;AAG1B,gBAAYS;AAHc,GAAb,CAAf;AAKD;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,SAASE,QAAT,CAAkBjhB,KAAlB,EAAyB;AACvB,MAAIjD,IAAI,WAAUiD,KAAV,CAAR;;AACA,SAAO,CAAC,CAACA,KAAF,KAAYjD,IAAI,IAAI,QAAR,IAAoBA,IAAI,IAAI,UAAxC,CAAP;AACD;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,SAASmlB,YAAT,CAAsBliB,KAAtB,EAA6B;AAC3B,SAAO,CAAC,CAACA,KAAF,IAAW,QAAOA,KAAP,KAAgB,QAAlC;AACD;AAED;;;;;;;;;;;;;;;;;;;AAiBA,SAASmiB,QAAT,CAAkBniB,KAAlB,EAAyB;AACvB,SAAO,QAAOA,KAAP,KAAgB,QAAhB,IACJkiB,YAAY,CAACliB,KAAD,CAAZ,IAAuB8f,cAAc,CAACxd,IAAf,CAAoBtC,KAApB,KAA8Bof,SADxD;AAED;AAED;;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,SAAS4B,QAAT,CAAkBhhB,KAAlB,EAAyB;AACvB,MAAI,OAAOA,KAAP,IAAgB,QAApB,EAA8B;AAC5B,WAAOA,KAAP;AACD;;AACD,MAAImiB,QAAQ,CAACniB,KAAD,CAAZ,EAAqB;AACnB,WAAOmf,GAAP;AACD;;AACD,MAAI8B,QAAQ,CAACjhB,KAAD,CAAZ,EAAqB;AACnB,QAAI6W,KAAK,GAAG,OAAO7W,KAAK,CAACoiB,OAAb,IAAwB,UAAxB,GAAqCpiB,KAAK,CAACoiB,OAAN,EAArC,GAAuDpiB,KAAnE;AACAA,SAAK,GAAGihB,QAAQ,CAACpK,KAAD,CAAR,GAAmBA,KAAK,GAAG,EAA3B,GAAiCA,KAAzC;AACD;;AACD,MAAI,OAAO7W,KAAP,IAAgB,QAApB,EAA8B;AAC5B,WAAOA,KAAK,KAAK,CAAV,GAAcA,KAAd,GAAsB,CAACA,KAA9B;AACD;;AACDA,OAAK,GAAGA,KAAK,CAACuK,OAAN,CAAc8U,MAAd,EAAsB,EAAtB,CAAR;AACA,MAAIgD,QAAQ,GAAG9C,UAAU,CAAC5R,IAAX,CAAgB3N,KAAhB,CAAf;AACA,SAAQqiB,QAAQ,IAAI7C,SAAS,CAAC7R,IAAV,CAAe3N,KAAf,CAAb,GACHyf,YAAY,CAACzf,KAAK,CAACjB,KAAN,CAAY,CAAZ,CAAD,EAAiBsjB,QAAQ,GAAG,CAAH,GAAO,CAAhC,CADT,GAEF/C,UAAU,CAAC3R,IAAX,CAAgB3N,KAAhB,IAAyBmf,GAAzB,GAA+B,CAACnf,KAFrC;AAGD;;AAED4L,MAAM,CAACC,OAAP,GAAiBoW,QAAjB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtbA;;;;;;;;;AASA;;;;AAIA,SAASK,EAAT,CAAYC,CAAZ,EAAoBC,CAApB,EAA4B;AAC1B,SACGD,CAAC,KAAKC,CAAN,KAAYD,CAAC,KAAK,CAAN,IAAW,IAAIA,CAAJ,KAAU,IAAIC,CAArC,CAAD,IAA8CD,CAAC,KAAKA,CAAN,IAAWC,CAAC,KAAKA,CADjE,CACoE;AADpE;AAGD;;AAED,IAAMC,QAAqC,GACzC,OAAOpmB,MAAM,CAACimB,EAAd,KAAqB,UAArB,GAAkCjmB,MAAM,CAACimB,EAAzC,GAA8CA,EADhD;AAGeG,4DAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBA;;;;;;;;AASA;AACA;AAiBA;AAUA;AACA;AAQA;AAWA;AACA;AAIA;AAmBA;AACA;AACA;AACA;;AA6CA,SAASC,aAAT,CAAuBC,KAAvB,EAA6C;AAC3C;AACA,SAAOA,KAAK,CAACC,KAAN,KAAgB7kB,SAAhB,GAA4B4kB,KAAK,CAACC,KAAlC,GAA2CD,KAAD,CAAaE,SAA9D;AACD,C,CAED;;;AACA,IAAMC,cAAc,GAClB,QAAOC,WAAP,yCAAOA,WAAP,OAAuB,QAAvB,IAAmC,OAAOA,WAAW,CAAC7C,GAAnB,KAA2B,UAA9D,GACI;AAAA,SAAM6C,WAAW,CAAC7C,GAAZ,EAAN;AAAA,CADJ,GAEI;AAAA,SAAMC,IAAI,CAACD,GAAL,EAAN;AAAA,CAHN;AAKO,SAASpR,yBAAT,CACLD,OADK,EAQJ;AACD,MAAMmU,qBAAgD,GAAG;AACvDC,cAAU,EAAE,GAD2C;AAEvDC,WAAO,EAAE,CAF8C;AAGvDC,iBAAa,EAAE,CAHwC;AAIvDC,aAAS,EAAE,CAJ4C;AAKvDC,cAAU,EAAE;AAL2C,GAAzD,CADC,CASD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAIC,mBAA4C,GAAG;AACjDC,qBAAiB,EAAE,EAD8B;AAEjDC,wBAAoB,EAAE,EAF2B;AAGjDC,kBAAc,EAAE,EAHiC;AAIjDC,eAAW,EAAE,EAJoC;AAKjDC,gBAAY,EAAE,EALmC;AAMjDC,cAAU,EAAE;AANqC,GAAnD;;AASA,MAAIrL,oBAAE,CAAC1J,OAAD,EAAU,QAAV,CAAN,EAA2B;AACzByU,uBAAmB,GAAG;AACpBC,uBAAiB,EAAE,CADC;AAEpBC,0BAAoB,EAAE,CAFF;AAGpBC,oBAAc,EAAE,CAHI;AAIpBC,iBAAW,EAAE,CAJO;AAKpBC,kBAAY,EAAE,CALM;AAMpBC,gBAAU,EAAE;AANQ,KAAtB;AAQD;;AAED,MAAI7U,eAA2B,GAAK,IAApC,CApCC,CAsCD;AACA;AACA;AACA;AACA;AACA;;AACA,MAAIwJ,oBAAE,CAAC1J,OAAD,EAAU,QAAV,CAAN,EAA2B;AACzBE,mBAAe,GAAG;AAChB8U,oBAAc,EAAE,EADA;AACI;AACpBC,oBAAc,EAAE,CAFA;AAGhB3f,qBAAe,EAAE,CAHD;AAIhBC,qBAAe,EAAE,EAJD;AAKhB2f,wBAAkB,EAAE,CAAC,CALL;AAKQ;AACxBC,2BAAqB,EAAE,CAAC,CANR;AAMW;AAC3BC,iCAA2B,EAAE,EAPb;AAOiB;AACjC5f,gBAAU,EAAE,EARI;AAShBC,cAAQ,EAAE,CATM;AAUhB4f,uBAAiB,EAAE,CAVH;AAWhBC,mBAAa,EAAE,CAXC;AAYhBC,gBAAU,EAAE,CAZI;AAahBC,cAAQ,EAAE,CAbM;AAchBC,cAAQ,EAAE,CAdM;AAehBC,8BAAwB,EAAE,EAfV;AAgBhBC,4BAAsB,EAAE,CAhBR;AAiBhBC,mBAAa,EAAE,EAjBC;AAkBhBC,2BAAqB,EAAE,EAlBP;AAmBhBC,mBAAa,EAAE,EAnBC;AAoBhBC,UAAI,EAAE,CApBU;AAqBhBC,wBAAkB,EAAE,EArBJ;AAqBQ;AACxBngB,cAAQ,EAAE,EAtBM;AAuBhBogB,oBAAc,EAAE,EAvBA;AAuBI;AACpBC,yBAAmB,EAAE,EAxBL;AAyBhBC,uBAAiB,EAAE,EAzBH;AA0BhBC,2BAAqB,EAAE,EA1BP;AA0BW;AAC3BC,oBAAc,EAAE,CAAC,CA3BD,CA2BI;;AA3BJ,KAAlB;AA6BD,GA9BD,MA8BO,IAAIxM,qBAAG,CAAC7J,OAAD,EAAU,cAAV,CAAP,EAAkC;AACvCE,mBAAe,GAAG;AAChB8U,oBAAc,EAAE,CAAC,CADD;AACI;AACpBC,oBAAc,EAAE,CAFA;AAGhB3f,qBAAe,EAAE,CAHD;AAIhBC,qBAAe,EAAE,EAJD;AAKhB2f,wBAAkB,EAAE,CAAC,CALL;AAKQ;AACxBC,2BAAqB,EAAE,CAAC,CANR;AAMW;AAC3BC,iCAA2B,EAAE,EAPb;AAOiB;AACjC5f,gBAAU,EAAE,EARI;AAShBC,cAAQ,EAAE,CATM;AAUhB4f,uBAAiB,EAAE,CAVH;AAWhBC,mBAAa,EAAE,CAXC;AAYhBC,gBAAU,EAAE,CAZI;AAahBC,cAAQ,EAAE,CAbM;AAchBC,cAAQ,EAAE,CAdM;AAehBC,8BAAwB,EAAE,EAfV;AAgBhBC,4BAAsB,EAAE,CAhBR;AAiBhBC,mBAAa,EAAE,EAjBC;AAkBhBC,2BAAqB,EAAE,EAlBP;AAmBhBC,mBAAa,EAAE,EAnBC;AAoBhBC,UAAI,EAAE,CApBU;AAqBhBC,wBAAkB,EAAE,EArBJ;AAqBQ;AACxBngB,cAAQ,EAAE,EAtBM;AAuBhBogB,oBAAc,EAAE,EAvBA;AAuBI;AACpBC,yBAAmB,EAAE,EAxBL;AAyBhBC,uBAAiB,EAAE,EAzBH;AA0BhBC,2BAAqB,EAAE,EA1BP;AA0BW;AAC3BC,oBAAc,EAAE,CAAC,CA3BD,CA2BI;;AA3BJ,KAAlB;AA6BD,GA9BM,MA8BA,IAAIxM,qBAAG,CAAC7J,OAAD,EAAU,eAAV,CAAP,EAAmC;AACxCE,mBAAe,GAAG;AAChB8U,oBAAc,EAAE,CAAC,CADD;AACI;AACpBC,oBAAc,EAAE,CAFA;AAGhB3f,qBAAe,EAAE,CAHD;AAIhBC,qBAAe,EAAE,EAJD;AAKhB2f,wBAAkB,EAAE,CAAC,CALL;AAKQ;AACxBC,2BAAqB,EAAE,CAAC,CANR;AAMW;AAC3BC,iCAA2B,EAAE,EAPb;AAOiB;AACjC5f,gBAAU,EAAE,EARI;AAShBC,cAAQ,EAAE,CATM;AAUhB4f,uBAAiB,EAAE,CAVH;AAWhBC,mBAAa,EAAE,CAXC;AAYhBC,gBAAU,EAAE,CAZI;AAahBC,cAAQ,EAAE,CAbM;AAchBC,cAAQ,EAAE,CAdM;AAehBC,8BAAwB,EAAE,EAfV;AAgBhBC,4BAAsB,EAAE,CAhBR;AAiBhBC,mBAAa,EAAE,EAjBC;AAkBhBC,2BAAqB,EAAE,CAAC,CAlBR;AAmBhBC,mBAAa,EAAE,EAnBC;AAoBhBC,UAAI,EAAE,CApBU;AAqBhBC,wBAAkB,EAAE,CAAC,CArBL;AAqBQ;AACxBngB,cAAQ,EAAE,EAtBM;AAuBhBogB,oBAAc,EAAE,CAAC,CAvBD;AAuBI;AACpBC,yBAAmB,EAAE,EAxBL;AAyBhBC,uBAAiB,EAAE,EAzBH;AA0BhBC,2BAAqB,EAAE,EA1BP;AA0BW;AAC3BC,oBAAc,EAAE,CAAC,CA3BD,CA2BI;;AA3BJ,KAAlB;AA6BD,GA9BM,MA8BA,IAAIxM,qBAAG,CAAC7J,OAAD,EAAU,cAAV,CAAP,EAAkC;AACvCE,mBAAe,GAAG;AAChB8U,oBAAc,EAAE,CAAC,CADD;AACI;AACpBC,oBAAc,EAAE,CAFA;AAGhB3f,qBAAe,EAAE,EAHD;AAIhBC,qBAAe,EAAE,EAJD;AAKhB2f,wBAAkB,EAAE,CAAC,CALL;AAKQ;AACxBC,2BAAqB,EAAE,CAAC,CANR;AAMW;AAC3BC,iCAA2B,EAAE,CAAC,CAPd;AAOiB;AACjC5f,gBAAU,EAAE,EARI;AAShBC,cAAQ,EAAE,CATM;AAUhB4f,uBAAiB,EAAE,CAVH;AAWhBC,mBAAa,EAAE,CAXC;AAYhBC,gBAAU,EAAE,CAZI;AAahBC,cAAQ,EAAE,CAbM;AAchBC,cAAQ,EAAE,CAdM;AAehBC,8BAAwB,EAAE,CAAC,CAfX;AAec;AAC9BC,4BAAsB,EAAE,CAhBR;AAiBhBC,mBAAa,EAAE,CAAC,CAjBA;AAiBG;AACnBC,2BAAqB,EAAE,CAAC,CAlBR;AAmBhBC,mBAAa,EAAE,CAAC,CAnBA;AAmBG;AACnBC,UAAI,EAAE,EApBU;AAqBhBC,wBAAkB,EAAE,CAAC,CArBL;AAqBQ;AACxBngB,cAAQ,EAAE,EAtBM;AAuBhBogB,oBAAc,EAAE,CAAC,CAvBD;AAuBI;AACpBC,yBAAmB,EAAE,CAAC,CAxBN;AAwBS;AACzBC,uBAAiB,EAAE,EAzBH;AA0BhBC,2BAAqB,EAAE,CAAC,CA1BR;AA0BW;AAC3BC,oBAAc,EAAE,CAAC,CA3BD,CA2BI;;AA3BJ,KAAlB;AA6BD,GA9BM,MA8BA;AACLnW,mBAAe,GAAG;AAChB8U,oBAAc,EAAE,CAAC,CADD;AACI;AACpBC,oBAAc,EAAE,CAFA;AAGhB3f,qBAAe,EAAE,EAHD;AAIhBC,qBAAe,EAAE,EAJD;AAKhB2f,wBAAkB,EAAE,CALJ;AAMhBC,2BAAqB,EAAE,CANP;AAOhBC,iCAA2B,EAAE,CAAC,CAPd;AAOiB;AACjC5f,gBAAU,EAAE,EARI;AAShBC,cAAQ,EAAE,EATM;AAUhB4f,uBAAiB,EAAE,CAVH;AAWhBC,mBAAa,EAAE,CAXC;AAYhBC,gBAAU,EAAE,CAZI;AAahBC,cAAQ,EAAE,CAbM;AAchBC,cAAQ,EAAE,CAdM;AAehBC,8BAAwB,EAAE,CAAC,CAfX;AAec;AAC9BC,4BAAsB,EAAE,CAhBR;AAiBhBC,mBAAa,EAAE,CAAC,CAjBA;AAiBG;AACnBC,2BAAqB,EAAE,CAAC,CAlBR;AAmBhBC,mBAAa,EAAE,CAAC,CAnBA;AAmBG;AACnBC,UAAI,EAAE,EApBU;AAqBhBC,wBAAkB,EAAE,CAAC,CArBL;AAqBQ;AACxBngB,cAAQ,EAAE,EAtBM;AAuBhBogB,oBAAc,EAAE,CAAC,CAvBD;AAuBI;AACpBC,yBAAmB,EAAE,CAAC,CAxBN;AAwBS;AACzBC,uBAAiB,EAAE,EAzBH;AA0BhBC,2BAAqB,EAAE,CAAC,CA1BR;AA0BW;AAC3BC,oBAAc,EAAE;AA3BA,KAAlB;AA6BD,GAlMA,CAmMD;AACA;AACA;;;AAEA,WAASC,aAAT,CAAuBpoB,IAAvB,EAAmD;AACjD,QAAMqoB,cAAc,GAClB,QAAOroB,IAAP,MAAgB,QAAhB,IAA4BA,IAAI,KAAK,IAArC,GAA4CA,IAAI,CAACsoB,QAAjD,GAA4DtoB,IAD9D,CADiD,CAIjD;;AACA,WAAO,QAAOqoB,cAAP,MAA0B,QAA1B,GACHA,cAAc,CAACtpB,QAAf,EADG,GAEHspB,cAFJ;AAGD;;AA/MA,yBAsOGrW,eAtOH;AAAA,MAkNC8U,cAlND,oBAkNCA,cAlND;AAAA,MAmNCC,cAnND,oBAmNCA,cAnND;AAAA,MAoNCS,wBApND,oBAoNCA,wBApND;AAAA,MAqNCL,iBArND,oBAqNCA,iBArND;AAAA,MAsNCM,sBAtND,oBAsNCA,sBAtND;AAAA,MAuNCngB,UAvND,oBAuNCA,UAvND;AAAA,MAwNCggB,QAxND,oBAwNCA,QAxND;AAAA,MAyNCF,aAzND,oBAyNCA,aAzND;AAAA,MA0NCC,UA1ND,oBA0NCA,UA1ND;AAAA,MA2NCE,QA3ND,oBA2NCA,QA3ND;AAAA,MA4NChgB,QA5ND,oBA4NCA,QA5ND;AAAA,MA6NCmgB,aA7ND,oBA6NCA,aA7ND;AAAA,MA8NCC,qBA9ND,oBA8NCA,qBA9ND;AAAA,MA+NCC,aA/ND,oBA+NCA,aA/ND;AAAA,MAgOCE,kBAhOD,oBAgOCA,kBAhOD;AAAA,MAiOCngB,QAjOD,oBAiOCA,QAjOD;AAAA,MAkOCogB,cAlOD,oBAkOCA,cAlOD;AAAA,MAmOCC,mBAnOD,oBAmOCA,mBAnOD;AAAA,MAoOCC,iBApOD,oBAoOCA,iBApOD;AAAA,MAqOCC,qBArOD,oBAqOCA,qBArOD;;AAwOD,WAASK,gBAAT,CAA0BvoB,IAA1B,EAAqC;AACnC,QAAMwoB,UAAU,GAAGJ,aAAa,CAACpoB,IAAD,CAAhC;;AACA,YAAQwoB,UAAR;AACE,WAAKxe,mCAAL;AACA,WAAKC,0CAAL;AACE;AACA,eAAOse,gBAAgB,CAACvoB,IAAI,CAACA,IAAN,CAAvB;;AACF,WAAK0J,0CAAL;AACA,WAAKC,iDAAL;AACE,eAAO3J,IAAI,CAACyoB,MAAZ;;AACF;AACE,eAAOzoB,IAAP;AATJ;AAWD,GArPA,CAuPD;;;AACA,WAAS0oB,sBAAT,CAAgC9C,KAAhC,EAA6D;AAAA,QACpD1e,WADoD,GAC1B0e,KAD0B,CACpD1e,WADoD;AAAA,QACvClH,IADuC,GAC1B4lB,KAD0B,CACvC5lB,IADuC;AAAA,QACjC2oB,GADiC,GAC1B/C,KAD0B,CACjC+C,GADiC;AAG3D,QAAIC,YAAY,GAAG5oB,IAAnB;;AACA,QAAI,QAAOA,IAAP,MAAgB,QAAhB,IAA4BA,IAAI,KAAK,IAAzC,EAA+C;AAC7C4oB,kBAAY,GAAGL,gBAAgB,CAACvoB,IAAD,CAA/B;AACD;;AAED,QAAI6oB,eAAoB,GAAG,IAA3B;;AAEA,YAAQF,GAAR;AACE,WAAK7B,cAAL;AACE,eAAO,OAAP;;AACF,WAAKC,cAAL;AACA,WAAKS,wBAAL;AACE,eAAOznB,uCAAc,CAAC6oB,YAAD,CAArB;;AACF,WAAKzB,iBAAL;AACA,WAAKM,sBAAL;AACE,eAAO1nB,uCAAc,CAAC6oB,YAAD,CAArB;;AACF,WAAKthB,UAAL;AACE;AACA,eACGtH,IAAI,IAAIA,IAAI,CAACI,WAAd,IACAL,uCAAc,CAAC6oB,YAAD,EAAe,WAAf,CAFhB;;AAIF,WAAKtB,QAAL;AACE,eAAO,IAAP;;AACF,WAAKF,aAAL;AACE,eAAOpnB,IAAP;;AACF,WAAKqnB,UAAL;AACA,WAAKE,QAAL;AACA,WAAKhgB,QAAL;AACE,eAAO,IAAP;;AACF,WAAKmgB,aAAL;AACE;AACA;AACA;AACA,eAAO,MAAP;;AACF,WAAKE,aAAL;AACA,WAAKI,mBAAL;AACE,eACG9gB,WAAW,IAAIA,WAAW,CAAC9G,WAA5B,IACCJ,IAAI,IAAIA,IAAI,CAACI,WADd,IAEAL,uCAAc,CAAC6oB,YAAD,EAAe,WAAf,CAHhB;;AAKF,WAAKX,iBAAL;AACE,eAAO,UAAP;;AACF,WAAKN,qBAAL;AACE,eAAO,cAAP;;AACF,WAAKG,kBAAL;AACE,eAAO,WAAP;;AACF,WAAKC,cAAL;AACE,eAAO,OAAP;;AACF,WAAKG,qBAAL;AACE,eAAO,cAAP;;AACF,WAAKvgB,QAAL;AACE,eAAO,UAAP;;AACF;AACE,YAAM6gB,UAAU,GAAGJ,aAAa,CAACpoB,IAAD,CAAhC;;AAEA,gBAAQwoB,UAAR;AACE,eAAKvf,8CAAL;AACA,eAAKC,qDAAL;AACA,eAAKG,2DAAL;AACE,mBAAO,IAAP;;AACF,eAAKmB,uCAAL;AACA,eAAKC,8CAAL;AACE;AACA;AACA;AACAoe,2BAAe,GAAGjD,KAAK,CAAC5lB,IAAN,CAAW8oB,QAAX,IAAuBlD,KAAK,CAAC5lB,IAAN,CAAW+oB,OAApD;AACA,6BAAUF,eAAe,CAACzoB,WAAhB,IAA+B,SAAzC;;AACF,eAAK+I,sCAAL;AACA,eAAKC,6CAAL;AACE;AACA;AACA;AACAyf,2BAAe,GAAGjD,KAAK,CAAC5lB,IAAN,CAAW8oB,QAAX,IAAuBlD,KAAK,CAAC5lB,IAA/C,CAJF,CAME;AACA;;AACA,6BAAU6oB,eAAe,CAACzoB,WAAhB,IAA+B,SAAzC;;AACF,eAAKwK,0CAAL;AACA,eAAKC,iDAAL;AACE,mBAAO,IAAP;;AACF,eAAKP,uCAAL;AACA,eAAKC,8CAAL;AACE,sCAAmBqb,KAAK,CAACoD,aAAN,CAAoB7mB,EAAvC;;AACF,eAAKuI,oCAAL;AACA,eAAKC,2CAAL;AACE,mBAAO,OAAP;;AACF;AACE;AACA;AACA,mBAAO,IAAP;AAlCJ;;AAlDJ;AAuFD;;AAED,SAAO;AACL+d,0BAAsB,EAAtBA,sBADK;AAELN,iBAAa,EAAbA,aAFK;AAGL7B,uBAAmB,EAAnBA,mBAHK;AAILvU,mBAAe,EAAfA,eAJK;AAKLiU,yBAAqB,EAArBA;AALK,GAAP;AAOD;AAEM,SAASgD,MAAT,CACLC,IADK,EAEL1nB,UAFK,EAGLgQ,QAHK,EAILJ,MAJK,EAKc;AACnB;AACA;AACA;AACA;AACA,MAAMU,OAAO,GAAGN,QAAQ,CAAC2X,iBAAT,IAA8B3X,QAAQ,CAACM,OAAvD;;AALmB,8BAafC,yBAAyB,CAACD,OAAD,CAbV;AAAA,MAQjB4W,sBARiB,yBAQjBA,sBARiB;AAAA,MASjBN,aATiB,yBASjBA,aATiB;AAAA,MAUjB7B,mBAViB,yBAUjBA,mBAViB;AAAA,MAWjBvU,eAXiB,yBAWjBA,eAXiB;AAAA,MAYjBiU,qBAZiB,yBAYjBA,qBAZiB;;AAAA,MAejBC,UAfiB,GAoBfD,qBApBe,CAejBC,UAfiB;AAAA,MAgBjBI,UAhBiB,GAoBfL,qBApBe,CAgBjBK,UAhBiB;AAAA,MAiBjBH,OAjBiB,GAoBfF,qBApBe,CAiBjBE,OAjBiB;AAAA,MAkBjBC,aAlBiB,GAoBfH,qBApBe,CAkBjBG,aAlBiB;AAAA,MAmBjBC,SAnBiB,GAoBfJ,qBApBe,CAmBjBI,SAnBiB;AAAA,MAsBjBS,cAtBiB,GAyCf9U,eAzCe,CAsBjB8U,cAtBiB;AAAA,MAuBjBC,cAvBiB,GAyCf/U,eAzCe,CAuBjB+U,cAvBiB;AAAA,MAwBjB3f,eAxBiB,GAyCf4K,eAzCe,CAwBjB5K,eAxBiB;AAAA,MAyBjB8f,2BAzBiB,GAyCflV,eAzCe,CAyBjBkV,2BAzBiB;AAAA,MA0BjB5f,UA1BiB,GAyCf0K,eAzCe,CA0BjB1K,UA1BiB;AAAA,MA2BjBC,QA3BiB,GAyCfyK,eAzCe,CA2BjBzK,QA3BiB;AAAA,MA4BjB4f,iBA5BiB,GAyCfnV,eAzCe,CA4BjBmV,iBA5BiB;AAAA,MA6BjBG,QA7BiB,GAyCftV,eAzCe,CA6BjBsV,QA7BiB;AAAA,MA8BjBD,UA9BiB,GAyCfrV,eAzCe,CA8BjBqV,UA9BiB;AAAA,MA+BjBD,aA/BiB,GAyCfpV,eAzCe,CA+BjBoV,aA/BiB;AAAA,MAgCjBG,QAhCiB,GAyCfvV,eAzCe,CAgCjBuV,QAhCiB;AAAA,MAiCjBC,wBAjCiB,GAyCfxV,eAzCe,CAiCjBwV,wBAjCiB;AAAA,MAkCjBC,sBAlCiB,GAyCfzV,eAzCe,CAkCjByV,sBAlCiB;AAAA,MAmCjBE,qBAnCiB,GAyCf3V,eAzCe,CAmCjB2V,qBAnCiB;AAAA,MAoCjBC,aApCiB,GAyCf5V,eAzCe,CAoCjB4V,aApCiB;AAAA,MAqCjBE,kBArCiB,GAyCf9V,eAzCe,CAqCjB8V,kBArCiB;AAAA,MAsCjBE,mBAtCiB,GAyCfhW,eAzCe,CAsCjBgW,mBAtCiB;AAAA,MAuCjBC,iBAvCiB,GAyCfjW,eAzCe,CAuCjBiW,iBAvCiB;AAAA,MAwCjBC,qBAxCiB,GAyCflW,eAzCe,CAwCjBkW,qBAxCiB;AAAA,MA2CjB1B,iBA3CiB,GAiDfD,mBAjDe,CA2CjBC,iBA3CiB;AAAA,MA4CjBC,oBA5CiB,GAiDfF,mBAjDe,CA4CjBE,oBA5CiB;AAAA,MA6CjBC,cA7CiB,GAiDfH,mBAjDe,CA6CjBG,cA7CiB;AAAA,MA8CjBC,WA9CiB,GAiDfJ,mBAjDe,CA8CjBI,WA9CiB;AAAA,MA+CjBC,YA/CiB,GAiDfL,mBAjDe,CA+CjBK,YA/CiB;AAAA,MAgDjBC,UAhDiB,GAiDfN,mBAjDe,CAgDjBM,UAhDiB;AAAA,MAoDjBuC,iBApDiB,GA8Df5X,QA9De,CAoDjB4X,iBApDiB;AAAA,MAqDjBC,2BArDiB,GA8Df7X,QA9De,CAqDjB6X,2BArDiB;AAAA,MAsDjBC,2BAtDiB,GA8Df9X,QA9De,CAsDjB8X,2BAtDiB;AAAA,MAuDjBC,aAvDiB,GA8Df/X,QA9De,CAuDjB+X,aAvDiB;AAAA,MAwDjBC,uBAxDiB,GA8DfhY,QA9De,CAwDjBgY,uBAxDiB;AAAA,MAyDjBC,uBAzDiB,GA8DfjY,QA9De,CAyDjBiY,uBAzDiB;AAAA,MA0DjBC,eA1DiB,GA8DflY,QA9De,CA0DjBkY,eA1DiB;AAAA,MA2DjBC,eA3DiB,GA8DfnY,QA9De,CA2DjBmY,eA3DiB;AAAA,MA4DjBC,kBA5DiB,GA8DfpY,QA9De,CA4DjBoY,kBA5DiB;AAAA,MA6DjBC,cA7DiB,GA8DfrY,QA9De,CA6DjBqY,cA7DiB;AA+DnB,MAAMC,qBAAqB,GACzB,OAAOH,eAAP,KAA2B,UAA3B,IACA,OAAOE,cAAP,KAA0B,UAF5B;AAGA,MAAME,wBAAwB,GAC5B,OAAOH,kBAAP,KAA8B,UAA9B,IACA,OAAOC,cAAP,KAA0B,UAF5B;;AAIA,MAAI,OAAOH,eAAP,KAA2B,UAA/B,EAA2C;AACzC;AACA;AACA;AACA;AACA;AACA;AACAlY,YAAQ,CAACkY,eAAT,GAA2B,YAAa;AACtC,UAAI;AACFR,YAAI,CAACc,IAAL,CAAU,sBAAV;AACD,OAFD,SAEU;AACR,eAAON,eAAe,MAAf,mBAAP;AACD;AACF,KAND;AAOD,GApFkB,CAsFnB;AACA;AACA;AACA;AACA;;;AACA,MAAMO,qCAAiD,GAAG,IAAI9qB,GAAJ,EAA1D;AACA,MAAM+qB,uBAAwD,GAAG,IAAIpZ,GAAJ,EAAjE;AACA,MAAMqZ,yBAA0D,GAAG,IAAIrZ,GAAJ,EAAnE,CA7FmB,CA+FnB;;AACA,MAAMsZ,kBAAoD,GAAG,IAAItZ,GAAJ,EAA7D;AACA,MAAMuZ,oBAAsD,GAAG,IAAIvZ,GAAJ,EAA/D;;AAEA,WAASwZ,sBAAT,GAAkC;AAChC;AADgC,+CAEfF,kBAAkB,CAAClrB,IAAnB,EAFe;AAAA;;AAAA;AAEhC,0DAA4C;AAAA,YAAjCiD,EAAiC;;AAC1C,YAAMyjB,MAAK,GAAG2E,qBAAqB,CAACpqB,GAAtB,CAA0BgC,EAA1B,CAAd;;AACA,YAAIyjB,MAAK,IAAI,IAAb,EAAmB;AACjBqE,+CAAqC,CAACpqB,GAAtC,CAA0C+lB,MAA1C;AACA4E,uDAA6C,CAACroB,EAAD,CAA7C;AACD;AACF,OAR+B,CAUhC;;AAVgC;AAAA;AAAA;AAAA;AAAA;;AAAA,gDAWfkoB,oBAAoB,CAACnrB,IAArB,EAXe;AAAA;;AAAA;AAWhC,6DAA8C;AAAA,YAAnCiD,GAAmC;;AAC5C,YAAMyjB,OAAK,GAAG2E,qBAAqB,CAACpqB,GAAtB,CAA0BgC,GAA1B,CAAd;;AACA,YAAIyjB,OAAK,IAAI,IAAb,EAAmB;AACjBqE,+CAAqC,CAACpqB,GAAtC,CAA0C+lB,OAA1C;AACA4E,uDAA6C,CAACroB,GAAD,CAA7C;AACD;AACF;AAjB+B;AAAA;AAAA;AAAA;AAAA;;AAmBhCioB,sBAAkB,CAACK,KAAnB;AACAJ,wBAAoB,CAACI,KAArB;AAEAC,sBAAkB;AACnB;;AAED,WAASC,uBAAT,CACEC,OADF,EAEEC,6BAFF,EAGEC,wBAHF,EAIE;AACA,QAAMlF,KAAK,GAAG2E,qBAAqB,CAACpqB,GAAtB,CAA0ByqB,OAA1B,CAAd;;AACA,QAAIhF,KAAK,IAAI,IAAb,EAAmB;AACjB;AACAsE,6BAAuB,CAACa,MAAxB,CAA+BnF,KAA/B;;AAEA,UAAIkF,wBAAwB,CAAC5d,GAAzB,CAA6B0d,OAA7B,CAAJ,EAA2C;AACzCE,gCAAwB,CAACC,MAAzB,CAAgCH,OAAhC,EADyC,CAGzC;;AACAX,6CAAqC,CAACpqB,GAAtC,CAA0C+lB,KAA1C;AACA8E,0BAAkB;AAElBF,qDAA6C,CAACI,OAAD,CAA7C;AACD,OARD,MAQO;AACLX,6CAAqC,CAACc,MAAtC,CAA6CnF,KAA7C;AACD;AACF;AACF;;AAED,WAASoF,qBAAT,CAA+BJ,OAA/B,EAAgD;AAC9CD,2BAAuB,CACrBC,OADqB,EAErBV,uBAFqB,EAGrBE,kBAHqB,CAAvB;AAKD;;AAED,WAASa,uBAAT,CAAiCL,OAAjC,EAAkD;AAChDD,2BAAuB,CACrBC,OADqB,EAErBT,yBAFqB,EAGrBE,oBAHqB,CAAvB;AAKD;;AAED,WAASG,6CAAT,CACEI,OADF,EAEQ;AACN,QACEM,4BAA4B,KAAK,IAAjC,IACAA,4BAA4B,CAAC/oB,EAA7B,KAAoCyoB,OAFtC,EAGE;AACAO,yCAAmC,GAAG,IAAtC;AACD;AACF,GA7KkB,CA+KnB;;;AACA,WAAS1Z,gBAAT,CACEmU,KADF,EAEE5lB,IAFF,EAGEsN,IAHF,EAIQ;AACN,QAAItN,IAAI,KAAK,OAAb,EAAsB;AACpB,UAAMorB,OAAO,GAAGC,gBAAgB,CAACzF,KAAD,CAAhC,CADoB,CAEpB;;AACA,UAAIwF,OAAO,IAAI,IAAX,IAAmBE,qBAAqB,CAACnrB,GAAtB,CAA0BirB,OAA1B,MAAuC,IAA9D,EAAoE;AAClE;AACD;AACF;;AACD,QAAMG,OAAO,GAAGpe,+BAAM,MAAN,4BAAUG,IAAV,EAAhB;;AACA,QAAIvT,8BAAJ,EAAe;AACbub,WAAK,CAAC,kBAAD,EAAqBsQ,KAArB,EAA4B,IAA5B,YAAqC5lB,IAArC,iBAA+CurB,OAA/C,QAAL;AACD,KAXK,CAaN;;;AACAtB,yCAAqC,CAACpqB,GAAtC,CAA0C+lB,KAA1C,EAdM,CAgBN;;AACA,QAAM4F,QAAQ,GACZxrB,IAAI,KAAK,OAAT,GAAmBkqB,uBAAnB,GAA6CC,yBAD/C;AAEA,QAAMsB,UAAU,GAAGD,QAAQ,CAACrrB,GAAT,CAAaylB,KAAb,CAAnB;;AACA,QAAI6F,UAAU,IAAI,IAAlB,EAAwB;AACtB,UAAMC,KAAK,GAAGD,UAAU,CAACtrB,GAAX,CAAeorB,OAAf,KAA2B,CAAzC;AACAE,gBAAU,CAACnrB,GAAX,CAAeirB,OAAf,EAAwBG,KAAK,GAAG,CAAhC;AACD,KAHD,MAGO;AACLF,cAAQ,CAAClrB,GAAT,CAAaslB,KAAb,EAAoB,IAAI9U,GAAJ,CAAQ,CAAC,CAACya,OAAD,EAAU,CAAV,CAAD,CAAR,CAApB;AACD,KAzBK,CA2BN;AACA;AACA;AACA;AACA;AACA;;;AACAI,2CAAuC;AACxC,GAtNkB,CAwNnB;AACA;AACA;AACA;AACA;;;AACA,MAAI/c,IAAJ,EAAqC;AACnCgd,uDAA2B,CAACpa,QAAD,EAAWC,gBAAX,CAA3B,CADmC,CAGnC;AACA;AACA;;AACA,QAAMU,oBAAoB,GACxBpG,MAAM,CAAC8f,yCAAP,KAAqD,KADvD;AAEA,QAAMzZ,oBAAoB,GACxBrG,MAAM,CAAC+f,0CAAP,KAAsD,IADxD;AAEA,QAAMzZ,2BAA2B,GAC/BtG,MAAM,CAACggB,kDAAP,KAA8D,KADhE;AAEA,QAAMzZ,2BAA2B,GAC/BvG,MAAM,CAACigB,mDAAP,KAA+D,IADjE;AAEA,QAAMxZ,YAAY,GAAGzG,MAAM,CAACkgB,gCAA5B;AAEAC,4CAAY,CAAC;AACX/Z,0BAAoB,EAApBA,oBADW;AAEXC,0BAAoB,EAApBA,oBAFW;AAGXC,iCAA2B,EAA3BA,2BAHW;AAIXC,iCAA2B,EAA3BA,2BAJW;AAKXE,kBAAY,EAAZA;AALW,KAAD,CAAZ;AAOD;;AAED,MAAM8C,KAAK,GAAG,SAARA,KAAQ,CACZjV,IADY,EAEZulB,KAFY,EAGZuG,WAHY,EAKH;AAAA,QADTC,WACS,uEADc,EACd;;AACT,QAAIryB,8BAAJ,EAAe;AACb,UAAMqG,WAAW,GACfwlB,KAAK,CAAC+C,GAAN,GAAY,GAAZ,IAAmBD,sBAAsB,CAAC9C,KAAD,CAAtB,IAAiC,MAApD,CADF;AAGA,UAAMwF,OAAO,GAAGC,gBAAgB,CAACzF,KAAD,CAAhB,IAA2B,SAA3C;AACA,UAAMyG,iBAAiB,GAAGF,WAAW,GACjCA,WAAW,CAACxD,GAAZ,GACA,GADA,IAECD,sBAAsB,CAACyD,WAAD,CAAtB,IAAuC,MAFxC,CADiC,GAIjC,EAJJ;AAKA,UAAMG,aAAa,GAAGH,WAAW,GAC7Bd,gBAAgB,CAACc,WAAD,CAAhB,IAAiC,SADJ,GAE7B,EAFJ;AAIArpB,aAAO,CAACypB,cAAR,wBACkBlsB,IADlB,gBAC4BD,WAD5B,eAC4CgrB,OAD5C,iBAEIe,WAAW,aAAME,iBAAN,eAA4BC,aAA5B,SAA+C,EAF9D,gBAGQF,WAHR,GAIE,gCAJF,EAKE,cALF,EAME,gBANF,EAOE,eAPF;AASAtpB,aAAO,CAACC,GAAR,CACE,IAAIF,KAAJ,GAAY2pB,KAAZ,CACGzc,KADH,CACS,IADT,EAEG/N,KAFH,CAES,CAFT,EAGGU,IAHH,CAGQ,IAHR,CADF;AAMAI,aAAO,CAAC2pB,QAAR;AACD;AACF,GArCD,CAtPmB,CA6RnB;;;AACA,MAAMC,4BAAyC,GAAG,IAAIvtB,GAAJ,EAAlD;AACA,MAAMwtB,qBAAkC,GAAG,IAAIxtB,GAAJ,EAA3C;AACA,MAAMytB,qBAAuC,GAAG,IAAIztB,GAAJ,EAAhD,CAhSmB,CAkSnB;;AACA,MAAI0tB,mBAA4B,GAAG,KAAnC;AACA,MAAMC,oBAAqC,GAAG,IAAI3tB,GAAJ,EAA9C;;AAEA,WAAS4tB,qBAAT,CAA+BrpB,gBAA/B,EAAyE;AACvEkpB,yBAAqB,CAACnC,KAAtB;AACAiC,gCAA4B,CAACjC,KAA7B;AACAkC,yBAAqB,CAAClC,KAAtB;AAEA/mB,oBAAgB,CAAChE,OAAjB,CAAyB,UAAAstB,eAAe,EAAI;AAC1C,UAAI,CAACA,eAAe,CAAC9pB,SAArB,EAAgC;AAC9B;AACD;;AAED,cAAQ8pB,eAAe,CAAChtB,IAAxB;AACE,aAAKvD,2CAAL;AACE,cAAIuwB,eAAe,CAACC,OAAhB,IAA2BD,eAAe,CAAC/pB,KAAhB,KAA0B,EAAzD,EAA6D;AAC3DypB,wCAA4B,CAAC7sB,GAA7B,CACE,IAAI+X,MAAJ,CAAWoV,eAAe,CAAC/pB,KAA3B,EAAkC,GAAlC,CADF;AAGD;;AACD;;AACF,aAAKzG,2CAAL;AACEowB,+BAAqB,CAAC/sB,GAAtB,CAA0BmtB,eAAe,CAAC/pB,KAA1C;AACA;;AACF,aAAKvG,wCAAL;AACE,cAAIswB,eAAe,CAACC,OAAhB,IAA2BD,eAAe,CAAC/pB,KAAhB,KAA0B,EAAzD,EAA6D;AAC3D0pB,iCAAqB,CAAC9sB,GAAtB,CAA0B,IAAI+X,MAAJ,CAAWoV,eAAe,CAAC/pB,KAA3B,EAAkC,GAAlC,CAA1B;AACD;;AACD;;AACF,aAAKtG,mCAAL;AACE+vB,sCAA4B,CAAC7sB,GAA7B,CAAiC,IAAI+X,MAAJ,CAAW,KAAX,CAAjC;AACA;;AACF;AACE9U,iBAAO,CAACoqB,IAAR,2CACoCF,eAAe,CAAChtB,IADpD;AAGA;AAvBJ;AAyBD,KA9BD;AA+BD,GA1UkB,CA4UnB;AACA;AACA;;;AACA,MAAI+L,MAAM,CAACohB,oCAAP,IAA+C,IAAnD,EAAyD;AACvDJ,yBAAqB,CAAChhB,MAAM,CAACohB,oCAAR,CAArB;AACD,GAFD,MAEO;AACL;AACA;AACA;AACA;AAEA;AACAJ,yBAAqB,CAAC/pB,mDAA0B,EAA3B,CAArB;AACD,GAzVkB,CA2VnB;AACA;AACA;AACA;;;AACA,WAASoqB,sBAAT,CAAgC1pB,gBAAhC,EAA0E;AACxE,QAAI2pB,WAAJ,EAAiB;AACf;AACA;AACA,YAAMxqB,KAAK,CAAC,kDAAD,CAAX;AACD,KALuE,CAOxE;;;AACAqmB,QAAI,CAACoE,aAAL,CAAmB9rB,UAAnB,EAA+B9B,OAA/B,CAAuC,UAAAkN,IAAI,EAAI;AAC7C2gB,mBAAa,GAAGC,oBAAoB,CAAC5gB,IAAI,CAACxN,OAAN,CAApC,CAD6C,CAE7C;AACA;AACA;;AACAquB,mBAAa,CAACnzB,+CAAD,CAAb;AACAowB,wBAAkB,CAAC9d,IAAD,CAAlB;AACA2gB,mBAAa,GAAG,CAAC,CAAjB;AACD,KARD;AAUAR,yBAAqB,CAACrpB,gBAAD,CAArB,CAlBwE,CAoBxE;;AACAgqB,0BAAsB,CAACjD,KAAvB,GArBwE,CAuBxE;;AACAvB,QAAI,CAACoE,aAAL,CAAmB9rB,UAAnB,EAA+B9B,OAA/B,CAAuC,UAAAkN,IAAI,EAAI;AAC7C2gB,mBAAa,GAAGC,oBAAoB,CAAC5gB,IAAI,CAACxN,OAAN,CAApC;AACAuuB,sBAAgB,CAACJ,aAAD,EAAgB3gB,IAAI,CAACxN,OAArB,CAAhB;AACAwuB,2BAAqB,CAAChhB,IAAI,CAACxN,OAAN,EAAe,IAAf,EAAqB,KAArB,EAA4B,KAA5B,CAArB;AACAsrB,wBAAkB,CAAC9d,IAAD,CAAlB;AACA2gB,mBAAa,GAAG,CAAC,CAAjB;AACD,KAND,EAxBwE,CAgCxE;;AACAM,+BAA2B;AAC3BnD,sBAAkB;AACnB,GAlYkB,CAoYnB;;;AACA,WAASoD,iBAAT,CAA2BlI,KAA3B,EAAkD;AAAA,QACzCmI,YADyC,GACdnI,KADc,CACzCmI,YADyC;AAAA,QAC3BpF,GAD2B,GACd/C,KADc,CAC3B+C,GAD2B;AAAA,QACtB3oB,IADsB,GACd4lB,KADc,CACtB5lB,IADsB;;AAGhD,YAAQ2oB,GAAR;AACE,WAAKzB,2BAAL;AACE;AACA;AACA;AACA;AACA;AACA,eAAO,IAAP;;AACF,WAAKG,UAAL;AACA,WAAKE,QAAL;AACA,WAAKhgB,QAAL;AACA,WAAKogB,qBAAL;AACA,WAAKG,kBAAL;AACE,eAAO,IAAP;;AACF,WAAKR,QAAL;AACE;AACA,eAAO,KAAP;;AACF;AACE,YAAMkB,UAAU,GAAGJ,aAAa,CAACpoB,IAAD,CAAhC;;AAEA,gBAAQwoB,UAAR;AACE,eAAKvf,8CAAL;AACA,eAAKC,qDAAL;AACA,eAAKG,2DAAL;AACA,eAAKuB,0CAAL;AACA,eAAKC,iDAAL;AACE,mBAAO,IAAP;;AACF;AACE;AARJ;;AApBJ;;AAgCA,QAAM3D,WAAW,GAAG8mB,sBAAsB,CAACpI,KAAD,CAA1C;;AACA,QAAIgH,qBAAqB,CAAC1f,GAAtB,CAA0BhG,WAA1B,CAAJ,EAA4C;AAC1C,aAAO,IAAP;AACD;;AAED,QAAIwlB,4BAA4B,CAAC9jB,IAA7B,GAAoC,CAAxC,EAA2C;AACzC,UAAMxI,WAAW,GAAGsoB,sBAAsB,CAAC9C,KAAD,CAA1C;;AACA,UAAIxlB,WAAW,IAAI,IAAnB,EAAyB;AACvB;AADuB,oDAESssB,4BAFT;AAAA;;AAAA;AAEvB,iEAA8D;AAAA,gBAAnDuB,iBAAmD;;AAC5D,gBAAIA,iBAAiB,CAACrd,IAAlB,CAAuBxQ,WAAvB,CAAJ,EAAyC;AACvC,qBAAO,IAAP;AACD;AACF;AANsB;AAAA;AAAA;AAAA;AAAA;AAOxB;AACF;;AAED,QAAI2tB,YAAY,IAAI,IAAhB,IAAwBpB,qBAAqB,CAAC/jB,IAAtB,GAA6B,CAAzD,EAA4D;AAAA,UACnDslB,QADmD,GACvCH,YADuC,CACnDG,QADmD,EAE1D;;AAF0D,kDAGjCvB,qBAHiC;AAAA;;AAAA;AAG1D,+DAAgD;AAAA,cAArCwB,UAAqC;;AAC9C,cAAIA,UAAU,CAACvd,IAAX,CAAgBsd,QAAhB,CAAJ,EAA+B;AAC7B,mBAAO,IAAP;AACD;AACF;AAPyD;AAAA;AAAA;AAAA;AAAA;AAQ3D;;AAED,WAAO,KAAP;AACD,GApckB,CAscnB;;;AACA,WAASF,sBAAT,CAAgCpI,KAAhC,EAA2D;AAAA,QAClD5lB,IADkD,GACrC4lB,KADqC,CAClD5lB,IADkD;AAAA,QAC5C2oB,GAD4C,GACrC/C,KADqC,CAC5C+C,GAD4C;;AAGzD,YAAQA,GAAR;AACE,WAAK5B,cAAL;AACA,WAAKS,wBAAL;AACE,eAAO3rB,iCAAP;;AACF,WAAKsrB,iBAAL;AACA,WAAKM,sBAAL;AACE,eAAO1rB,oCAAP;;AACF,WAAKuL,UAAL;AACE,eAAOtL,sCAAP;;AACF,WAAKsrB,QAAL;AACE,eAAOjrB,gCAAP;;AACF,WAAK+qB,aAAL;AACE,eAAOnrB,yCAAP;;AACF,WAAKorB,UAAL;AACA,WAAKE,QAAL;AACA,WAAKhgB,QAAL;AACE,eAAOpL,0CAAP;;AACF,WAAKyrB,aAAL;AACA,WAAKI,mBAAL;AACE,eAAO9rB,gCAAP;;AACF,WAAK+rB,iBAAL;AACE,eAAO3rB,oCAAP;;AACF,WAAK4rB,qBAAL;AACE,eAAO3rB,wCAAP;;AACF;AACE,YAAMisB,UAAU,GAAGJ,aAAa,CAACpoB,IAAD,CAAhC;;AAEA,gBAAQwoB,UAAR;AACE,eAAKvf,8CAAL;AACA,eAAKC,qDAAL;AACA,eAAKG,2DAAL;AACE,mBAAOlN,0CAAP;;AACF,eAAKqO,uCAAL;AACA,eAAKC,8CAAL;AACE,mBAAO3O,mCAAP;;AACF,eAAKqN,sCAAL;AACA,eAAKC,6CAAL;AACE,mBAAOtN,mCAAP;;AACF,eAAK8O,0CAAL;AACA,eAAKC,iDAAL;AACE,mBAAO1O,0CAAP;;AACF,eAAKmO,uCAAL;AACA,eAAKC,8CAAL;AACE,mBAAOnO,oCAAP;;AACF;AACE,mBAAOD,0CAAP;AAlBJ;;AA3BJ;AAgDD,GA1fkB,CA4fnB;AACA;AACA;AACA;;;AACA,MAAMiyB,YAAgC,GAAG,IAAItd,GAAJ,EAAzC,CAhgBmB,CAkgBnB;AACA;AACA;;AACA,MAAMyZ,qBAAyC,GAAG,IAAIzZ,GAAJ,EAAlD,CArgBmB,CAugBnB;AACA;AACA;AACA;;AACA,MAAMud,uBAA4C,GAAG,IAAIvd,GAAJ,EAArD,CA3gBmB,CA6gBnB;AACA;;AACA,MAAMwd,WAAgC,GAAG,IAAIxd,GAAJ,EAAzC,CA/gBmB,CAihBnB;;AACA,MAAIyc,aAAqB,GAAG,CAAC,CAA7B,CAlhBmB,CAohBnB;AACA;;AACA,WAASC,oBAAT,CAA8B5H,KAA9B,EAAoD;AAClD,QAAIzjB,EAAE,GAAG,IAAT;;AACA,QAAIisB,YAAY,CAAClhB,GAAb,CAAiB0Y,KAAjB,CAAJ,EAA6B;AAC3BzjB,QAAE,GAAGisB,YAAY,CAACjuB,GAAb,CAAiBylB,KAAjB,CAAL;AACD,KAFD,MAEO;AAAA,UACE2I,UADF,GACe3I,KADf,CACE2I,SADF;;AAEL,UAAIA,UAAS,KAAK,IAAd,IAAsBH,YAAY,CAAClhB,GAAb,CAAiBqhB,UAAjB,CAA1B,EAAuD;AACrDpsB,UAAE,GAAGisB,YAAY,CAACjuB,GAAb,CAAiBouB,UAAjB,CAAL;AACD;AACF;;AAED,QAAIC,aAAa,GAAG,KAApB;;AACA,QAAIrsB,EAAE,KAAK,IAAX,EAAiB;AACfqsB,mBAAa,GAAG,IAAhB;AACArsB,QAAE,GAAG3B,+BAAM,EAAX;AACD,KAfiD,CAiBlD;;;AACA,QAAMiuB,SAAS,GAAKtsB,EAApB,CAlBkD,CAoBlD;AACA;;AACA,QAAI,CAACisB,YAAY,CAAClhB,GAAb,CAAiB0Y,KAAjB,CAAL,EAA8B;AAC5BwI,kBAAY,CAAC9tB,GAAb,CAAiBslB,KAAjB,EAAwB6I,SAAxB;AACAlE,2BAAqB,CAACjqB,GAAtB,CAA0BmuB,SAA1B,EAAqC7I,KAArC;AACD,KAzBiD,CA2BlD;AACA;;;AA5BkD,QA6B3C2I,SA7B2C,GA6B9B3I,KA7B8B,CA6B3C2I,SA7B2C;;AA8BlD,QAAIA,SAAS,KAAK,IAAlB,EAAwB;AACtB,UAAI,CAACH,YAAY,CAAClhB,GAAb,CAAiBqhB,SAAjB,CAAL,EAAkC;AAChCH,oBAAY,CAAC9tB,GAAb,CAAiBiuB,SAAjB,EAA4BE,SAA5B;AACD;AACF;;AAED,QAAI10B,8BAAJ,EAAe;AACb,UAAIy0B,aAAJ,EAAmB;AACjBlZ,aAAK,CACH,wBADG,EAEHsQ,KAFG,EAGHA,KAAK,CAAC8I,MAHH,EAIH,qBAJG,CAAL;AAMD;AACF;;AAED,WAAOD,SAAP;AACD,GAtkBkB,CAwkBnB;;;AACA,WAASE,gBAAT,CAA0B/I,KAA1B,EAAgD;AAC9C,QAAMwF,OAAO,GAAGC,gBAAgB,CAACzF,KAAD,CAAhC;;AACA,QAAIwF,OAAO,KAAK,IAAhB,EAAsB;AACpB,aAAOA,OAAP;AACD;;AACD,UAAMvoB,KAAK,yCACuB6lB,sBAAsB,CAAC9C,KAAD,CAAtB,IAAiC,EADxD,QAAX;AAGD,GAjlBkB,CAmlBnB;AACA;;;AACA,WAASyF,gBAAT,CAA0BzF,KAA1B,EAAuD;AACrD,QAAIwI,YAAY,CAAClhB,GAAb,CAAiB0Y,KAAjB,CAAJ,EAA6B;AAC3B,aAASwI,YAAY,CAACjuB,GAAb,CAAiBylB,KAAjB,CAAT;AACD,KAFD,MAEO;AAAA,UACE2I,SADF,GACe3I,KADf,CACE2I,SADF;;AAEL,UAAIA,SAAS,KAAK,IAAd,IAAsBH,YAAY,CAAClhB,GAAb,CAAiBqhB,SAAjB,CAA1B,EAAuD;AACrD,eAASH,YAAY,CAACjuB,GAAb,CAAiBouB,SAAjB,CAAT;AACD;AACF;;AACD,WAAO,IAAP;AACD,GA/lBkB,CAimBnB;AACA;;;AACA,WAASK,cAAT,CAAwBhJ,KAAxB,EAAsC;AACpC,QAAI7rB,8BAAJ,EAAe;AACbub,WAAK,CAAC,kBAAD,EAAqBsQ,KAArB,EAA4BA,KAAK,CAAC8I,MAAlC,EAA0C,sBAA1C,CAAL;AACD,KAHmC,CAKpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAG,oBAAgB,CAAChvB,GAAjB,CAAqB+lB,KAArB;;AAEA,QAAIkJ,sBAAsB,KAAK,IAA/B,EAAqC;AACnCA,4BAAsB,GAAGzb,UAAU,CAAC0b,aAAD,EAAgB,IAAhB,CAAnC;AACD;AACF;;AAED,MAAMF,gBAA4B,GAAG,IAAI1vB,GAAJ,EAArC;AACA,MAAI2vB,sBAAwC,GAAG,IAA/C;;AAEA,WAASC,aAAT,GAAyB;AACvB,QAAID,sBAAsB,KAAK,IAA/B,EAAqC;AACnChK,kBAAY,CAACgK,sBAAD,CAAZ;AACAA,4BAAsB,GAAG,IAAzB;AACD;;AAEDD,oBAAgB,CAACnvB,OAAjB,CAAyB,UAAAkmB,KAAK,EAAI;AAChC,UAAMgF,OAAO,GAAGS,gBAAgB,CAACzF,KAAD,CAAhC;;AACA,UAAIgF,OAAO,KAAK,IAAhB,EAAsB;AACpBL,6BAAqB,CAACQ,MAAtB,CAA6BH,OAA7B,EADoB,CAGpB;;AACAI,6BAAqB,CAACJ,OAAD,CAArB;AACAK,+BAAuB,CAACL,OAAD,CAAvB;AACD;;AAEDwD,kBAAY,CAACrD,MAAb,CAAoBnF,KAApB;AAVgC,UAYzB2I,SAZyB,GAYZ3I,KAZY,CAYzB2I,SAZyB;;AAahC,UAAIA,SAAS,KAAK,IAAlB,EAAwB;AACtBH,oBAAY,CAACrD,MAAb,CAAoBwD,SAApB;AACD;;AAED,UAAIjD,qBAAqB,CAACpe,GAAtB,CAA0B0d,OAA1B,CAAJ,EAAwC;AACtCU,6BAAqB,CAACP,MAAtB,CAA6BH,OAA7B;;AACA,YAAIU,qBAAqB,CAAC1iB,IAAtB,KAA+B,CAA/B,IAAoC+gB,eAAe,IAAI,IAA3D,EAAiE;AAC/DA,yBAAe,CAACqF,0BAAD,CAAf;AACD;AACF;AACF,KAvBD;AAwBAH,oBAAgB,CAACpE,KAAjB;AACD;;AAED,WAASwE,oBAAT,CACEC,SADF,EAEEC,SAFF,EAG4B;AAC1B,YAAQnB,sBAAsB,CAACmB,SAAD,CAA9B;AACE,WAAKtzB,iCAAL;AACA,WAAKE,oCAAL;AACA,WAAKG,gCAAL;AACA,WAAKF,sCAAL;AACE,YAAIkzB,SAAS,KAAK,IAAlB,EAAwB;AACtB,iBAAO;AACLnG,mBAAO,EAAE,IADJ;AAELqG,0BAAc,EAAE,KAFX;AAGLC,wBAAY,EAAE,IAHT;AAILC,iBAAK,EAAE,IAJF;AAKLC,iBAAK,EAAE;AALF,WAAP;AAOD,SARD,MAQO;AACL,cAAMlpB,IAAuB,GAAG;AAC9B0iB,mBAAO,EAAEyG,qBAAqB,CAACL,SAAD,CADA;AAE9BC,0BAAc,EAAE,KAFc;AAG9BC,wBAAY,EAAE,KAHgB;AAI9BC,iBAAK,EAAEG,cAAc,CACnBP,SAAS,CAAClG,aADS,EAEnBmG,SAAS,CAACnG,aAFS,CAJS;AAQ9BuG,iBAAK,EAAEE,cAAc,CACnBP,SAAS,CAACQ,aADS,EAEnBP,SAAS,CAACO,aAFS;AARS,WAAhC,CADK,CAeL;;AACA,cAAIhc,yEAAJ,EAAsC;AACpC,gBAAMic,OAAO,GAAGC,sBAAsB,CACpCV,SAAS,CAACQ,aAD0B,EAEpCP,SAAS,CAACO,aAF0B,CAAtC;AAIArpB,gBAAI,CAACwpB,KAAL,GAAaF,OAAb;AACAtpB,gBAAI,CAAC+oB,cAAL,GAAsBO,OAAO,KAAK,IAAZ,IAAoBA,OAAO,CAACxuB,MAAR,GAAiB,CAA3D;AACD,WAPD,MAOO;AACLkF,gBAAI,CAAC+oB,cAAL,GAAsBA,cAAc,CAClCF,SAAS,CAACQ,aADwB,EAElCP,SAAS,CAACO,aAFwB,CAApC;AAID;;AAED,iBAAOrpB,IAAP;AACD;;AACH;AACE,eAAO,IAAP;AA9CJ;AAgDD;;AAED,WAASypB,sBAAT,CAAgClK,KAAhC,EAA8C;AAC5C,YAAQoI,sBAAsB,CAACpI,KAAD,CAA9B;AACE,WAAK7pB,oCAAL;AACA,WAAKF,iCAAL;AACE,YAAIk0B,eAAe,KAAK,IAAxB,EAA8B;AAC5B,cAAM5tB,EAAE,GAAGwsB,gBAAgB,CAAC/I,KAAD,CAA3B;AACA,cAAMoK,QAAQ,GAAGC,mBAAmB,CAACrK,KAAD,CAApC;;AACA,cAAIoK,QAAQ,KAAK,IAAjB,EAAuB;AACrBD,2BAAe,CAACzvB,GAAhB,CAAoB6B,EAApB,EAAwB6tB,QAAxB;AACD;AACF;;AACD;;AACF;AACE;AAZJ;AAcD,GAvuBkB,CAyuBnB;;;AACA,MAAME,UAAU,GAAG,EAAnB;;AAEA,WAASD,mBAAT,CAA6BrK,KAA7B,EAAiE;AAC/D,QAAIuK,aAAa,GAAGD,UAApB;AACA,QAAIE,aAAa,GAAGF,UAApB;;AAEA,YAAQlC,sBAAsB,CAACpI,KAAD,CAA9B;AACE,WAAK/pB,iCAAL;AACE,YAAMw0B,QAAQ,GAAGzK,KAAK,CAAC5Y,SAAvB;;AACA,YAAIqjB,QAAQ,IAAI,IAAhB,EAAsB;AACpB,cACEA,QAAQ,CAACxpB,WAAT,IACAwpB,QAAQ,CAACxpB,WAAT,CAAqBypB,WAArB,IAAoC,IAFtC,EAGE;AACAF,yBAAa,GAAGC,QAAQ,CAACtH,OAAzB;AACD,WALD,MAKO;AACLoH,yBAAa,GAAGE,QAAQ,CAACtH,OAAzB;;AACA,gBAAIoH,aAAa,IAAI7wB,MAAM,CAACJ,IAAP,CAAYixB,aAAZ,EAA2BhvB,MAA3B,KAAsC,CAA3D,EAA8D;AAC5DgvB,2BAAa,GAAGD,UAAhB;AACD;AACF;AACF;;AACD,eAAO,CAACC,aAAD,EAAgBC,aAAhB,CAAP;;AACF,WAAKr0B,oCAAL;AACE,YAAMw0B,YAAY,GAAG3K,KAAK,CAAC2K,YAA3B;;AACA,YAAIA,YAAY,IAAIA,YAAY,CAACC,YAAjC,EAA+C;AAC7CJ,uBAAa,GAAGG,YAAY,CAACC,YAA7B;AACD;;AAED,eAAO,CAACL,aAAD,EAAgBC,aAAhB,CAAP;;AACF;AACE,eAAO,IAAP;AAzBJ;AA2BD,GA3wBkB,CA6wBnB;AACA;AACA;;;AACA,WAASK,4BAAT,CAAsC7K,KAAtC,EAAoD;AAClDkK,0BAAsB,CAAClK,KAAD,CAAtB;AACA,QAAIxmB,OAAO,GAAGwmB,KAAK,CAAC8K,KAApB;;AACA,WAAOtxB,OAAO,KAAK,IAAnB,EAAyB;AACvBqxB,kCAA4B,CAACrxB,OAAD,CAA5B;AACAA,aAAO,GAAGA,OAAO,CAACuxB,OAAlB;AACD;AACF;;AAED,WAASnB,qBAAT,CAA+B5J,KAA/B,EAA6E;AAC3E,QAAImK,eAAe,KAAK,IAAxB,EAA8B;AAC5B,UAAM5tB,EAAE,GAAGwsB,gBAAgB,CAAC/I,KAAD,CAA3B;AACA,UAAMgL,YAAY,GAAGb,eAAe,CAAC7iB,GAAhB,CAAoB/K,EAApB,IACjB4tB,eAAe,CAAC5vB,GAAhB,CAAoBgC,EAApB,CADiB,GAEjB,IAFJ;AAGA,UAAM0uB,YAAY,GAAGZ,mBAAmB,CAACrK,KAAD,CAAxC;;AAEA,UAAIgL,YAAY,IAAI,IAAhB,IAAwBC,YAAY,IAAI,IAA5C,EAAkD;AAChD,eAAO,IAAP;AACD;;AAT2B,yCAWmBD,YAXnB;AAAA,UAWrBE,iBAXqB;AAAA,UAWFC,iBAXE;;AAAA,yCAYmBF,YAZnB;AAAA,UAYrBG,iBAZqB;AAAA,UAYFC,iBAZE;;AAc5B,cAAQjD,sBAAsB,CAACpI,KAAD,CAA9B;AACE,aAAK/pB,iCAAL;AACE,cAAI+0B,YAAY,IAAIC,YAApB,EAAkC;AAChC,gBAAIG,iBAAiB,KAAKd,UAA1B,EAAsC;AACpC,qBAAOT,cAAc,CAACqB,iBAAD,EAAoBE,iBAApB,CAArB;AACD,aAFD,MAEO,IAAIC,iBAAiB,KAAKf,UAA1B,EAAsC;AAC3C,qBAAOa,iBAAiB,KAAKE,iBAA7B;AACD;AACF;;AACD;;AACF,aAAKl1B,oCAAL;AACE,cAAIk1B,iBAAiB,KAAKf,UAA1B,EAAsC;AACpC,gBAAIgB,WAAW,GAAGH,iBAAlB;AACA,gBAAII,WAAW,GAAGF,iBAAlB;;AAEA,mBAAOC,WAAW,IAAIC,WAAtB,EAAmC;AACjC,kBAAI,CAAC5L,eAAE,CAAC2L,WAAW,CAACE,aAAb,EAA4BD,WAAW,CAACC,aAAxC,CAAP,EAA+D;AAC7D,uBAAO,IAAP;AACD;;AAEDF,yBAAW,GAAGA,WAAW,CAACpsB,IAA1B;AACAqsB,yBAAW,GAAGA,WAAW,CAACrsB,IAA1B;AACD;;AAED,mBAAO,KAAP;AACD;;AACD;;AACF;AACE;AA5BJ;AA8BD;;AACD,WAAO,IAAP;AACD;;AAED,WAASusB,kBAAT,CACEC,QADF,EAEEC,QAFF,EAGE;AACA,QAAIA,QAAQ,KAAK,IAAjB,EAAuB;AACrB,aAAO,KAAP;AACD;;AAED,SAAK,IAAInwB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmwB,QAAQ,CAACpwB,MAAb,IAAuBC,CAAC,GAAGkwB,QAAQ,CAACnwB,MAApD,EAA4DC,CAAC,EAA7D,EAAiE;AAC/D,UAAImkB,eAAE,CAAC+L,QAAQ,CAAClwB,CAAD,CAAT,EAAcmwB,QAAQ,CAACnwB,CAAD,CAAtB,CAAN,EAAkC;AAChC;AACD;;AACD,aAAO,KAAP;AACD;;AACD,WAAO,IAAP;AACD;;AAED,WAASowB,QAAT,CAAkB9B,aAAlB,EAAiC;AAC/B,QAAIA,aAAa,KAAK,IAAlB,IAA0B,QAAOA,aAAP,MAAyB,QAAvD,EAAiE;AAC/D,aAAO,KAAP;AACD;;AAH8B,QAIxB+B,IAJwB,GAIhB/B,aAJgB,CAIxB+B,IAJwB;AAK/B,QAAMnsB,cAAc,GAAGhG,MAAM,CAACyH,SAAP,CAAiBzB,cAAjB,CAAgCosB,IAAhC,CAAqChC,aAArC,CAAvB;AACA,WACEpqB,cAAc,CAAC,QAAD,CAAd,IACAA,cAAc,CAAC,SAAD,CADd,IAEAA,cAAc,CAAC,MAAD,CAFd,IAGAA,cAAc,CAAC,MAAD,CAHd,IAIAA,cAAc,CAAC,KAAD,CAJd,KAKCmsB,IAAI,KAAK,IAAT,IAAiB7rB,kCAAO,CAAC6rB,IAAD,CALzB,CADF;AAQD;;AAED,WAASE,aAAT,CAAuB9sB,IAAvB,EAAkCC,IAAlC,EAAsD;AACpD,QAAM8sB,iBAAiB,GAAG/sB,IAAI,CAAC6qB,aAA/B;AACA,QAAMmC,iBAAiB,GAAG/sB,IAAI,CAAC4qB,aAA/B;;AAEA,QAAI8B,QAAQ,CAACI,iBAAD,CAAR,IAA+BJ,QAAQ,CAACK,iBAAD,CAA3C,EAAgE;AAC9D,aACED,iBAAiB,KAAKC,iBAAtB,IACA,CAACR,kBAAkB,CAACQ,iBAAiB,CAACJ,IAAnB,EAAyBG,iBAAiB,CAACH,IAA3C,CAFrB;AAID;;AACD,WAAOI,iBAAiB,KAAKD,iBAA7B;AACD;;AAED,WAASxC,cAAT,CAAwBvqB,IAAxB,EAAmCC,IAAnC,EAAuD;AACrD,QAAID,IAAI,IAAI,IAAR,IAAgBC,IAAI,IAAI,IAA5B,EAAkC;AAChC,aAAO,KAAP;AACD,KAHoD,CAKrD;;;AACA,QACEA,IAAI,CAACQ,cAAL,CAAoB,WAApB,KACAR,IAAI,CAACQ,cAAL,CAAoB,eAApB,CADA,IAEAR,IAAI,CAACQ,cAAL,CAAoB,MAApB,CAFA,IAGAR,IAAI,CAACQ,cAAL,CAAoB,OAApB,CAJF,EAKE;AACA,aAAOR,IAAI,KAAK,IAAhB,EAAsB;AACpB,YAAI6sB,aAAa,CAAC9sB,IAAD,EAAOC,IAAP,CAAjB,EAA+B;AAC7B,iBAAO,IAAP;AACD,SAFD,MAEO;AACLA,cAAI,GAAGA,IAAI,CAACA,IAAZ;AACAD,cAAI,GAAGA,IAAI,CAACC,IAAZ;AACD;AACF;AACF;;AAED,WAAO,KAAP;AACD;;AAED,WAAS8qB,sBAAT,CAAgC/qB,IAAhC,EAA2CC,IAA3C,EAA4E;AAC1E,QAAI4O,yEAAJ,EAAsC;AACpC,UAAI7O,IAAI,IAAI,IAAR,IAAgBC,IAAI,IAAI,IAA5B,EAAkC;AAChC,eAAO,IAAP;AACD;;AAED,UAAM6qB,OAAO,GAAG,EAAhB;AACA,UAAItjB,KAAK,GAAG,CAAZ;;AACA,UACEvH,IAAI,CAACQ,cAAL,CAAoB,WAApB,KACAR,IAAI,CAACQ,cAAL,CAAoB,eAApB,CADA,IAEAR,IAAI,CAACQ,cAAL,CAAoB,MAApB,CAFA,IAGAR,IAAI,CAACQ,cAAL,CAAoB,OAApB,CAJF,EAKE;AACA,eAAOR,IAAI,KAAK,IAAhB,EAAsB;AACpB,cAAI6sB,aAAa,CAAC9sB,IAAD,EAAOC,IAAP,CAAjB,EAA+B;AAC7B6qB,mBAAO,CAAC1tB,IAAR,CAAaoK,KAAb;AACD;;AACDvH,cAAI,GAAGA,IAAI,CAACA,IAAZ;AACAD,cAAI,GAAGA,IAAI,CAACC,IAAZ;AACAuH,eAAK;AACN;AACF;;AAED,aAAOsjB,OAAP;AACD;;AAED,WAAO,IAAP;AACD;;AAED,WAASF,cAAT,CAAwB5qB,IAAxB,EAAmCC,IAAnC,EAAoE;AAClE,QAAID,IAAI,IAAI,IAAR,IAAgBC,IAAI,IAAI,IAA5B,EAAkC;AAChC,aAAO,IAAP;AACD,KAHiE,CAKlE;;;AACA,QACEA,IAAI,CAACQ,cAAL,CAAoB,WAApB,KACAR,IAAI,CAACQ,cAAL,CAAoB,eAApB,CADA,IAEAR,IAAI,CAACQ,cAAL,CAAoB,MAApB,CAFA,IAGAR,IAAI,CAACQ,cAAL,CAAoB,OAApB,CAJF,EAKE;AACA,aAAO,IAAP;AACD;;AAED,QAAMpG,IAAI,GAAG,IAAIC,GAAJ,8BAAYG,MAAM,CAACJ,IAAP,CAAY2F,IAAZ,CAAZ,sBAAkCvF,MAAM,CAACJ,IAAP,CAAY4F,IAAZ,CAAlC,GAAb;AACA,QAAMgtB,WAAW,GAAG,EAApB,CAhBkE,CAiBlE;;AAjBkE,gDAkBhD5yB,IAlBgD;AAAA;;AAAA;AAkBlE,6DAAwB;AAAA,YAAbS,GAAa;;AACtB,YAAIkF,IAAI,CAAClF,GAAD,CAAJ,KAAcmF,IAAI,CAACnF,GAAD,CAAtB,EAA6B;AAC3BmyB,qBAAW,CAAC7vB,IAAZ,CAAiBtC,GAAjB;AACD;AACF;AAtBiE;AAAA;AAAA;AAAA;AAAA;;AAwBlE,WAAOmyB,WAAP;AACD,GAx8BkB,CA08BnB;;;AACA,WAASC,cAAT,CAAwB7C,SAAxB,EAA0CC,SAA1C,EAAqE;AACnE,YAAQA,SAAS,CAACxG,GAAlB;AACE,WAAK5B,cAAL;AACA,WAAKI,iBAAL;AACA,WAAK/f,eAAL;AACA,WAAKwgB,aAAL;AACA,WAAKI,mBAAL;AACE;AACA;AACA;AACA,eAAO,CAACrC,aAAa,CAACwJ,SAAD,CAAb,GAA2B/I,aAA5B,MAA+CA,aAAtD;AACF;AACA;;AACA;AACE;AACA;AACA,eACE8I,SAAS,CAAClG,aAAV,KAA4BmG,SAAS,CAACnG,aAAtC,IACAkG,SAAS,CAACQ,aAAV,KAA4BP,SAAS,CAACO,aADtC,IAEAR,SAAS,CAAC8C,GAAV,KAAkB7C,SAAS,CAAC6C,GAH9B;AAfJ;AAqBD;;AAID,MAAMC,iBAAkC,GAAG,EAA3C;AACA,MAAMC,uBAAsC,GAAG,EAA/C;AACA,MAAMC,4BAA2C,GAAG,EAApD;AACA,MAAIC,sBAAqD,GAAG,EAA5D;AACA,MAAMC,kBAAuC,GAAG,IAAIvhB,GAAJ,EAAhD;AACA,MAAIwhB,wBAAgC,GAAG,CAAvC;AACA,MAAIC,sBAAqC,GAAG,IAA5C;;AAEA,WAAS9E,aAAT,CAAuB3R,EAAvB,EAAyC;AACvC,QAAI0W,KAAJ,EAAa,EAOZ;;AACDP,qBAAiB,CAAChwB,IAAlB,CAAuB6Z,EAAvB;AACD;;AAED,WAAS2W,sBAAT,CAAgClxB,UAAhC,EAAmE;AACjE,QAAI6wB,sBAAsB,KAAK,IAA/B,EAAqC;AACnCA,4BAAsB,CAACnwB,IAAvB,CAA4BV,UAA5B;AACD,KAFD,MAEO;AACL2nB,UAAI,CAACc,IAAL,CAAU,YAAV,EAAwBzoB,UAAxB;AACD;AACF;;AAED,MAAImxB,gDAAgD,GAAG,IAAvD;;AAEA,WAASC,uCAAT,GAAmD;AACjD,QAAID,gDAAgD,KAAK,IAAzD,EAA+D;AAC7D5N,kBAAY,CAAC4N,gDAAD,CAAZ;AACAA,sDAAgD,GAAG,IAAnD;AACD;AACF;;AAED,WAAS/G,uCAAT,GAAmD;AACjDgH,2CAAuC;AAEvCD,oDAAgD,GAAGrf,UAAU,CAAC,YAAM;AAClEqf,sDAAgD,GAAG,IAAnD;;AAEA,UAAIT,iBAAiB,CAAC9wB,MAAlB,GAA2B,CAA/B,EAAkC;AAChC;AACA;AACA;AACD;;AAEDyxB,oCAA8B;;AAE9B,UAAIX,iBAAiB,CAAC9wB,MAAlB,KAA6B,CAAjC,EAAoC;AAClC;AACA;AACD,OAdiE,CAgBlE;AACA;AACA;;;AACA,UAAMI,UAA2B,GAAG,IAAIL,KAAJ,CAClC,IAAI+wB,iBAAiB,CAAC9wB,MADY,CAApC;AAGAI,gBAAU,CAAC,CAAD,CAAV,GAAgBC,UAAhB;AACAD,gBAAU,CAAC,CAAD,CAAV,GAAgBgsB,aAAhB;AACAhsB,gBAAU,CAAC,CAAD,CAAV,GAAgB,CAAhB,CAxBkE,CAwB/C;;AACnB,WAAK,IAAIsxB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGZ,iBAAiB,CAAC9wB,MAAtC,EAA8C0xB,CAAC,EAA/C,EAAmD;AACjDtxB,kBAAU,CAAC,IAAIsxB,CAAL,CAAV,GAAoBZ,iBAAiB,CAACY,CAAD,CAArC;AACD;;AAEDJ,4BAAsB,CAAClxB,UAAD,CAAtB;AAEA0wB,uBAAiB,CAAC9wB,MAAlB,GAA2B,CAA3B;AACD,KAhC4D,EAgC1D,IAhC0D,CAA7D;AAiCD;;AAED,WAAS0sB,2BAAT,GAAuC;AACrC5D,yCAAqC,CAACQ,KAAtC;AACAL,sBAAkB,CAAC1qB,OAAnB,CAA2B,UAACozB,QAAD,EAAWlI,OAAX,EAAuB;AAChD,UAAMhF,KAAK,GAAG2E,qBAAqB,CAACpqB,GAAtB,CAA0ByqB,OAA1B,CAAd;;AACA,UAAIhF,KAAK,IAAI,IAAb,EAAmB;AACjBqE,6CAAqC,CAACpqB,GAAtC,CAA0C+lB,KAA1C;AACD;AACF,KALD;AAMAyE,wBAAoB,CAAC3qB,OAArB,CAA6B,UAACozB,QAAD,EAAWlI,OAAX,EAAuB;AAClD,UAAMhF,KAAK,GAAG2E,qBAAqB,CAACpqB,GAAtB,CAA0ByqB,OAA1B,CAAd;;AACA,UAAIhF,KAAK,IAAI,IAAb,EAAmB;AACjBqE,6CAAqC,CAACpqB,GAAtC,CAA0C+lB,KAA1C;AACD;AACF,KALD;AAMAgN,kCAA8B;AAC/B;;AAED,WAASG,0BAAT,CACEnN,KADF,EAEEgF,OAFF,EAGEC,6BAHF,EAIEC,wBAJF,EAKU;AACR,QAAIkI,QAAQ,GAAG,CAAf;AAEA,QAAIC,eAAe,GAAGnI,wBAAwB,CAAC3qB,GAAzB,CAA6ByqB,OAA7B,CAAtB;AAEA,QAAMsI,sBAAsB,GAAGrI,6BAA6B,CAAC1qB,GAA9B,CAAkCylB,KAAlC,CAA/B;;AACA,QAAIsN,sBAAsB,IAAI,IAA9B,EAAoC;AAClC,UAAID,eAAe,IAAI,IAAvB,EAA6B;AAC3BA,uBAAe,GAAGC,sBAAlB;AAEApI,gCAAwB,CAACxqB,GAAzB,CAA6BsqB,OAA7B,EAAsCsI,sBAAtC;AACD,OAJD,MAIO;AACL;AACA,YAAMC,sBAAsB,GAAKF,eAAjC;AAKAC,8BAAsB,CAACxzB,OAAvB,CAA+B,UAAC0zB,YAAD,EAAe7H,OAAf,EAA2B;AACxD,cAAM8H,aAAa,GAAGF,sBAAsB,CAAChzB,GAAvB,CAA2BorB,OAA3B,KAAuC,CAA7D;AACA4H,gCAAsB,CAAC7yB,GAAvB,CAA2BirB,OAA3B,EAAoC8H,aAAa,GAAGD,YAApD;AACD,SAHD;AAID;AACF;;AAED,QAAI,CAACtF,iBAAiB,CAAClI,KAAD,CAAtB,EAA+B;AAC7B,UAAIqN,eAAe,IAAI,IAAvB,EAA6B;AAC3BA,uBAAe,CAACvzB,OAAhB,CAAwB,UAAAgsB,KAAK,EAAI;AAC/BsH,kBAAQ,IAAItH,KAAZ;AACD,SAFD;AAGD;AACF;;AAEDb,iCAA6B,CAACE,MAA9B,CAAqCnF,KAArC;AAEA,WAAOoN,QAAP;AACD;;AAED,WAASJ,8BAAT,GAA0C;AACxCD,2CAAuC;AAEvC1I,yCAAqC,CAACvqB,OAAtC,CAA8C,UAAAkmB,KAAK,EAAI;AACrD,UAAMgF,OAAO,GAAGS,gBAAgB,CAACzF,KAAD,CAAhC;;AACA,UAAIgF,OAAO,KAAK,IAAhB,EAAsB,CACpB;AACD,OAFD,MAEO;AACL,YAAM0I,UAAU,GAAGP,0BAA0B,CAC3CnN,KAD2C,EAE3CgF,OAF2C,EAG3CV,uBAH2C,EAI3CE,kBAJ2C,CAA7C;AAMA,YAAMmJ,YAAY,GAAGR,0BAA0B,CAC7CnN,KAD6C,EAE7CgF,OAF6C,EAG7CT,yBAH6C,EAI7CE,oBAJ6C,CAA/C;AAOAoD,qBAAa,CAACpzB,6DAAD,CAAb;AACAozB,qBAAa,CAAC7C,OAAD,CAAb;AACA6C,qBAAa,CAAC6F,UAAD,CAAb;AACA7F,qBAAa,CAAC8F,YAAD,CAAb;AACD,OAtBoD,CAwBrD;;;AACArJ,6BAAuB,CAACa,MAAxB,CAA+BnF,KAA/B;AACAuE,+BAAyB,CAACY,MAA1B,CAAiCnF,KAAjC;AACD,KA3BD;AA4BAqE,yCAAqC,CAACQ,KAAtC;AACD;;AAED,WAASC,kBAAT,CAA4B9d,IAA5B,EAAgD;AAC9C;AACA;AACAgmB,kCAA8B;;AAE9B,QACEX,iBAAiB,CAAC9wB,MAAlB,KAA6B,CAA7B,IACA+wB,uBAAuB,CAAC/wB,MAAxB,KAAmC,CADnC,IAEAgxB,4BAA4B,CAAChxB,MAA7B,KAAwC,CAFxC,IAGAoxB,sBAAsB,KAAK,IAJ7B,EAKE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAI,CAAClF,WAAL,EAAkB;AAChB;AACD;AACF;;AAED,QAAMmG,aAAa,GACjBtB,uBAAuB,CAAC/wB,MAAxB,GACAgxB,4BAA4B,CAAChxB,MAD7B,IAECoxB,sBAAsB,KAAK,IAA3B,GAAkC,CAAlC,GAAsC,CAFvC,CADF;AAKA,QAAMhxB,UAAU,GAAG,IAAIL,KAAJ,EACjB;AACA,QAAI;AACJ;AACA,KAFA,GAEI;AACF;AACAoxB,4BAJF,KAKE;AACA;AACCkB,iBAAa,GAAG,CAAhB,GAAoB,IAAIA,aAAxB,GAAwC,CAP3C,IAQE;AACAvB,qBAAiB,CAAC9wB,MAXH,CAAnB,CA7B8C,CA2C9C;AACA;AACA;;AACA,QAAIC,CAAC,GAAG,CAAR;AACAG,cAAU,CAACH,CAAC,EAAF,CAAV,GAAkBI,UAAlB;AACAD,cAAU,CAACH,CAAC,EAAF,CAAV,GAAkBmsB,aAAlB,CAhD8C,CAkD9C;AACA;;AACAhsB,cAAU,CAACH,CAAC,EAAF,CAAV,GAAkBkxB,wBAAlB;AACAD,sBAAkB,CAAC3yB,OAAnB,CAA2B,UAACuD,KAAD,EAAQtD,GAAR,EAAgB;AACzC4B,gBAAU,CAACH,CAAC,EAAF,CAAV,GAAkBzB,GAAG,CAACwB,MAAtB;AACA,UAAMsyB,UAAU,GAAG5yB,wCAAe,CAAClB,GAAD,CAAlC;;AACA,WAAK,IAAIkzB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGY,UAAU,CAACtyB,MAA/B,EAAuC0xB,CAAC,EAAxC,EAA4C;AAC1CtxB,kBAAU,CAACH,CAAC,GAAGyxB,CAAL,CAAV,GAAoBY,UAAU,CAACZ,CAAD,CAA9B;AACD;;AACDzxB,OAAC,IAAIzB,GAAG,CAACwB,MAAT;AACD,KAPD;;AASA,QAAIqyB,aAAa,GAAG,CAApB,EAAuB;AACrB;AACAjyB,gBAAU,CAACH,CAAC,EAAF,CAAV,GAAkBlH,0CAAlB,CAFqB,CAGrB;;AACAqH,gBAAU,CAACH,CAAC,EAAF,CAAV,GAAkBoyB,aAAlB,CAJqB,CAKrB;AACA;AACA;;AACA,WAAK,IAAIX,CAAC,GAAGX,uBAAuB,CAAC/wB,MAAxB,GAAiC,CAA9C,EAAiD0xB,CAAC,IAAI,CAAtD,EAAyDA,CAAC,EAA1D,EAA8D;AAC5DtxB,kBAAU,CAACH,CAAC,EAAF,CAAV,GAAkB8wB,uBAAuB,CAACW,CAAD,CAAzC;AACD,OAVoB,CAWrB;AACA;AACA;AACA;AACA;;;AACA,WAAK,IAAIA,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGV,4BAA4B,CAAChxB,MAAjD,EAAyD0xB,EAAC,EAA1D,EAA8D;AAC5DtxB,kBAAU,CAACH,CAAC,GAAGyxB,EAAL,CAAV,GAAoBV,4BAA4B,CAACU,EAAD,CAAhD;AACD;;AACDzxB,OAAC,IAAI+wB,4BAA4B,CAAChxB,MAAlC,CAnBqB,CAoBrB;;AACA,UAAIoxB,sBAAsB,KAAK,IAA/B,EAAqC;AACnChxB,kBAAU,CAACH,CAAD,CAAV,GAAgBmxB,sBAAhB;AACAnxB,SAAC;AACF;AACF,KAvF6C,CAwF9C;;;AACA,SAAK,IAAIyxB,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGZ,iBAAiB,CAAC9wB,MAAtC,EAA8C0xB,GAAC,EAA/C,EAAmD;AACjDtxB,gBAAU,CAACH,CAAC,GAAGyxB,GAAL,CAAV,GAAoBZ,iBAAiB,CAACY,GAAD,CAArC;AACD;;AACDzxB,KAAC,IAAI6wB,iBAAiB,CAAC9wB,MAAvB,CA5F8C,CA8F9C;;AACAsxB,0BAAsB,CAAClxB,UAAD,CAAtB,CA/F8C,CAiG9C;;AACA0wB,qBAAiB,CAAC9wB,MAAlB,GAA2B,CAA3B;AACA+wB,2BAAuB,CAAC/wB,MAAxB,GAAiC,CAAjC;AACAgxB,gCAA4B,CAAChxB,MAA7B,GAAsC,CAAtC;AACAoxB,0BAAsB,GAAG,IAAzB;AACAF,sBAAkB,CAAC5H,KAAnB;AACA6H,4BAAwB,GAAG,CAA3B;AACD;;AAED,WAASoB,WAAT,CAAqBC,GAArB,EAAiD;AAC/C,QAAIA,GAAG,KAAK,IAAZ,EAAkB;AAChB,aAAO,CAAP;AACD;;AACD,QAAMC,UAAU,GAAGvB,kBAAkB,CAAClyB,GAAnB,CAAuBwzB,GAAvB,CAAnB;;AACA,QAAIC,UAAU,KAAK5yB,SAAnB,EAA8B;AAC5B,aAAO4yB,UAAP;AACD;;AACD,QAAMC,QAAQ,GAAGxB,kBAAkB,CAACzpB,IAAnB,GAA0B,CAA3C;AACAypB,sBAAkB,CAAC/xB,GAAnB,CAAuBqzB,GAAvB,EAA4BE,QAA5B,EAT+C,CAU/C;AACA;AACA;;AACAvB,4BAAwB,IAAIqB,GAAG,CAACxyB,MAAJ,GAAa,CAAzC;AACA,WAAO0yB,QAAP;AACD;;AAED,WAASC,WAAT,CAAqBlO,KAArB,EAAmCuG,WAAnC,EAA8D;AAC5D,QAAM4H,MAAM,GAAGnO,KAAK,CAAC+C,GAAN,KAAcrB,QAA7B;AACA,QAAMnlB,EAAE,GAAGqrB,oBAAoB,CAAC5H,KAAD,CAA/B;;AAEA,QAAI7rB,8BAAJ,EAAe;AACbub,WAAK,CAAC,eAAD,EAAkBsQ,KAAlB,EAAyBuG,WAAzB,CAAL;AACD;;AAED,QAAM6H,gBAAgB,GAAGpO,KAAK,CAACtgB,cAAN,CAAqB,aAArB,CAAzB;AACA,QAAM2uB,oBAAoB,GAAGrO,KAAK,CAACtgB,cAAN,CAAqB,kBAArB,CAA7B;;AAEA,QAAIyuB,MAAJ,EAAY;AACVtG,mBAAa,CAACxzB,uCAAD,CAAb;AACAwzB,mBAAa,CAACtrB,EAAD,CAAb;AACAsrB,mBAAa,CAACpxB,gCAAD,CAAb;AACAoxB,mBAAa,CAACwG,oBAAoB,GAAG,CAAH,GAAO,CAA5B,CAAb;AACAxG,mBAAa,CAACuG,gBAAgB,GAAG,CAAH,GAAO,CAAxB,CAAb;;AAEA,UAAI3G,WAAJ,EAAiB;AACf,YAAI6G,oBAAoB,KAAK,IAA7B,EAAmC;AACjCA,8BAAoB,CAAC5zB,GAArB,CAAyB6B,EAAzB,EAA6BgyB,qBAAqB,CAACvO,KAAD,CAAlD;AACD;AACF;AACF,KAZD,MAYO;AAAA,UACEjmB,GADF,GACSimB,KADT,CACEjmB,GADF;AAEL,UAAMS,WAAW,GAAGsoB,sBAAsB,CAAC9C,KAAD,CAA1C;AACA,UAAM1e,WAAW,GAAG8mB,sBAAsB,CAACpI,KAAD,CAA1C;AAHK,UAIEwO,WAJF,GAIiBxO,KAJjB,CAIEwO,WAJF,EAML;AACA;AACA;AACA;AACA;;AACA,UAAMC,OAAO,GACXD,WAAW,IAAI,IAAf,GAAsB5G,oBAAoB,CAAC4G,WAAD,CAA1C,GAA0D,CAD5D;AAEA,UAAMhyB,QAAQ,GAAG+pB,WAAW,GAAGwC,gBAAgB,CAACxC,WAAD,CAAnB,GAAmC,CAA/D;AAEA,UAAM9pB,mBAAmB,GAAGqxB,WAAW,CAACtzB,WAAD,CAAvC,CAfK,CAiBL;AACA;;AACA,UAAMk0B,SAAS,GAAG30B,GAAG,KAAK,IAAR,GAAe,IAAf,GAAsB,KAAKA,GAA7C;AACA,UAAM40B,WAAW,GAAGb,WAAW,CAACY,SAAD,CAA/B;AAEA7G,mBAAa,CAACxzB,uCAAD,CAAb;AACAwzB,mBAAa,CAACtrB,EAAD,CAAb;AACAsrB,mBAAa,CAACvmB,WAAD,CAAb;AACAumB,mBAAa,CAACrrB,QAAD,CAAb;AACAqrB,mBAAa,CAAC4G,OAAD,CAAb;AACA5G,mBAAa,CAACprB,mBAAD,CAAb;AACAorB,mBAAa,CAAC8G,WAAD,CAAb;AACD;;AAED,QAAIN,oBAAJ,EAA0B;AACxB3F,iBAAW,CAAChuB,GAAZ,CAAgB6B,EAAhB,EAAoBorB,aAApB;AAEAiH,8BAAwB,CAAC5O,KAAD,CAAxB;AACD;AACF;;AAED,WAAS6O,aAAT,CAAuB7O,KAAvB,EAAqC8O,WAArC,EAA2D;AACzD,QAAI36B,8BAAJ,EAAe;AACbub,WAAK,CACH,iBADG,EAEHsQ,KAFG,EAGH,IAHG,EAIH8O,WAAW,GAAG,sBAAH,GAA4B,EAJpC,CAAL;AAMD;;AAED,QAAIC,qBAAqB,KAAK,IAA9B,EAAoC;AAClC;AACA;AACA;AACA,UACE/O,KAAK,KAAK+O,qBAAV,IACA/O,KAAK,KAAK+O,qBAAqB,CAACpG,SAFlC,EAGE;AACAqG,sBAAc,CAAC,IAAD,CAAd;AACD;AACF;;AAED,QAAMC,QAAQ,GAAGxJ,gBAAgB,CAACzF,KAAD,CAAjC;;AACA,QAAIiP,QAAQ,KAAK,IAAjB,EAAuB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,KAhCwD,CAkCzD;;;AACA,QAAM1yB,EAAE,GAAK0yB,QAAb;AACA,QAAMd,MAAM,GAAGnO,KAAK,CAAC+C,GAAN,KAAcrB,QAA7B;;AACA,QAAIyM,MAAJ,EAAY;AACV;AACA;AACAxB,4BAAsB,GAAGpwB,EAAzB;AACD,KAJD,MAIO,IAAI,CAAC2rB,iBAAiB,CAAClI,KAAD,CAAtB,EAA+B;AACpC;AACA;AACA;AACA,UAAI8O,WAAJ,EAAiB;AACfvC,oCAA4B,CAAClwB,IAA7B,CAAkCE,EAAlC;AACD,OAFD,MAEO;AACL+vB,+BAAuB,CAACjwB,IAAxB,CAA6BE,EAA7B;AACD;AACF;;AAED,QAAI,CAACyjB,KAAK,CAACkP,kBAAX,EAA+B;AAC7BlG,oBAAc,CAAChJ,KAAD,CAAd;AAEA,UAAMqO,oBAAoB,GAAGrO,KAAK,CAACtgB,cAAN,CAAqB,kBAArB,CAA7B;;AACA,UAAI2uB,oBAAJ,EAA0B;AACxB3F,mBAAW,CAACvD,MAAZ,CAAmB5oB,EAAnB;AACAksB,+BAAuB,CAACtD,MAAxB,CAA+B5oB,EAA/B;AACD;AACF;AACF;;AAED,WAASyrB,qBAAT,CACEmH,UADF,EAEE5I,WAFF,EAGE6I,gBAHF,EAIEC,+BAJF,EAKE;AACA;AACA;AACA,QAAIrP,KAAmB,GAAGmP,UAA1B;;AACA,WAAOnP,KAAK,KAAK,IAAjB,EAAuB;AACrB;AACA4H,0BAAoB,CAAC5H,KAAD,CAApB;;AAEA,UAAI7rB,8BAAJ,EAAe;AACbub,aAAK,CAAC,yBAAD,EAA4BsQ,KAA5B,EAAmCuG,WAAnC,CAAL;AACD,OANoB,CAQrB;AACA;;;AACA,UAAM+I,4BAA4B,GAAGC,iCAAiC,CACpEvP,KADoE,CAAtE;AAIA,UAAMwP,mBAAmB,GAAG,CAACtH,iBAAiB,CAAClI,KAAD,CAA9C;;AACA,UAAIwP,mBAAJ,EAAyB;AACvBtB,mBAAW,CAAClO,KAAD,EAAQuG,WAAR,CAAX;AACD;;AAED,UAAIU,mBAAJ,EAAyB;AACvB,YAAIoI,+BAAJ,EAAqC;AACnC,cAAM/tB,WAAW,GAAG8mB,sBAAsB,CAACpI,KAAD,CAA1C,CADmC,CAEnC;;AACA,cAAI1e,WAAW,KAAKjL,yCAApB,EAA8C;AAC5C6wB,gCAAoB,CAACjtB,GAArB,CAAyB+lB,KAAK,CAAC5Y,SAA/B;AACAioB,2CAA+B,GAAG,KAAlC;AACD;AACF,SARsB,CAUvB;AACA;;AACD;;AAED,UAAMI,UAAU,GAAGzP,KAAK,CAAC+C,GAAN,KAAc3W,eAAe,CAACiW,iBAAjD;;AACA,UAAIoN,UAAJ,EAAgB;AACd,YAAMC,UAAU,GAAG1P,KAAK,CAAC8J,aAAN,KAAwB,IAA3C;;AACA,YAAI4F,UAAJ,EAAgB;AACd;AACA;AACA;AACA,cAAMC,oBAAoB,GAAG3P,KAAK,CAAC8K,KAAnC;AACA,cAAM8E,qBAAqB,GAAGD,oBAAoB,GAC9CA,oBAAoB,CAAC5E,OADyB,GAE9C,IAFJ;AAGA,cAAM8E,aAAa,GAAGD,qBAAqB,GACvCA,qBAAqB,CAAC9E,KADiB,GAEvC,IAFJ;;AAGA,cAAI+E,aAAa,KAAK,IAAtB,EAA4B;AAC1B7H,iCAAqB,CACnB6H,aADmB,EAEnBL,mBAAmB,GAAGxP,KAAH,GAAWuG,WAFX,EAGnB,IAHmB,EAInB8I,+BAJmB,CAArB;AAMD;AACF,SAnBD,MAmBO;AACL,cAAIS,YAA0B,GAAG,IAAjC;AACA,cAAMC,uCAAuC,GAC3C7N,kBAAkB,KAAK,CAAC,CAD1B;;AAEA,cAAI6N,uCAAJ,EAA6C;AAC3CD,wBAAY,GAAG9P,KAAK,CAAC8K,KAArB;AACD,WAFD,MAEO,IAAI9K,KAAK,CAAC8K,KAAN,KAAgB,IAApB,EAA0B;AAC/BgF,wBAAY,GAAG9P,KAAK,CAAC8K,KAAN,CAAYA,KAA3B;AACD;;AACD,cAAIgF,YAAY,KAAK,IAArB,EAA2B;AACzB9H,iCAAqB,CACnB8H,YADmB,EAEnBN,mBAAmB,GAAGxP,KAAH,GAAWuG,WAFX,EAGnB,IAHmB,EAInB8I,+BAJmB,CAArB;AAMD;AACF;AACF,OAvCD,MAuCO;AACL,YAAIrP,KAAK,CAAC8K,KAAN,KAAgB,IAApB,EAA0B;AACxB9C,+BAAqB,CACnBhI,KAAK,CAAC8K,KADa,EAEnB0E,mBAAmB,GAAGxP,KAAH,GAAWuG,WAFX,EAGnB,IAHmB,EAInB8I,+BAJmB,CAArB;AAMD;AACF,OAlFoB,CAoFrB;AACA;;;AACAW,sCAAgC,CAACV,4BAAD,CAAhC;AAEAtP,WAAK,GAAGoP,gBAAgB,GAAGpP,KAAK,CAAC+K,OAAT,GAAmB,IAA3C;AACD;AACF,GAx+CkB,CA0+CnB;AACA;;;AACA,WAASkF,+BAAT,CAAyCjQ,KAAzC,EAAuD;AACrD,QAAI7rB,8BAAJ,EAAe;AACbub,WAAK,CAAC,mCAAD,EAAsCsQ,KAAtC,CAAL;AACD,KAHoD,CAKrD;;;AACA,QAAMkQ,kBAAkB,GACtBlQ,KAAK,CAAC+C,GAAN,KAAc3W,eAAe,CAACiW,iBAA9B,IACArC,KAAK,CAAC8J,aAAN,KAAwB,IAF1B;AAIA,QAAIgB,KAAK,GAAG9K,KAAK,CAAC8K,KAAlB;;AACA,QAAIoF,kBAAJ,EAAwB;AACtB;AACA,UAAMP,oBAAoB,GAAG3P,KAAK,CAAC8K,KAAnC;AACA,UAAM8E,qBAAqB,GAAGD,oBAAoB,GAC9CA,oBAAoB,CAAC5E,OADyB,GAE9C,IAFJ,CAHsB,CAMtB;;AACAD,WAAK,GAAG8E,qBAAqB,GAAGA,qBAAqB,CAAC9E,KAAzB,GAAiC,IAA9D;AACD;;AAED,WAAOA,KAAK,KAAK,IAAjB,EAAuB;AACrB;AACA;AACA,UAAIA,KAAK,CAAChC,MAAN,KAAiB,IAArB,EAA2B;AACzBmH,uCAA+B,CAACnF,KAAD,CAA/B;AACA+D,qBAAa,CAAC/D,KAAD,EAAQ,IAAR,CAAb;AACD;;AACDA,WAAK,GAAGA,KAAK,CAACC,OAAd;AACD;AACF;;AAED,WAAS6D,wBAAT,CAAkC5O,KAAlC,EAAgD;AAC9C,QAAMzjB,EAAE,GAAGwsB,gBAAgB,CAAC/I,KAAD,CAA3B;AAD8C,QAEvCmQ,cAFuC,GAEHnQ,KAFG,CAEvCmQ,cAFuC;AAAA,QAEvBC,gBAFuB,GAEHpQ,KAFG,CAEvBoQ,gBAFuB;AAI9C3H,2BAAuB,CAAC/tB,GAAxB,CAA4B6B,EAA5B,EAAgC6zB,gBAAgB,IAAI,CAApD;;AAEA,QAAI3I,WAAJ,EAAiB;AAAA,UACRkB,SADQ,GACK3I,KADL,CACR2I,SADQ,EAGf;AACA;;AACA,UACEA,SAAS,IAAI,IAAb,IACAyH,gBAAgB,KAAKzH,SAAS,CAACyH,gBAFjC,EAGE;AACA;AACA;AACA,YAAMC,yBAAyB,GAAGhT,IAAI,CAACiT,KAAL,CAChC,CAACF,gBAAgB,IAAI,CAArB,IAA0B,IADM,CAAlC;AAGAvI,qBAAa,CAACrzB,6DAAD,CAAb;AACAqzB,qBAAa,CAACtrB,EAAD,CAAb;AACAsrB,qBAAa,CAACwI,yBAAD,CAAb;AACD;;AAED,UAAI1H,SAAS,IAAI,IAAb,IAAqBwD,cAAc,CAACxD,SAAD,EAAY3I,KAAZ,CAAvC,EAA2D;AACzD,YAAImQ,cAAc,IAAI,IAAtB,EAA4B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,cAAII,YAAY,GAAGJ,cAAnB;AACA,cAAIrF,KAAK,GAAG9K,KAAK,CAAC8K,KAAlB;;AACA,iBAAOA,KAAK,KAAK,IAAjB,EAAuB;AACrByF,wBAAY,IAAIzF,KAAK,CAACqF,cAAN,IAAwB,CAAxC;AACArF,iBAAK,GAAGA,KAAK,CAACC,OAAd;AACD,WAZyB,CAc1B;AACA;AACA;AACA;;;AACA,cAAMyF,QAAQ,GAAKC,8BAAnB;AACAD,kBAAQ,CAACE,SAAT,CAAmBr0B,IAAnB,CAAwBE,EAAxB,EAA4B4zB,cAA5B,EAA4CI,YAA5C;AACAC,kBAAQ,CAACG,iBAAT,GAA6BtT,IAAI,CAACtkB,GAAL,CAC3By3B,QAAQ,CAACG,iBADkB,EAE3BR,cAF2B,CAA7B;;AAKA,cAAIS,wBAAJ,EAA8B;AAC5B,gBAAMC,iBAAiB,GAAGxH,oBAAoB,CAACV,SAAD,EAAY3I,KAAZ,CAA9C;;AACA,gBAAI6Q,iBAAiB,KAAK,IAA1B,EAAgC;AAC9B,kBAAIL,QAAQ,CAACM,kBAAT,KAAgC,IAApC,EAA0C;AACxCN,wBAAQ,CAACM,kBAAT,CAA4Bp2B,GAA5B,CAAgC6B,EAAhC,EAAoCs0B,iBAApC;AACD;AACF;;AAED3G,kCAAsB,CAAClK,KAAD,CAAtB;AACD;AACF;AACF;AACF;AACF;;AAED,WAAS+Q,mBAAT,CAA6B/Q,KAA7B,EAA2CgR,QAA3C,EAA4D;AAC1D,QAAI78B,8BAAJ,EAAe;AACbub,WAAK,CAAC,uBAAD,EAA0BshB,QAA1B,EAAoChR,KAApC,CAAL;AACD,KAHyD,CAI1D;AACA;AACA;;;AACA,QAAMiR,YAA2B,GAAG,EAApC,CAP0D,CAS1D;AACA;;AACA,QAAInG,KAAK,GAAGkG,QAAZ;;AACA,WAAOlG,KAAK,KAAK,IAAjB,EAAuB;AACrBoG,sCAAgC,CAACpG,KAAD,EAAQmG,YAAR,CAAhC;AACAnG,WAAK,GAAGA,KAAK,CAACC,OAAd;AACD;;AAED,QAAMnuB,WAAW,GAAGq0B,YAAY,CAAC11B,MAAjC;;AACA,QAAIqB,WAAW,GAAG,CAAlB,EAAqB;AACnB;AACA;AACD;;AACDirB,iBAAa,CAACtzB,oDAAD,CAAb;AACAszB,iBAAa,CAACkB,gBAAgB,CAAC/I,KAAD,CAAjB,CAAb;AACA6H,iBAAa,CAACjrB,WAAD,CAAb;;AACA,SAAK,IAAIpB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGy1B,YAAY,CAAC11B,MAAjC,EAAyCC,CAAC,EAA1C,EAA8C;AAC5CqsB,mBAAa,CAACoJ,YAAY,CAACz1B,CAAD,CAAb,CAAb;AACD;AACF;;AAED,WAAS01B,gCAAT,CACElR,KADF,EAEEiR,YAFF,EAGE;AACA,QAAI,CAAC/I,iBAAiB,CAAClI,KAAD,CAAtB,EAA+B;AAC7BiR,kBAAY,CAAC50B,IAAb,CAAkB0sB,gBAAgB,CAAC/I,KAAD,CAAlC;AACD,KAFD,MAEO;AACL,UAAI8K,KAAK,GAAG9K,KAAK,CAAC8K,KAAlB;AACA,UAAMoF,kBAAkB,GACtBlQ,KAAK,CAAC+C,GAAN,KAAcV,iBAAd,IAAmCrC,KAAK,CAAC8J,aAAN,KAAwB,IAD7D;;AAEA,UAAIoG,kBAAJ,EAAwB;AACtB;AACA;AACA;AACA,YAAMP,oBAAoB,GAAG3P,KAAK,CAAC8K,KAAnC;AACA,YAAM8E,qBAAqB,GAAGD,oBAAoB,GAC9CA,oBAAoB,CAAC5E,OADyB,GAE9C,IAFJ;AAGA,YAAM8E,aAAa,GAAGD,qBAAqB,GACvCA,qBAAqB,CAAC9E,KADiB,GAEvC,IAFJ;;AAGA,YAAI+E,aAAa,KAAK,IAAtB,EAA4B;AAC1B/E,eAAK,GAAG+E,aAAR;AACD;AACF;;AACD,aAAO/E,KAAK,KAAK,IAAjB,EAAuB;AACrBoG,wCAAgC,CAACpG,KAAD,EAAQmG,YAAR,CAAhC;AACAnG,aAAK,GAAGA,KAAK,CAACC,OAAd;AACD;AACF;AACF,GA1oDkB,CA4oDnB;;;AACA,WAASoG,sBAAT,CACE5H,SADF,EAEED,SAFF,EAGE/C,WAHF,EAIE8I,+BAJF,EAKW;AACT,QAAM9yB,EAAE,GAAGqrB,oBAAoB,CAAC2B,SAAD,CAA/B;;AAEA,QAAIp1B,8BAAJ,EAAe;AACbub,WAAK,CAAC,0BAAD,EAA6B6Z,SAA7B,EAAwChD,WAAxC,CAAL;AACD;;AAED,QAAIU,mBAAJ,EAAyB;AACvB,UAAM3lB,WAAW,GAAG8mB,sBAAsB,CAACmB,SAAD,CAA1C;;AACA,UAAI8F,+BAAJ,EAAqC;AACnC;AACA,YAAI/tB,WAAW,KAAKjL,yCAApB,EAA8C;AAC5C6wB,8BAAoB,CAACjtB,GAArB,CAAyBsvB,SAAS,CAACniB,SAAnC;AACAioB,yCAA+B,GAAG,KAAlC;AACD;AACF,OAND,MAMO;AACL,YACE/tB,WAAW,KAAKnL,oCAAhB,IACAmL,WAAW,KAAKrL,iCADhB,IAEAqL,WAAW,KAAKpL,mCAFhB,IAGAoL,WAAW,KAAKhL,gCAHhB,IAIAgL,WAAW,KAAKlL,sCALlB,EAME;AACA;AACAi5B,yCAA+B,GAAGlD,cAAc,CAC9C7C,SAD8C,EAE9CC,SAF8C,CAAhD;AAID;AACF;AACF;;AAED,QACEjE,4BAA4B,KAAK,IAAjC,IACAA,4BAA4B,CAAC/oB,EAA7B,KAAoCA,EADpC,IAEA4vB,cAAc,CAAC7C,SAAD,EAAYC,SAAZ,CAHhB,EAIE;AACA;AACA;AACAhE,yCAAmC,GAAG,IAAtC;AACD;;AAED,QAAMiK,mBAAmB,GAAG,CAACtH,iBAAiB,CAACqB,SAAD,CAA9C;AACA,QAAMkG,UAAU,GAAGlG,SAAS,CAACxG,GAAV,KAAkBV,iBAArC;AACA,QAAI+O,mBAAmB,GAAG,KAA1B,CA5CS,CA6CT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,QAAMC,cAAc,GAAG5B,UAAU,IAAInG,SAAS,CAACQ,aAAV,KAA4B,IAAjE;AACA,QAAMwH,cAAc,GAAG7B,UAAU,IAAIlG,SAAS,CAACO,aAAV,KAA4B,IAAjE,CAtDS,CAuDT;AACA;;AACA,QAAIuH,cAAc,IAAIC,cAAtB,EAAsC;AACpC;AACA;AACA,UAAMC,cAAc,GAAGhI,SAAS,CAACuB,KAAjC;AACA,UAAM0G,oBAAoB,GAAGD,cAAc,GACvCA,cAAc,CAACxG,OADwB,GAEvC,IAFJ,CAJoC,CAOpC;AACA;;AACA,UAAM0G,cAAc,GAAGnI,SAAS,CAACwB,KAAjC;AACA,UAAM4G,oBAAoB,GAAGD,cAAc,GACvCA,cAAc,CAAC1G,OADwB,GAEvC,IAFJ;;AAGA,UACEyG,oBAAoB,IAAI,IAAxB,IACAE,oBAAoB,IAAI,IADxB,IAEAP,sBAAsB,CACpBK,oBADoB,EAEpBE,oBAFoB,EAGpBnI,SAHoB,EAIpB8F,+BAJoB,CAHxB,EASE;AACA+B,2BAAmB,GAAG,IAAtB;AACD;AACF,KAzBD,MAyBO,IAAIC,cAAc,IAAI,CAACC,cAAvB,EAAuC;AAC5C;AACA;AACA;AACA;AACA,UAAMK,mBAAmB,GAAGpI,SAAS,CAACuB,KAAtC;;AACA,UAAI6G,mBAAmB,KAAK,IAA5B,EAAkC;AAChC3J,6BAAqB,CACnB2J,mBADmB,EAEnBnC,mBAAmB,GAAGjG,SAAH,GAAehD,WAFf,EAGnB,IAHmB,EAInB8I,+BAJmB,CAArB;AAMD;;AACD+B,yBAAmB,GAAG,IAAtB;AACD,KAfM,MAeA,IAAI,CAACC,cAAD,IAAmBC,cAAvB,EAAuC;AAC5C;AACA;AACA;AACA;AACArB,qCAA+B,CAAC3G,SAAD,CAA/B,CAL4C,CAM5C;;AACA,UAAMiI,eAAc,GAAGhI,SAAS,CAACuB,KAAjC;;AACA,UAAM0G,qBAAoB,GAAGD,eAAc,GACvCA,eAAc,CAACxG,OADwB,GAEvC,IAFJ;;AAGA,UAAIyG,qBAAoB,IAAI,IAA5B,EAAkC;AAChCxJ,6BAAqB,CACnBwJ,qBADmB,EAEnBhC,mBAAmB,GAAGjG,SAAH,GAAehD,WAFf,EAGnB,IAHmB,EAInB8I,+BAJmB,CAArB;AAMA+B,2BAAmB,GAAG,IAAtB;AACD;AACF,KApBM,MAoBA;AACL;AACA;AACA,UAAI7H,SAAS,CAACuB,KAAV,KAAoBxB,SAAS,CAACwB,KAAlC,EAAyC;AACvC;AACA;AACA,YAAI8G,SAAS,GAAGrI,SAAS,CAACuB,KAA1B;AACA,YAAI+G,oBAAoB,GAAGvI,SAAS,CAACwB,KAArC;;AACA,eAAO8G,SAAP,EAAkB;AAChB;AACA;AACA;AACA;AACA,cAAIA,SAAS,CAACjJ,SAAd,EAAyB;AACvB,gBAAMmJ,SAAS,GAAGF,SAAS,CAACjJ,SAA5B;;AACA,gBACEwI,sBAAsB,CACpBS,SADoB,EAEpBE,SAFoB,EAGpBtC,mBAAmB,GAAGjG,SAAH,GAAehD,WAHd,EAIpB8I,+BAJoB,CADxB,EAOE;AACA;AACA;AACA;AACA+B,iCAAmB,GAAG,IAAtB;AACD,aAdsB,CAevB;AACA;AACA;;;AACA,gBAAIU,SAAS,KAAKD,oBAAlB,EAAwC;AACtCT,iCAAmB,GAAG,IAAtB;AACD;AACF,WArBD,MAqBO;AACLpJ,iCAAqB,CACnB4J,SADmB,EAEnBpC,mBAAmB,GAAGjG,SAAH,GAAehD,WAFf,EAGnB,KAHmB,EAInB8I,+BAJmB,CAArB;AAMA+B,+BAAmB,GAAG,IAAtB;AACD,WAlCe,CAmChB;;;AACAQ,mBAAS,GAAGA,SAAS,CAAC7G,OAAtB,CApCgB,CAqChB;AACA;;AACA,cAAI,CAACqG,mBAAD,IAAwBS,oBAAoB,KAAK,IAArD,EAA2D;AACzDA,gCAAoB,GAAGA,oBAAoB,CAAC9G,OAA5C;AACD;AACF,SA/CsC,CAgDvC;;;AACA,YAAI8G,oBAAoB,KAAK,IAA7B,EAAmC;AACjCT,6BAAmB,GAAG,IAAtB;AACD;AACF,OApDD,MAoDO;AACL,YAAInK,mBAAJ,EAAyB;AACvB;AACA;AACA,cAAIoI,+BAAJ,EAAqC;AACnC,gBAAM0C,UAAU,GAAGC,wBAAwB,CACzCjJ,gBAAgB,CAACQ,SAAD,CADyB,CAA3C;AAGAwI,sBAAU,CAACj4B,OAAX,CAAmB,UAAAm4B,SAAS,EAAI;AAC9B/K,kCAAoB,CAACjtB,GAArB,CAAyBg4B,SAAS,CAAC7qB,SAAnC;AACD,aAFD;AAGD;AACF;AACF;AACF;;AAED,QAAIooB,mBAAJ,EAAyB;AACvB,UAAMnB,oBAAoB,GAAG9E,SAAS,CAAC7pB,cAAV,CAAyB,kBAAzB,CAA7B;;AACA,UAAI2uB,oBAAJ,EAA0B;AACxBO,gCAAwB,CAACrF,SAAD,CAAxB;AACD;AACF;;AACD,QAAI6H,mBAAJ,EAAyB;AACvB;AACA;AACA,UAAI5B,mBAAJ,EAAyB;AACvB;AACA,YAAI0C,YAAY,GAAG3I,SAAS,CAACuB,KAA7B;;AACA,YAAIwG,cAAJ,EAAoB;AAClB;AACA,cAAMC,gBAAc,GAAGhI,SAAS,CAACuB,KAAjC;AACAoH,sBAAY,GAAGX,gBAAc,GAAGA,gBAAc,CAACxG,OAAlB,GAA4B,IAAzD;AACD;;AACD,YAAImH,YAAY,IAAI,IAApB,EAA0B;AACxBnB,6BAAmB,CAACxH,SAAD,EAAY2I,YAAZ,CAAnB;AACD,SAVsB,CAWvB;AACA;;;AACA,eAAO,KAAP;AACD,OAdD,MAcO;AACL;AACA,eAAO,IAAP;AACD;AACF,KArBD,MAqBO;AACL,aAAO,KAAP;AACD;AACF;;AAED,WAASC,OAAT,GAAmB,CACjB;AACD;;AAED,WAASC,qBAAT,CAA+BprB,IAA/B,EAAqC;AACnC,QAAIA,IAAI,CAACqrB,oBAAL,IAA6B,IAAjC,EAAuC;AACrC;AACA,aAAO,IAAP;AACD,KAHD,MAGO,IACLrrB,IAAI,CAACxN,OAAL,IAAgB,IAAhB,IACAwN,IAAI,CAACxN,OAAL,CAAakG,cAAb,CAA4B,kBAA5B,CAFK,EAGL;AACA;AACA;AACA,aAAO,IAAP;AACD,KAPM,MAOA;AACL,aAAO,KAAP;AACD;AACF;;AAED,WAAS4yB,sBAAT,GAAkC;AAChC,QAAMC,2BAA2B,GAAG/F,sBAApC;AAEAA,0BAAsB,GAAG,IAAzB;;AAEA,QACE+F,2BAA2B,KAAK,IAAhC,IACAA,2BAA2B,CAACh3B,MAA5B,GAAqC,CAFvC,EAGE;AACA;AACA;AACAg3B,iCAA2B,CAACz4B,OAA5B,CAAoC,UAAA6B,UAAU,EAAI;AAChD2nB,YAAI,CAACc,IAAL,CAAU,YAAV,EAAwBzoB,UAAxB;AACD,OAFD;AAGD,KATD,MASO;AACL;AACA;AACA,UAAI62B,WAAW,KAAK,IAApB,EAA0B;AACxBC,4BAAoB,GAAG,IAAvB;AACD,OALI,CAML;;;AACAnP,UAAI,CAACoE,aAAL,CAAmB9rB,UAAnB,EAA+B9B,OAA/B,CAAuC,UAAAkN,IAAI,EAAI;AAC7C2gB,qBAAa,GAAGC,oBAAoB,CAAC5gB,IAAI,CAACxN,OAAN,CAApC;AACAuuB,wBAAgB,CAACJ,aAAD,EAAgB3gB,IAAI,CAACxN,OAArB,CAAhB,CAF6C,CAI7C;;AACA,YAAIiuB,WAAW,IAAI2K,qBAAqB,CAACprB,IAAD,CAAxC,EAAgD;AAC9C;AACA;AACAypB,wCAA8B,GAAG;AAC/BK,8BAAkB,EAAEF,wBAAwB,GAAG,IAAI1lB,GAAJ,EAAH,GAAe,IAD5B;AAE/BwlB,qBAAS,EAAE,EAFoB;AAG/BgC,sBAAU,EAAEvS,cAAc,KAAKwS,kBAHA;AAI/BhC,6BAAiB,EAAE,CAJY;AAK/BiC,yBAAa,EAAE,IALgB;AAM/BC,oBAAQ,EAAEC,eAAe,CAAC9rB,IAAD,CANM;AAO/BC,0BAAc,EAAE,IAPe;AAQ/BC,iCAAqB,EAAE;AARQ,WAAjC;AAUD;;AAED8gB,6BAAqB,CAAChhB,IAAI,CAACxN,OAAN,EAAe,IAAf,EAAqB,KAArB,EAA4B,KAA5B,CAArB;AACAsrB,0BAAkB,CAAC9d,IAAD,CAAlB;AACA2gB,qBAAa,GAAG,CAAC,CAAjB;AACD,OAvBD;AAwBD;AACF;;AAED,WAASmL,eAAT,CAAyB9rB,IAAzB,EAAgE;AAC9D,WAAOA,IAAI,CAAC+rB,gBAAL,IAAyB,IAAzB,GACHz3B,KAAK,CAACsE,IAAN,CAAWoH,IAAI,CAAC+rB,gBAAhB,EAAkC/oB,GAAlC,CAAsCgpB,wBAAtC,CADG,GAEH,IAFJ;AAGD;;AAED,WAASC,wBAAT,CAAkCjT,KAAlC,EAAyC;AACvC;AACA;AACA;AACA6O,iBAAa,CAAC7O,KAAD,EAAQ,KAAR,CAAb;AACD;;AAED,WAASkT,yBAAT,CAAmClsB,IAAnC,EAAyC;AACvC,QAAIygB,WAAW,IAAI2K,qBAAqB,CAACprB,IAAD,CAAxC,EAAgD;AAC9C,UAAIypB,8BAA8B,KAAK,IAAvC,EAA6C;AAAA,kCACK1pB,mDAAkB,CAChEC,IADgE,CADvB;AAAA,YACpCC,cADoC,uBACpCA,cADoC;AAAA,YACpBC,qBADoB,uBACpBA,qBADoB;;AAI3CupB,sCAA8B,CAACxpB,cAA/B,GAAgDA,cAAhD;AACAwpB,sCAA8B,CAACvpB,qBAA/B,GAAuDA,qBAAvD;AACD;AACF;AACF;;AAED,WAASisB,qBAAT,CAA+BnsB,IAA/B,EAAqC4rB,aAArC,EAAoD;AAClD,QAAMp5B,OAAO,GAAGwN,IAAI,CAACxN,OAArB;AACA,QAAMmvB,SAAS,GAAGnvB,OAAO,CAACmvB,SAA1B,CAFkD,CAIlD;AACA;;AACAQ,iBAAa;AAEbxB,iBAAa,GAAGC,oBAAoB,CAACpuB,OAAD,CAApC,CARkD,CAUlD;AACA;;AACA,QAAIg5B,WAAW,KAAK,IAApB,EAA0B;AACxBC,0BAAoB,GAAG,IAAvB;AACD;;AAED,QAAIxL,mBAAJ,EAAyB;AACvBC,0BAAoB,CAACrC,KAArB;AACD,KAlBiD,CAoBlD;;;AACA,QAAMwJ,oBAAoB,GAAG+D,qBAAqB,CAACprB,IAAD,CAAlD;;AAEA,QAAIygB,WAAW,IAAI4G,oBAAnB,EAAyC;AACvC;AACA;AACAoC,oCAA8B,GAAG;AAC/BK,0BAAkB,EAAEF,wBAAwB,GAAG,IAAI1lB,GAAJ,EAAH,GAAe,IAD5B;AAE/BwlB,iBAAS,EAAE,EAFoB;AAG/BgC,kBAAU,EAAEvS,cAAc,KAAKwS,kBAHA;AAI/BhC,yBAAiB,EAAE,CAJY;AAK/BiC,qBAAa,EACXA,aAAa,IAAI,IAAjB,GAAwB,IAAxB,GAA+BQ,mBAAmB,CAACR,aAAD,CANrB;AAQ/BC,gBAAQ,EAAEC,eAAe,CAAC9rB,IAAD,CARM;AAU/B;AACA;AACAC,sBAAc,EAAE,IAZe;AAa/BC,6BAAqB,EAAE;AAbQ,OAAjC;AAeD;;AAED,QAAIyhB,SAAJ,EAAe;AACb;AACA,UAAM0K,UAAU,GACd1K,SAAS,CAACmB,aAAV,IAA2B,IAA3B,IACAnB,SAAS,CAACmB,aAAV,CAAwBzoB,OAAxB,IAAmC,IAFrC;AAGA,UAAMiyB,SAAS,GACb95B,OAAO,CAACswB,aAAR,IAAyB,IAAzB,IAAiCtwB,OAAO,CAACswB,aAAR,CAAsBzoB,OAAtB,IAAiC,IADpE;;AAEA,UAAI,CAACgyB,UAAD,IAAeC,SAAnB,EAA8B;AAC5B;AACAvL,wBAAgB,CAACJ,aAAD,EAAgBnuB,OAAhB,CAAhB;AACAwuB,6BAAqB,CAACxuB,OAAD,EAAU,IAAV,EAAgB,KAAhB,EAAuB,KAAvB,CAArB;AACD,OAJD,MAIO,IAAI65B,UAAU,IAAIC,SAAlB,EAA6B;AAClC;AACAnC,8BAAsB,CAAC33B,OAAD,EAAUmvB,SAAV,EAAqB,IAArB,EAA2B,KAA3B,CAAtB;AACD,OAHM,MAGA,IAAI0K,UAAU,IAAI,CAACC,SAAnB,EAA8B;AACnC;AACAC,2BAAmB,CAAC5L,aAAD,CAAnB;AACAkH,qBAAa,CAACr1B,OAAD,EAAU,KAAV,CAAb;AACD;AACF,KAnBD,MAmBO;AACL;AACAuuB,sBAAgB,CAACJ,aAAD,EAAgBnuB,OAAhB,CAAhB;AACAwuB,2BAAqB,CAACxuB,OAAD,EAAU,IAAV,EAAgB,KAAhB,EAAuB,KAAvB,CAArB;AACD;;AAED,QAAIiuB,WAAW,IAAI4G,oBAAnB,EAAyC;AACvC,UAAMmF,uBAAuB,GAAKC,gCAAF,CAAsEl5B,GAAtE,CAC9BotB,aAD8B,CAAhC;;AAGA,UAAI6L,uBAAuB,IAAI,IAA/B,EAAqC;AACnCA,+BAAuB,CAACn3B,IAAxB,CACIo0B,8BADJ;AAGD,OAJD,MAIO;AACHgD,wCAAF,CAAsE/4B,GAAtE,CACEitB,aADF,EAEE,CAAG8I,8BAAH,CAFF;AAID;AACF,KAlFiD,CAoFlD;;;AACA3L,sBAAkB,CAAC9d,IAAD,CAAlB;;AAEA,QAAIigB,mBAAJ,EAAyB;AACvB3D,UAAI,CAACc,IAAL,CAAU,cAAV,EAA0B8C,oBAA1B;AACD;;AAEDS,iBAAa,GAAG,CAAC,CAAjB;AACD;;AAED,WAASqK,wBAAT,CAAkCz1B,EAAlC,EAAqE;AACnE,QAAMm3B,MAAM,GAAG,EAAf;AACA,QAAM1T,KAAK,GAAG2T,iCAAiC,CAACp3B,EAAD,CAA/C;;AACA,QAAI,CAACyjB,KAAL,EAAY;AACV,aAAO0T,MAAP;AACD,KALkE,CAOnE;;;AACA,QAAIvkB,IAAW,GAAG6Q,KAAlB;;AACA,WAAO,IAAP,EAAa;AACX,UAAI7Q,IAAI,CAAC4T,GAAL,KAAavB,aAAb,IAA8BrS,IAAI,CAAC4T,GAAL,KAAapB,QAA/C,EAAyD;AACvD+R,cAAM,CAACr3B,IAAP,CAAY8S,IAAZ;AACD,OAFD,MAEO,IAAIA,IAAI,CAAC2b,KAAT,EAAgB;AACrB3b,YAAI,CAAC2b,KAAL,CAAWhC,MAAX,GAAoB3Z,IAApB;AACAA,YAAI,GAAGA,IAAI,CAAC2b,KAAZ;AACA;AACD;;AACD,UAAI3b,IAAI,KAAK6Q,KAAb,EAAoB;AAClB,eAAO0T,MAAP;AACD;;AACD,aAAO,CAACvkB,IAAI,CAAC4b,OAAb,EAAsB;AACpB,YAAI,CAAC5b,IAAI,CAAC2Z,MAAN,IAAgB3Z,IAAI,CAAC2Z,MAAL,KAAgB9I,KAApC,EAA2C;AACzC,iBAAO0T,MAAP;AACD;;AACDvkB,YAAI,GAAGA,IAAI,CAAC2Z,MAAZ;AACD;;AACD3Z,UAAI,CAAC4b,OAAL,CAAajC,MAAb,GAAsB3Z,IAAI,CAAC2Z,MAA3B;AACA3Z,UAAI,GAAGA,IAAI,CAAC4b,OAAZ;AACD,KA5BkE,CA6BnE;AACA;;;AACA,WAAO2I,MAAP;AACD;;AAED,WAASE,yBAAT,CAAmCr3B,EAAnC,EAA+C;AAC7C,QAAI;AACF,UAAIyjB,OAAK,GAAG2T,iCAAiC,CAACp3B,EAAD,CAA7C;;AACA,UAAIyjB,OAAK,KAAK,IAAd,EAAoB;AAClB,eAAO,IAAP;AACD,OAJC,CAKF;;;AACA,UAAMkQ,kBAAkB,GACtBlQ,OAAK,CAAC+C,GAAN,KAAcV,iBAAd,IAAmCrC,OAAK,CAAC8J,aAAN,KAAwB,IAD7D;;AAEA,UAAIoG,kBAAJ,EAAwB;AACtB;AACA;AACA,YAAM2D,kBAAkB,GAAG7T,OAAK,CAAC8K,KAAN,IAAe9K,OAAK,CAAC8K,KAAN,CAAYC,OAAtD;;AACA,YAAI8I,kBAAkB,IAAI,IAA1B,EAAgC;AAC9B7T,iBAAK,GAAG6T,kBAAR;AACD;AACF;;AACD,UAAM9B,UAAU,GAAGC,wBAAwB,CAACz1B,EAAD,CAA3C;AACA,aAAOw1B,UAAU,CAAC/nB,GAAX,CAAe,UAAAioB,SAAS;AAAA,eAAIA,SAAS,CAAC7qB,SAAd;AAAA,OAAxB,EAAiDgQ,MAAjD,CAAwD0c,OAAxD,CAAP;AACD,KAlBD,CAkBE,OAAOxtB,GAAP,EAAY;AACZ;AACA,aAAO,IAAP;AACD;AACF;;AAED,WAASytB,wBAAT,CAAkCx3B,EAAlC,EAAsC;AACpC,QAAMyjB,KAAK,GAAG2E,qBAAqB,CAACpqB,GAAtB,CAA0BgC,EAA1B,CAAd;AACA,WAAOyjB,KAAK,IAAI,IAAT,GAAgB8C,sBAAsB,CAAG9C,KAAH,CAAtC,GAAgE,IAAvE;AACD;;AAED,WAASgU,mBAAT,CACEC,YADF,EAGE;AAAA,QADAC,6BACA,uEADgC,KAChC;AACA,QAAIlU,KAAK,GAAGpU,QAAQ,CAACK,uBAAT,CAAiCgoB,YAAjC,CAAZ;;AACA,QAAIjU,KAAK,IAAI,IAAb,EAAmB;AACjB,UAAIkU,6BAAJ,EAAmC;AACjC,eAAOlU,KAAK,KAAK,IAAV,IAAkBkI,iBAAiB,CAAClI,KAAD,CAA1C,EAAmD;AACjDA,eAAK,GAAGA,KAAK,CAAC8I,MAAd;AACD;AACF;;AACD,aAAOC,gBAAgB,CAAG/I,KAAH,CAAvB;AACD;;AACD,WAAO,IAAP;AACD;;AAED,MAAMmU,QAAQ,GAAG,CAAjB;AACA,MAAMC,OAAO,GAAG,CAAhB;AACA,MAAMC,SAAS,GAAG,CAAlB,CA3nEmB,CA6nEnB;AACA;;AACA,WAASC,kBAAT,CAA4BtU,KAA5B,EAAkD;AAChD,QAAI7Q,IAAI,GAAG6Q,KAAX;AACA,QAAIuU,QAAQ,GAAG,IAAf;;AACA,QAAI,CAACvU,KAAK,CAAC2I,SAAX,EAAsB;AACpB;AACA;AACA,UAAI,CAAC5I,aAAa,CAAC5Q,IAAD,CAAb,GAAsBsR,SAAvB,MAAsCF,OAA1C,EAAmD;AACjD,eAAO4T,QAAP;AACD,OALmB,CAMpB;;;AACA,UAAI,CAACpU,aAAa,CAAC5Q,IAAD,CAAb,GAAsBuR,UAAvB,MAAuCH,OAA3C,EAAoD;AAClD,eAAO8T,SAAP;AACD;;AACD,aAAOllB,IAAI,CAAC2Z,MAAZ,EAAoB;AAClByL,gBAAQ,GAAGplB,IAAX;AACAA,YAAI,GAAGA,IAAI,CAAC2Z,MAAZ;;AAEA,YAAI,CAAC/I,aAAa,CAAC5Q,IAAD,CAAb,GAAsBsR,SAAvB,MAAsCF,OAA1C,EAAmD;AACjD,iBAAO4T,QAAP;AACD,SANiB,CAOlB;;;AACA,YAAI,CAACpU,aAAa,CAAC5Q,IAAD,CAAb,GAAsBuR,UAAvB,MAAuCH,OAA3C,EAAoD;AAClD,iBAAO8T,SAAP;AACD,SAViB,CAYlB;;;AACA,YAAMnE,kBAAkB,GACtB/gB,IAAI,CAAC4T,GAAL,KAAaV,iBAAb,IAAkClT,IAAI,CAAC2a,aAAL,KAAuB,IAD3D;;AAEA,YAAIoG,kBAAJ,EAAwB;AACtB;AACA,cAAMP,oBAAoB,GAAGxgB,IAAI,CAAC2b,KAAlC;AACA,cAAM8E,qBAAqB,GAAGD,oBAAoB,GAC9CA,oBAAoB,CAAC5E,OADyB,GAE9C,IAFJ;;AAGA,cAAIwJ,QAAQ,KAAK3E,qBAAjB,EAAwC;AACtC,mBAAOyE,SAAP;AACD;AACF;AACF;AACF,KApCD,MAoCO;AACL,aAAOllB,IAAI,CAAC2Z,MAAZ,EAAoB;AAClB3Z,YAAI,GAAGA,IAAI,CAAC2Z,MAAZ;AACD;AACF;;AACD,QAAI3Z,IAAI,CAAC4T,GAAL,KAAarB,QAAjB,EAA2B;AACzB;AACA;AACA,aAAO0S,OAAP;AACD,KAhD+C,CAiDhD;AACA;;;AACA,WAAOC,SAAP;AACD,GAnrEkB,CAqrEnB;AACA;AACA;AACA;;;AACA,WAASV,iCAAT,CAA2Cp3B,EAA3C,EAAqE;AACnE,QAAMyjB,KAAK,GAAG2E,qBAAqB,CAACpqB,GAAtB,CAA0BgC,EAA1B,CAAd;;AACA,QAAIyjB,KAAK,IAAI,IAAb,EAAmB;AACjB9iB,aAAO,CAACoqB,IAAR,0CAA8C/qB,EAA9C;AACA,aAAO,IAAP;AACD;;AAED,QAAMosB,SAAS,GAAG3I,KAAK,CAAC2I,SAAxB;;AACA,QAAI,CAACA,SAAL,EAAgB;AACd;AACA,UAAMgB,KAAK,GAAG2K,kBAAkB,CAACtU,KAAD,CAAhC;;AACA,UAAI2J,KAAK,KAAK0K,SAAd,EAAyB;AACvB,cAAMp3B,KAAK,CAAC,gDAAD,CAAX;AACD;;AACD,UAAI0sB,KAAK,KAAKwK,QAAd,EAAwB;AACtB,eAAO,IAAP;AACD;;AACD,aAAOnU,KAAP;AACD,KAlBkE,CAmBnE;AACA;AACA;;;AACA,QAAI/mB,CAAQ,GAAG+mB,KAAf;AACA,QAAI9mB,CAAQ,GAAGyvB,SAAf;;AACA,WAAO,IAAP,EAAa;AACX,UAAM6L,OAAO,GAAGv7B,CAAC,CAAC6vB,MAAlB;;AACA,UAAI0L,OAAO,KAAK,IAAhB,EAAsB;AACpB;AACA;AACD;;AACD,UAAMC,OAAO,GAAGD,OAAO,CAAC7L,SAAxB;;AACA,UAAI8L,OAAO,KAAK,IAAhB,EAAsB;AACpB;AACA;AACA;AACA;AACA,YAAMC,UAAU,GAAGF,OAAO,CAAC1L,MAA3B;;AACA,YAAI4L,UAAU,KAAK,IAAnB,EAAyB;AACvBz7B,WAAC,GAAGC,CAAC,GAAGw7B,UAAR;AACA;AACD,SATmB,CAUpB;;;AACA;AACD,OAnBU,CAqBX;AACA;AACA;;;AACA,UAAIF,OAAO,CAAC1J,KAAR,KAAkB2J,OAAO,CAAC3J,KAA9B,EAAqC;AACnC,YAAIA,KAAK,GAAG0J,OAAO,CAAC1J,KAApB;;AACA,eAAOA,KAAP,EAAc;AACZ,cAAIA,KAAK,KAAK7xB,CAAd,EAAiB;AACf;AACA,gBAAIq7B,kBAAkB,CAACE,OAAD,CAAlB,KAAgCJ,OAApC,EAA6C;AAC3C,oBAAMn3B,KAAK,CAAC,gDAAD,CAAX;AACD;;AACD,mBAAO+iB,KAAP;AACD;;AACD,cAAI8K,KAAK,KAAK5xB,CAAd,EAAiB;AACf;AACA,gBAAIo7B,kBAAkB,CAACE,OAAD,CAAlB,KAAgCJ,OAApC,EAA6C;AAC3C,oBAAMn3B,KAAK,CAAC,gDAAD,CAAX;AACD;;AACD,mBAAO0rB,SAAP;AACD;;AACDmC,eAAK,GAAGA,KAAK,CAACC,OAAd;AACD,SAlBkC,CAmBnC;AACA;;;AACA,cAAM9tB,KAAK,CAAC,gDAAD,CAAX;AACD;;AAED,UAAIhE,CAAC,CAAC6vB,MAAF,KAAa5vB,CAAC,CAAC4vB,MAAnB,EAA2B;AACzB;AACA;AACA;AACA;AACA7vB,SAAC,GAAGu7B,OAAJ;AACAt7B,SAAC,GAAGu7B,OAAJ;AACD,OAPD,MAOO;AACL;AACA;AACA;AACA;AACA;AACA,YAAIE,YAAY,GAAG,KAAnB;AACA,YAAI7J,MAAK,GAAG0J,OAAO,CAAC1J,KAApB;;AACA,eAAOA,MAAP,EAAc;AACZ,cAAIA,MAAK,KAAK7xB,CAAd,EAAiB;AACf07B,wBAAY,GAAG,IAAf;AACA17B,aAAC,GAAGu7B,OAAJ;AACAt7B,aAAC,GAAGu7B,OAAJ;AACA;AACD;;AACD,cAAI3J,MAAK,KAAK5xB,CAAd,EAAiB;AACfy7B,wBAAY,GAAG,IAAf;AACAz7B,aAAC,GAAGs7B,OAAJ;AACAv7B,aAAC,GAAGw7B,OAAJ;AACA;AACD;;AACD3J,gBAAK,GAAGA,MAAK,CAACC,OAAd;AACD;;AACD,YAAI,CAAC4J,YAAL,EAAmB;AACjB;AACA7J,gBAAK,GAAG2J,OAAO,CAAC3J,KAAhB;;AACA,iBAAOA,MAAP,EAAc;AACZ,gBAAIA,MAAK,KAAK7xB,CAAd,EAAiB;AACf07B,0BAAY,GAAG,IAAf;AACA17B,eAAC,GAAGw7B,OAAJ;AACAv7B,eAAC,GAAGs7B,OAAJ;AACA;AACD;;AACD,gBAAI1J,MAAK,KAAK5xB,CAAd,EAAiB;AACfy7B,0BAAY,GAAG,IAAf;AACAz7B,eAAC,GAAGu7B,OAAJ;AACAx7B,eAAC,GAAGu7B,OAAJ;AACA;AACD;;AACD1J,kBAAK,GAAGA,MAAK,CAACC,OAAd;AACD;;AACD,cAAI,CAAC4J,YAAL,EAAmB;AACjB,kBAAM13B,KAAK,CACT,oEACE,+DAFO,CAAX;AAID;AACF;AACF;;AAED,UAAIhE,CAAC,CAAC0vB,SAAF,KAAgBzvB,CAApB,EAAuB;AACrB,cAAM+D,KAAK,CACT,6DACE,sEAFO,CAAX;AAID;AACF,KAvIkE,CAwInE;AACA;;;AACA,QAAIhE,CAAC,CAAC8pB,GAAF,KAAUrB,QAAd,EAAwB;AACtB,YAAMzkB,KAAK,CAAC,gDAAD,CAAX;AACD;;AACD,QAAIhE,CAAC,CAACmO,SAAF,CAAY5N,OAAZ,KAAwBP,CAA5B,EAA+B;AAC7B;AACA,aAAO+mB,KAAP;AACD,KAhJkE,CAiJnE;;;AACA,WAAO2I,SAAP;AACD,GA50EkB,CA80EnB;;;AAEA,WAASiM,0BAAT,CACEr4B,EADF,EAEE+C,IAFF,EAGQ;AACN,QAAIu1B,8BAA8B,CAACt4B,EAAD,CAAlC,EAAwC;AACtC4J,YAAM,CAAC2uB,UAAP,GAAoB11B,oCAAW,CAC3BkmB,4BAD2B,EAE7BhmB,IAF6B,CAA/B;AAID;AACF;;AAED,WAASy1B,wBAAT,CAAkCx4B,EAAlC,EAAoD;AAClD,QAAMyjB,KAAK,GAAG2E,qBAAqB,CAACpqB,GAAtB,CAA0BgC,EAA1B,CAAd;;AACA,QAAIyjB,KAAK,IAAI,IAAb,EAAmB;AACjB9iB,aAAO,CAACoqB,IAAR,0CAA8C/qB,EAA9C;AACA;AACD;;AALiD,QAO3C+E,WAP2C,GAOjB0e,KAPiB,CAO3C1e,WAP2C;AAAA,QAO9ByhB,GAP8B,GAOjB/C,KAPiB,CAO9B+C,GAP8B;AAAA,QAOzB3oB,IAPyB,GAOjB4lB,KAPiB,CAOzB5lB,IAPyB;;AASlD,YAAQ2oB,GAAR;AACE,WAAK5B,cAAL;AACA,WAAKS,wBAAL;AACA,WAAKC,sBAAL;AACA,WAAKN,iBAAL;AACE/V,cAAM,CAACwpB,KAAP,GAAe56B,IAAf;AACA;;AACF,WAAKsH,UAAL;AACE8J,cAAM,CAACwpB,KAAP,GAAe56B,IAAI,CAACyoB,MAApB;AACA;;AACF,WAAKb,aAAL;AACA,WAAKI,mBAAL;AACE5W,cAAM,CAACwpB,KAAP,GACE1zB,WAAW,IAAI,IAAf,IAAuBA,WAAW,CAAClH,IAAZ,IAAoB,IAA3C,GACIkH,WAAW,CAAClH,IADhB,GAEIA,IAHN;AAIA;;AACF;AACEoR,cAAM,CAACwpB,KAAP,GAAe,IAAf;AACA;AAnBJ;AAqBD;;AAED,WAAShC,wBAAT,CAAkChT,KAAlC,EAAmE;AACjE,WAAO;AACLxlB,iBAAW,EAAEsoB,sBAAsB,CAAC9C,KAAD,CAAtB,IAAiC,WADzC;AAELzjB,QAAE,EAAEwsB,gBAAgB,CAAC/I,KAAD,CAFf;AAGLjmB,SAAG,EAAEimB,KAAK,CAACjmB,GAHN;AAILK,UAAI,EAAEguB,sBAAsB,CAACpI,KAAD;AAJvB,KAAP;AAMD;;AAED,WAASiV,aAAT,CAAuB14B,EAAvB,EAAoE;AAClE,QAAMyjB,KAAK,GAAG2T,iCAAiC,CAACp3B,EAAD,CAA/C;;AACA,QAAIyjB,KAAK,IAAI,IAAb,EAAmB;AACjB,aAAO,IAAP;AACD;;AAJiE,QAM3DwO,WAN2D,GAM5CxO,KAN4C,CAM3DwO,WAN2D;AAQlE,QAAM0G,MAAgC,GAAG,CAAClC,wBAAwB,CAAChT,KAAD,CAAzB,CAAzC;;AAEA,QAAIwO,WAAJ,EAAiB;AACf,UAAI2G,KAAK,GAAG3G,WAAZ;;AACA,aAAO2G,KAAK,KAAK,IAAjB,EAAuB;AACrBD,cAAM,CAACn2B,OAAP,CAAei0B,wBAAwB,CAACmC,KAAD,CAAvC;AACAA,aAAK,GAAGA,KAAK,CAAC3G,WAAN,IAAqB,IAA7B;AACD;AACF;;AAED,WAAO0G,MAAP;AACD,GAx5EkB,CA05EnB;AACA;AACA;;;AACA,WAASE,mBAAT,CAA6B74B,EAA7B,EAA2D;AACzD,QAAIkuB,QAAQ,GAAG,IAAf;AACA,QAAI4K,KAAK,GAAG,IAAZ;AAEA,QAAMrV,KAAK,GAAG2T,iCAAiC,CAACp3B,EAAD,CAA/C;;AACA,QAAIyjB,KAAK,KAAK,IAAd,EAAoB;AAClByK,cAAQ,GAAGzK,KAAK,CAAC5Y,SAAjB;;AAEA,UAAI4Y,KAAK,CAACoD,aAAN,KAAwB,IAA5B,EAAkC;AAChCiS,aAAK,GAAGrV,KAAK,CAACoD,aAAN,CAAoBiS,KAA5B;AACD;AACF;;AAED,WAAO;AAAC5K,cAAQ,EAARA,QAAD;AAAW4K,WAAK,EAALA;AAAX,KAAP;AACD;;AAED,WAASC,eAAT,CAAyBtV,KAAzB,EAAgD;AAAA,QACvC+C,GADuC,GAC1B/C,KAD0B,CACvC+C,GADuC;AAAA,QAClC3oB,IADkC,GAC1B4lB,KAD0B,CAClC5lB,IADkC;;AAG9C,YAAQ2oB,GAAR;AACE,WAAK5B,cAAL;AACA,WAAKS,wBAAL;AACE,YAAM6I,QAAQ,GAAGzK,KAAK,CAAC5Y,SAAvB;AACA,eACE,OAAOhN,IAAI,CAACm7B,wBAAZ,KAAyC,UAAzC,IACC9K,QAAQ,KAAK,IAAb,IACC,OAAOA,QAAQ,CAAC+K,iBAAhB,KAAsC,UAH1C;;AAKF;AACE,eAAO,KAAP;AAVJ;AAYD;;AAED,WAASC,yBAAT,CAAmCzV,KAAnC,EAAgE;AAC9D,QAAIjgB,MAAM,GAAGigB,KAAK,CAAC8I,MAAnB;;AACA,WAAO/oB,MAAM,KAAK,IAAlB,EAAwB;AACtB,UAAIu1B,eAAe,CAACv1B,MAAD,CAAnB,EAA6B;AAC3B,eAAO0lB,gBAAgB,CAAC1lB,MAAD,CAAvB;AACD;;AACDA,YAAM,GAAGA,MAAM,CAAC+oB,MAAhB;AACD;;AACD,WAAO,IAAP;AACD;;AAED,WAAS4M,iBAAT,CAA2Bn5B,EAA3B,EAAgE;AAC9D,QAAMyjB,KAAK,GAAG2T,iCAAiC,CAACp3B,EAAD,CAA/C;;AACA,QAAIyjB,KAAK,IAAI,IAAb,EAAmB;AACjB,aAAO,IAAP;AACD;;AAJ6D,QAO5DwO,WAP4D,GAgB1DxO,KAhB0D,CAO5DwO,WAP4D;AAAA,QAQ5DrG,YAR4D,GAgB1DnI,KAhB0D,CAQ5DmI,YAR4D;AAAA,QAS5D/gB,SAT4D,GAgB1D4Y,KAhB0D,CAS5D5Y,SAT4D;AAAA,QAU5DrN,GAV4D,GAgB1DimB,KAhB0D,CAU5DjmB,GAV4D;AAAA,QAW5DqpB,aAX4D,GAgB1DpD,KAhB0D,CAW5DoD,aAX4D;AAAA,QAY5D0G,aAZ4D,GAgB1D9J,KAhB0D,CAY5D8J,aAZ4D;AAAA,QAa5Da,YAb4D,GAgB1D3K,KAhB0D,CAa5D2K,YAb4D;AAAA,QAc5D5H,GAd4D,GAgB1D/C,KAhB0D,CAc5D+C,GAd4D;AAAA,QAe5D3oB,IAf4D,GAgB1D4lB,KAhB0D,CAe5D5lB,IAf4D;AAkB9D,QAAMkH,WAAW,GAAG8mB,sBAAsB,CAACpI,KAAD,CAA1C;AAEA,QAAM2V,SAAS,GACb,CAAC5S,GAAG,KAAKxB,iBAAR,IACCwB,GAAG,KAAKX,mBADT,IAECW,GAAG,KAAKrhB,UAFV,MAGC,CAAC,CAACooB,aAAF,IAAmB,CAAC,CAACa,YAHtB,CADF,CApB8D,CA0B9D;AACA;;AACA,QAAMiL,SAAS,GAAG,CAACD,SAAD,IAAc5S,GAAG,KAAK7B,cAAxC;AAEA,QAAM0B,UAAU,GAAGJ,aAAa,CAACpoB,IAAD,CAAhC;AAEA,QAAIy7B,aAAa,GAAG,KAApB;AACA,QAAI1S,OAAO,GAAG,IAAd;;AACA,QACEJ,GAAG,KAAK5B,cAAR,IACA4B,GAAG,KAAKxB,iBADR,IAEAwB,GAAG,KAAKnB,wBAFR,IAGAmB,GAAG,KAAKlB,sBAHR,IAIAkB,GAAG,KAAKf,aAJR,IAKAe,GAAG,KAAKrhB,UALR,IAMAqhB,GAAG,KAAKX,mBAPV,EAQE;AACAyT,mBAAa,GAAG,IAAhB;;AACA,UAAIzuB,SAAS,IAAIA,SAAS,CAAC+b,OAAV,IAAqB,IAAtC,EAA4C;AAC1C;AACA,YAAM2S,iBAAiB,GACrBx0B,WAAW,KAAKrL,iCAAhB,IACA,EAAEmE,IAAI,CAAC27B,YAAL,IAAqB37B,IAAI,CAACswB,WAA5B,CAFF;;AAIA,YAAI,CAACoL,iBAAL,EAAwB;AACtB3S,iBAAO,GAAG/b,SAAS,CAAC+b,OAApB;AACD;AACF;AACF,KApBD,MAoBO,IACLP,UAAU,KAAKrf,sCAAf,IACAqf,UAAU,KAAKpf,6CAFV,EAGL;AACA;AACA;AACA;AACA,UAAMwyB,uBAAuB,GAAG57B,IAAI,CAAC8oB,QAAL,IAAiB9oB,IAAjD,CAJA,CAMA;;AACA+oB,aAAO,GAAG6S,uBAAuB,CAACC,aAAxB,IAAyC,IAAnD,CAPA,CASA;;AACA,UAAIz8B,QAAO,GAAKwmB,KAAF,CAAsB8I,MAApC;;AACA,aAAOtvB,QAAO,KAAK,IAAnB,EAAyB;AACvB,YAAM08B,WAAW,GAAG18B,QAAO,CAACY,IAA5B;AACA,YAAM+7B,iBAAiB,GAAG3T,aAAa,CAAC0T,WAAD,CAAvC;;AACA,YACEC,iBAAiB,KAAKvxB,uCAAtB,IACAuxB,iBAAiB,KAAKtxB,8CAFxB,EAGE;AACA;AACA;AACA;AACA,cAAMuxB,uBAAuB,GAC3BF,WAAW,CAAChT,QAAZ,IAAwBgT,WAAW,CAAC/S,OADtC;;AAEA,cAAIiT,uBAAuB,KAAKJ,uBAAhC,EAAyD;AACvD7S,mBAAO,GAAG3pB,QAAO,CAAC4pB,aAAR,CAAsB/lB,KAAhC;AACA;AACD;AACF;;AAED7D,gBAAO,GAAGA,QAAO,CAACsvB,MAAlB;AACD;AACF;;AAED,QAAIuN,gBAAgB,GAAG,KAAvB;;AACA,QAAIlT,OAAO,KAAK,IAAhB,EAAsB;AACpBkT,sBAAgB,GAAG,CAAC,CAACj8B,IAAI,CAAC27B,YAA1B,CADoB,CAGpB;AACA;;AACA5S,aAAO,GAAG;AAAC9lB,aAAK,EAAE8lB;AAAR,OAAV;AACD;;AAED,QAAI+R,MAAM,GAAG,IAAb;;AACA,QAAI1G,WAAJ,EAAiB;AACf0G,YAAM,GAAG,EAAT;AACA,UAAIC,KAAK,GAAG3G,WAAZ;;AACA,aAAO2G,KAAK,KAAK,IAAjB,EAAuB;AACrBD,cAAM,CAAC74B,IAAP,CAAY22B,wBAAwB,CAACmC,KAAD,CAApC;AACAA,aAAK,GAAGA,KAAK,CAAC3G,WAAN,IAAqB,IAA7B;AACD;AACF;;AAED,QAAM0B,kBAAkB,GACtBnN,GAAG,KAAKV,iBAAR,IAA6ByH,aAAa,KAAK,IADjD;AAGA,QAAIG,KAAK,GAAG,IAAZ;;AACA,QAAI0L,SAAJ,EAAe;AACb,UAAM9oB,sBAAsB,GAAG,EAA/B,CADa,CAGb;;AACA,WAAK,IAAMxB,MAAX,IAAqBnO,OAArB,EAA8B;AAC5B,YAAI;AACF2P,gCAAsB,CAACxB,MAAD,CAAtB,GAAiCnO,OAAO,CAACmO,MAAD,CAAxC,CADE,CAEF;;AACAnO,iBAAO,CAACmO,MAAD,CAAP,GAAkB,YAAM,CAAE,CAA1B;AACD,SAJD,CAIE,OAAOzN,KAAP,EAAc,CAAE;AACnB;;AAED,UAAI;AACFqsB,aAAK,GAAGqM,gDAAmB,CACzBtW,KADyB,EAExBpU,QAAQ,CAACE,oBAFe,EAGzB,IAHyB,CAGnB;AAHmB,SAA3B;AAKD,OAND,SAMU;AACR;AACA,aAAK,IAAMT,OAAX,IAAqBwB,sBAArB,EAA6C;AAC3C,cAAI;AACF;AACA3P,mBAAO,CAACmO,OAAD,CAAP,GAAkBwB,sBAAsB,CAACxB,OAAD,CAAxC;AACD,WAHD,CAGE,OAAOzN,KAAP,EAAc,CAAE;AACnB;AACF;AACF;;AAED,QAAI24B,QAAQ,GAAG,IAAf;AACA,QAAI/8B,OAAO,GAAGwmB,KAAd;;AACA,WAAOxmB,OAAO,CAACsvB,MAAR,KAAmB,IAA1B,EAAgC;AAC9BtvB,aAAO,GAAGA,OAAO,CAACsvB,MAAlB;AACD;;AACD,QAAM0N,SAAS,GAAGh9B,OAAO,CAAC4N,SAA1B;;AACA,QAAIovB,SAAS,IAAI,IAAb,IAAqBA,SAAS,CAACC,cAAV,KAA6B,IAAtD,EAA4D;AAC1DF,cAAQ,GAAGC,SAAS,CAACC,cAArB;AACD;;AAED,QAAMC,MAAM,GAAGlS,kBAAkB,CAACjqB,GAAnB,CAAuBgC,EAAvB,KAA8B,IAAI2O,GAAJ,EAA7C;AACA,QAAMyrB,QAAQ,GAAGlS,oBAAoB,CAAClqB,GAArB,CAAyBgC,EAAzB,KAAgC,IAAI2O,GAAJ,EAAjD;AAEA,QAAM0rB,SAAS,GACb,CAAC5W,KAAK,CAACC,KAAN,GAAcK,UAAf,MAA+BC,OAA/B,IACAmF,qBAAqB,CAACnrB,GAAtB,CAA0BgC,EAA1B,MAAkC,IAFpC;AAIA,QAAIs6B,qBAAJ;;AACA,QAAIvB,eAAe,CAACtV,KAAD,CAAnB,EAA4B;AAC1B;AACA;AACA;AACA;AACA6W,2BAAqB,GAAGD,SAAS,GAAGr6B,EAAH,GAAQk5B,yBAAyB,CAACzV,KAAD,CAAlE;AACD,KAND,MAMO;AACL6W,2BAAqB,GAAGpB,yBAAyB,CAACzV,KAAD,CAAjD;AACD;;AAED,WAAO;AACLzjB,QAAE,EAAFA,EADK;AAGL;AACAu6B,kBAAY,EAAE,OAAOtT,iBAAP,KAA6B,UAJtC;AAKLuT,0BAAoB,EAAE,OAAOpT,aAAP,KAAyB,UAL1C;AAOL;AACAqT,gCAA0B,EACxB,OAAOvT,2BAAP,KAAuC,UATpC;AAULwT,gCAA0B,EACxB,OAAOvT,2BAAP,KAAuC,UAXpC;AAYLwT,qCAA+B,EAC7B,OAAOtT,uBAAP,KAAmC,UAbhC;AAcLuT,qCAA+B,EAC7B,OAAOtT,uBAAP,KAAmC,UAfhC;AAiBLuT,oBAAc,EAAElT,qBAAqB,IAAI2S,qBAAqB,IAAI,IAjB7D;AAkBL;AACAD,eAAS,EAATA,SAnBK;AAoBLC,2BAAqB,EAArBA,qBApBK;AAsBLQ,uBAAiB,EACflT,wBAAwB,MACxB;AACC,OAAC+L,kBAAD,IACC;AACA;AACAoH,iCAA2B,CAAChwB,GAA5B,CAAgC/K,EAAhC,CALsB,CAvBrB;AA8BL;AACAs5B,mBAAa,EAAbA,aA/BK;AAiCL;AACAQ,sBAAgB,EAAhBA,gBAlCK;AAoCLt8B,SAAG,EAAEA,GAAG,IAAI,IAAP,GAAcA,GAAd,GAAoB,IApCpB;AAsCLS,iBAAW,EAAEsoB,sBAAsB,CAAC9C,KAAD,CAtC9B;AAuCL5lB,UAAI,EAAEkH,WAvCD;AAyCL;AACA;AACA6hB,aAAO,EAAPA,OA3CK;AA4CL8G,WAAK,EAALA,KA5CK;AA6CLP,WAAK,EAAEtG,aA7CF;AA8CLuG,WAAK,EAAEiM,SAAS,GAAG9L,aAAH,GAAmB,IA9C9B;AA+CL4M,YAAM,EAAEp7B,KAAK,CAACsE,IAAN,CAAW82B,MAAM,CAACa,OAAP,EAAX,CA/CH;AAgDLZ,cAAQ,EAAEr7B,KAAK,CAACsE,IAAN,CAAW+2B,QAAQ,CAACY,OAAT,EAAX,CAhDL;AAkDL;AACArC,YAAM,EAANA,MAnDK;AAqDL;AACA5qB,YAAM,EAAE6d,YAAY,IAAI,IAtDnB;AAwDLoO,cAAQ,EAARA,QAxDK;AAyDLiB,yBAAmB,EAAE5rB,QAAQ,CAAC4rB,mBAzDzB;AA0DLC,qBAAe,EAAE7rB,QAAQ,CAACM;AA1DrB,KAAP;AA4DD;;AAED,MAAIoZ,4BAAqD,GAAG,IAA5D;AACA,MAAIC,mCAA4C,GAAG,KAAnD;AACA,MAAImS,uBAA+B,GAAG,EAAtC;;AAEA,WAAS7C,8BAAT,CAAwCt4B,EAAxC,EAA6D;AAC3D,WACE+oB,4BAA4B,KAAK,IAAjC,IACAA,4BAA4B,CAAC/oB,EAA7B,KAAoCA,EAFtC;AAID;;AAED,WAASo7B,qCAAT,CAA+Cp7B,EAA/C,EAAoE;AAClE,WACEs4B,8BAA8B,CAACt4B,EAAD,CAA9B,IAAsC,CAACgpB,mCADzC;AAGD,GAhsFkB,CAksFnB;AACA;;;AACA,WAASqS,mBAAT,CAA6Bt4B,IAA7B,EAA2D;AACzD,QAAI9F,OAAO,GAAGk+B,uBAAd;AACAp4B,QAAI,CAACxF,OAAL,CAAa,UAAAC,GAAG,EAAI;AAClB,UAAI,CAACP,OAAO,CAACO,GAAD,CAAZ,EAAmB;AACjBP,eAAO,CAACO,GAAD,CAAP,GAAe,EAAf;AACD;;AACDP,aAAO,GAAGA,OAAO,CAACO,GAAD,CAAjB;AACD,KALD;AAMD;;AAED,WAAS89B,mBAAT,CACE99B,GADF,EAEE+9B,iBAFF,EAGE;AACA;AACA;AACA,WAAO,SAASvyB,aAAT,CAAuBjG,IAAvB,EAA8D;AACnE,cAAQw4B,iBAAR;AACE,aAAK,OAAL;AACE,cAAIx4B,IAAI,CAAC/D,MAAL,KAAgB,CAApB,EAAuB;AACrB;AACA,mBAAO,IAAP;AACD;;AAED,cACE+D,IAAI,CAACA,IAAI,CAAC/D,MAAL,GAAc,CAAf,CAAJ,KAA0B,YAA1B,IACA+D,IAAI,CAACA,IAAI,CAAC/D,MAAL,GAAc,CAAf,CAAJ,KAA0B,UAF5B,EAGE;AACA;AACA;AACA;AACA,mBAAO,IAAP;AACD;;AAED,cACE+D,IAAI,CAACA,IAAI,CAAC/D,MAAL,GAAc,CAAf,CAAJ,KAA0B,UAA1B,IACA+D,IAAI,CAACA,IAAI,CAAC/D,MAAL,GAAc,CAAf,CAAJ,KAA0B,UAF5B,EAGE;AACA;AACA;AACA;AACA,mBAAO,IAAP;AACD;;AACD;;AACF;AACE;AA5BJ;;AA+BA,UAAI/B,OAAO,GACTO,GAAG,KAAK,IAAR,GAAe29B,uBAAf,GAAyCA,uBAAuB,CAAC39B,GAAD,CADlE;;AAEA,UAAI,CAACP,OAAL,EAAc;AACZ,eAAO,KAAP;AACD;;AACD,WAAK,IAAIgC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8D,IAAI,CAAC/D,MAAzB,EAAiCC,CAAC,EAAlC,EAAsC;AACpChC,eAAO,GAAGA,OAAO,CAAC8F,IAAI,CAAC9D,CAAD,CAAL,CAAjB;;AACA,YAAI,CAAChC,OAAL,EAAc;AACZ,iBAAO,KAAP;AACD;AACF;;AACD,aAAO,IAAP;AACD,KA5CD;AA6CD;;AAED,WAASu+B,qBAAT,CAA+BC,gBAA/B,EAAyE;AAAA,QAChE/N,KADgE,GAC5C+N,gBAD4C,CAChE/N,KADgE;AAAA,QACzD1tB,EADyD,GAC5Cy7B,gBAD4C,CACzDz7B,EADyD;AAAA,QACrDmtB,KADqD,GAC5CsO,gBAD4C,CACrDtO,KADqD;AAGvE,QAAM1J,KAAK,GAAG2E,qBAAqB,CAACpqB,GAAtB,CAA0BgC,EAA1B,CAAd;;AACA,QAAIyjB,KAAK,IAAI,IAAb,EAAmB;AACjB9iB,aAAO,CAACoqB,IAAR,0CAA8C/qB,EAA9C;AACA;AACD;;AAPsE,QAShE+E,WATgE,GAS3B0e,KAT2B,CAShE1e,WATgE;AAAA,QASnD8F,SATmD,GAS3B4Y,KAT2B,CASnD5Y,SATmD;AAAA,QASxC2b,GATwC,GAS3B/C,KAT2B,CASxC+C,GATwC;AAAA,QASnC3oB,IATmC,GAS3B4lB,KAT2B,CASnC5lB,IATmC;;AAWvE,YAAQ2oB,GAAR;AACE,WAAK5B,cAAL;AACA,WAAKS,wBAAL;AACA,WAAKC,sBAAL;AACErW,cAAM,CAACysB,EAAP,GAAY7wB,SAAZ;AACA;;AACF,WAAKma,iBAAL;AACE/V,cAAM,CAACysB,EAAP,GAAY;AACVhO,eAAK,EAALA,KADU;AAEVP,eAAK,EAALA,KAFU;AAGVtvB,cAAI,EAAJA;AAHU,SAAZ;AAKA;;AACF,WAAKsH,UAAL;AACE8J,cAAM,CAACysB,EAAP,GAAY;AACVhO,eAAK,EAALA,KADU;AAEVP,eAAK,EAALA,KAFU;AAGVtvB,cAAI,EAAEA,IAAI,CAACyoB;AAHD,SAAZ;AAKA;;AACF,WAAKb,aAAL;AACA,WAAKI,mBAAL;AACE5W,cAAM,CAACysB,EAAP,GAAY;AACVhO,eAAK,EAALA,KADU;AAEVP,eAAK,EAALA,KAFU;AAGVtvB,cAAI,EACFkH,WAAW,IAAI,IAAf,IAAuBA,WAAW,CAAClH,IAAZ,IAAoB,IAA3C,GACIkH,WAAW,CAAClH,IADhB,GAEIA;AANI,SAAZ;AAQA;;AACF;AACEoR,cAAM,CAACysB,EAAP,GAAY,IAAZ;AACA;AAjCJ;AAmCD;;AAED,WAASC,aAAT,CACE37B,EADF,EAEE+C,IAFF,EAGEwmB,KAHF,EAIQ;AACN,QAAI+O,8BAA8B,CAACt4B,EAAD,CAAlC,EAAwC;AACtC,UAAMc,KAAK,GAAG+B,oCAAW,CACrBkmB,4BADqB,EAEvBhmB,IAFuB,CAAzB;AAIA,UAAMvF,GAAG,uBAAgB+rB,KAAhB,CAAT;AAEA3f,YAAM,CAACpM,GAAD,CAAN,GAAcsD,KAAd;AAEAH,aAAO,CAACC,GAAR,CAAYpD,GAAZ;AACAmD,aAAO,CAACC,GAAR,CAAYE,KAAZ;AACD;AACF;;AAED,WAAS86B,eAAT,CAAyB57B,EAAzB,EAAqC+C,IAArC,EAAyE;AACvE,QAAIu1B,8BAA8B,CAACt4B,EAAD,CAAlC,EAAwC;AACtCuJ,sDAAe,CACb1G,oCAAW,CACPkmB,4BADO,EAEThmB,IAFS,CADE,CAAf;AAMD;AACF;;AAED,WAAS84B,cAAT,CACEC,SADF,EAEE97B,EAFF,EAGE+C,IAHF,EAI2B;AACzB,QAAIA,IAAI,KAAK,IAAb,EAAmB;AACjBs4B,yBAAmB,CAACt4B,IAAD,CAAnB;AACD;;AAED,QAAIu1B,8BAA8B,CAACt4B,EAAD,CAAlC,EAAwC;AACtC,UAAI,CAACgpB,mCAAL,EAA0C;AACxC,YAAIjmB,IAAI,KAAK,IAAb,EAAmB;AACjB,cAAIw4B,iBAAiB,GAAG,IAAxB;;AACA,cAAIx4B,IAAI,CAAC,CAAD,CAAJ,KAAY,OAAhB,EAAyB;AACvBw4B,6BAAiB,GAAG,OAApB;AACD,WAJgB,CAMjB;AACA;;;AACA,iBAAO;AACLv7B,cAAE,EAAFA,EADK;AAEL+7B,sBAAU,EAAED,SAFP;AAGLj+B,gBAAI,EAAE,eAHD;AAILkF,gBAAI,EAAJA,IAJK;AAKLjC,iBAAK,EAAEiI,+CAAc,CACnBlG,oCAAW,CACPkmB,4BADO,EAEThmB,IAFS,CADQ,EAKnBu4B,mBAAmB,CAAC,IAAD,EAAOC,iBAAP,CALA,EAMnBx4B,IANmB;AALhB,WAAP;AAcD,SAtBD,MAsBO;AACL;AACA;AACA,iBAAO;AACL/C,cAAE,EAAFA,EADK;AAEL+7B,sBAAU,EAAED,SAFP;AAGLj+B,gBAAI,EAAE;AAHD,WAAP;AAKD;AACF;AACF,KAlCD,MAkCO;AACLs9B,6BAAuB,GAAG,EAA1B;AACD;;AAEDnS,uCAAmC,GAAG,KAAtC;AAEAD,gCAA4B,GAAGoQ,iBAAiB,CAACn5B,EAAD,CAAhD;;AACA,QAAI+oB,4BAA4B,KAAK,IAArC,EAA2C;AACzC,aAAO;AACL/oB,UAAE,EAAFA,EADK;AAEL+7B,kBAAU,EAAED,SAFP;AAGLj+B,YAAI,EAAE;AAHD,OAAP;AAKD,KApDwB,CAsDzB;AACA;AACA;;;AACA29B,yBAAqB,CAACzS,4BAAD,CAArB,CAzDyB,CA2DzB;AACA;AACA;;AACA,QAAMiT,uBAAuB,qBAAOjT,4BAAP,CAA7B;;AACAiT,2BAAuB,CAACpV,OAAxB,GAAkC7d,+CAAc,CAC9CizB,uBAAuB,CAACpV,OADsB,EAE9C0U,mBAAmB,CAAC,SAAD,EAAY,IAAZ,CAF2B,CAAhD;AAIAU,2BAAuB,CAACtO,KAAxB,GAAgC3kB,+CAAc,CAC5CizB,uBAAuB,CAACtO,KADoB,EAE5C4N,mBAAmB,CAAC,OAAD,EAAU,OAAV,CAFyB,CAA9C;AAIAU,2BAAuB,CAAC7O,KAAxB,GAAgCpkB,+CAAc,CAC5CizB,uBAAuB,CAAC7O,KADoB,EAE5CmO,mBAAmB,CAAC,OAAD,EAAU,IAAV,CAFyB,CAA9C;AAIAU,2BAAuB,CAAC5O,KAAxB,GAAgCrkB,+CAAc,CAC5CizB,uBAAuB,CAAC5O,KADoB,EAE5CkO,mBAAmB,CAAC,OAAD,EAAU,IAAV,CAFyB,CAA9C;AAKA,WAAO;AACLt7B,QAAE,EAAFA,EADK;AAEL+7B,gBAAU,EAAED,SAFP;AAGLj+B,UAAI,EAAE,WAHD;AAILiD,WAAK,EAAEk7B;AAJF,KAAP;AAMD;;AAED,WAASC,mBAAT,CAA6Bj8B,EAA7B,EAAiC;AAC/B,QAAM4b,MAAM,GAAGwf,qCAAqC,CAACp7B,EAAD,CAArC,GACX+oB,4BADW,GAEXoQ,iBAAiB,CAACn5B,EAAD,CAFrB;;AAGA,QAAI4b,MAAM,KAAK,IAAf,EAAqB;AACnBjb,aAAO,CAACoqB,IAAR,0CAA8C/qB,EAA9C;AACA;AACD;;AAED,QAAMk8B,aAAa,GAAG,OAAOv7B,OAAO,CAACypB,cAAf,KAAkC,UAAxD;;AACA,QAAI8R,aAAJ,EAAmB;AACjBv7B,aAAO,CAACypB,cAAR,gCAC0BxO,MAAM,CAAC3d,WAAP,IAAsB,WADhD,UAEE;AACA,8DAHF;AAKD;;AACD,QAAI2d,MAAM,CAACuR,KAAP,KAAiB,IAArB,EAA2B;AACzBxsB,aAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBgb,MAAM,CAACuR,KAA7B;AACD;;AACD,QAAIvR,MAAM,CAACwR,KAAP,KAAiB,IAArB,EAA2B;AACzBzsB,aAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBgb,MAAM,CAACwR,KAA7B;AACD;;AACD,QAAIxR,MAAM,CAAC8R,KAAP,KAAiB,IAArB,EAA2B;AACzB/sB,aAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBgb,MAAM,CAAC8R,KAA7B;AACD;;AACD,QAAMyO,WAAW,GAAG9E,yBAAyB,CAACr3B,EAAD,CAA7C;;AACA,QAAIm8B,WAAW,KAAK,IAApB,EAA0B;AACxBx7B,aAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBu7B,WAAtB;AACD;;AACD,QAAIvgB,MAAM,CAAC7N,MAAP,KAAkB,IAAtB,EAA4B;AAC1BpN,aAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBgb,MAAM,CAAC7N,MAAhC;AACD;;AACD,QAAInE,MAAM,CAACwyB,MAAP,IAAiB,WAAW3tB,IAAX,CAAgB4tB,SAAS,CAACC,SAA1B,CAArB,EAA2D;AACzD37B,aAAO,CAACC,GAAR,CACE,+EADF;AAGD;;AACD,QAAIs7B,aAAJ,EAAmB;AACjBv7B,aAAO,CAAC2pB,QAAR;AACD;AACF;;AAED,WAASiS,UAAT,CACE1+B,IADF,EAEEmC,EAFF,EAGEw8B,MAHF,EAIEz5B,IAJF,EAKQ;AACN,QAAM0gB,KAAK,GAAG2T,iCAAiC,CAACp3B,EAAD,CAA/C;;AACA,QAAIyjB,KAAK,KAAK,IAAd,EAAoB;AAClB,UAAMyK,QAAQ,GAAGzK,KAAK,CAAC5Y,SAAvB;;AAEA,cAAQhN,IAAR;AACE,aAAK,SAAL;AACE;AACA;AACA;AACAkF,cAAI,GAAGA,IAAI,CAAClD,KAAL,CAAW,CAAX,CAAP;;AAEA,kBAAQ4jB,KAAK,CAAC+C,GAAd;AACE,iBAAK5B,cAAL;AACE,kBAAI7hB,IAAI,CAAC/D,MAAL,KAAgB,CAApB,EAAuB,CACrB;AACD,eAFD,MAEO;AACLsE,2DAAkB,CAAC4qB,QAAQ,CAACtH,OAAV,EAAmB7jB,IAAnB,CAAlB;AACD;;AACDmrB,sBAAQ,CAACuO,WAAT;AACA;;AACF,iBAAKzX,iBAAL;AACE;AACA;AACA;AAZJ;;AAcA;;AACF,aAAK,OAAL;AACE,cAAI,OAAOkC,2BAAP,KAAuC,UAA3C,EAAuD;AACrDA,uCAA2B,CAACzD,KAAD,EAAU+Y,MAAV,EAAiCz5B,IAAjC,CAA3B;AACD;;AACD;;AACF,aAAK,OAAL;AACE,cAAImrB,QAAQ,KAAK,IAAjB,EAAuB;AACrB,gBAAI,OAAO7G,uBAAP,KAAmC,UAAvC,EAAmD;AACjDA,qCAAuB,CAAC5D,KAAD,EAAQ1gB,IAAR,CAAvB;AACD;AACF,WAJD,MAIO;AACL0gB,iBAAK,CAACiZ,YAAN,GAAqBzyB,+CAAc,CAACikB,QAAQ,CAACf,KAAV,EAAiBpqB,IAAjB,CAAnC;AACAmrB,oBAAQ,CAACuO,WAAT;AACD;;AACD;;AACF,aAAK,OAAL;AACEn5B,qDAAkB,CAAC4qB,QAAQ,CAACd,KAAV,EAAiBrqB,IAAjB,CAAlB;AACAmrB,kBAAQ,CAACuO,WAAT;AACA;AAxCJ;AA0CD;AACF;;AAED,WAASE,UAAT,CACE9+B,IADF,EAEEmC,EAFF,EAGEw8B,MAHF,EAIE54B,OAJF,EAKEC,OALF,EAMQ;AACN,QAAM4f,KAAK,GAAG2T,iCAAiC,CAACp3B,EAAD,CAA/C;;AACA,QAAIyjB,KAAK,KAAK,IAAd,EAAoB;AAClB,UAAMyK,QAAQ,GAAGzK,KAAK,CAAC5Y,SAAvB;;AAEA,cAAQhN,IAAR;AACE,aAAK,SAAL;AACE;AACA;AACA;AACA+F,iBAAO,GAAGA,OAAO,CAAC/D,KAAR,CAAc,CAAd,CAAV;AACAgE,iBAAO,GAAGA,OAAO,CAAChE,KAAR,CAAc,CAAd,CAAV;;AAEA,kBAAQ4jB,KAAK,CAAC+C,GAAd;AACE,iBAAK5B,cAAL;AACE,kBAAIhhB,OAAO,CAAC5E,MAAR,KAAmB,CAAvB,EAA0B,CACxB;AACD,eAFD,MAEO;AACL2E,2DAAkB,CAACuqB,QAAQ,CAACtH,OAAV,EAAmBhjB,OAAnB,EAA4BC,OAA5B,CAAlB;AACD;;AACDqqB,sBAAQ,CAACuO,WAAT;AACA;;AACF,iBAAKzX,iBAAL;AACE;AACA;AACA;AAZJ;;AAcA;;AACF,aAAK,OAAL;AACE,cAAI,OAAOmC,2BAAP,KAAuC,UAA3C,EAAuD;AACrDA,uCAA2B,CACzB1D,KADyB,EAEvB+Y,MAFuB,EAGzB54B,OAHyB,EAIzBC,OAJyB,CAA3B;AAMD;;AACD;;AACF,aAAK,OAAL;AACE,cAAIqqB,QAAQ,KAAK,IAAjB,EAAuB;AACrB,gBAAI,OAAO5G,uBAAP,KAAmC,UAAvC,EAAmD;AACjDA,qCAAuB,CAAC7D,KAAD,EAAQ7f,OAAR,EAAiBC,OAAjB,CAAvB;AACD;AACF,WAJD,MAIO;AACL4f,iBAAK,CAACiZ,YAAN,GAAqBtyB,+CAAc,CACjC8jB,QAAQ,CAACf,KADwB,EAEjCvpB,OAFiC,EAGjCC,OAHiC,CAAnC;AAKAqqB,oBAAQ,CAACuO,WAAT;AACD;;AACD;;AACF,aAAK,OAAL;AACE94B,qDAAkB,CAACuqB,QAAQ,CAACd,KAAV,EAAiBxpB,OAAjB,EAA0BC,OAA1B,CAAlB;AACAqqB,kBAAQ,CAACuO,WAAT;AACA;AAlDJ;AAoDD;AACF;;AAED,WAASG,mBAAT,CACE/+B,IADF,EAEEmC,EAFF,EAGEw8B,MAHF,EAIEz5B,IAJF,EAKEjC,KALF,EAMQ;AACN,QAAM2iB,KAAK,GAAG2T,iCAAiC,CAACp3B,EAAD,CAA/C;;AACA,QAAIyjB,KAAK,KAAK,IAAd,EAAoB;AAClB,UAAMyK,QAAQ,GAAGzK,KAAK,CAAC5Y,SAAvB;;AAEA,cAAQhN,IAAR;AACE,aAAK,SAAL;AACE;AACA;AACA;AACAkF,cAAI,GAAGA,IAAI,CAAClD,KAAL,CAAW,CAAX,CAAP;;AAEA,kBAAQ4jB,KAAK,CAAC+C,GAAd;AACE,iBAAK5B,cAAL;AACE,kBAAI7hB,IAAI,CAAC/D,MAAL,KAAgB,CAApB,EAAuB;AACrB;AACAkvB,wBAAQ,CAACtH,OAAT,GAAmB9lB,KAAnB;AACD,eAHD,MAGO;AACLkD,oDAAW,CAACkqB,QAAQ,CAACtH,OAAV,EAAmB7jB,IAAnB,EAAyBjC,KAAzB,CAAX;AACD;;AACDotB,sBAAQ,CAACuO,WAAT;AACA;;AACF,iBAAKzX,iBAAL;AACE;AACA;AACA;AAbJ;;AAeA;;AACF,aAAK,OAAL;AACE,cAAI,OAAOiC,iBAAP,KAA6B,UAAjC,EAA6C;AAC3CA,6BAAiB,CAACxD,KAAD,EAAU+Y,MAAV,EAAiCz5B,IAAjC,EAAuCjC,KAAvC,CAAjB;AACD;;AACD;;AACF,aAAK,OAAL;AACE,kBAAQ2iB,KAAK,CAAC+C,GAAd;AACE,iBAAK5B,cAAL;AACEnB,mBAAK,CAACiZ,YAAN,GAAqBnyB,4CAAW,CAAC2jB,QAAQ,CAACf,KAAV,EAAiBpqB,IAAjB,EAAuBjC,KAAvB,CAAhC;AACAotB,sBAAQ,CAACuO,WAAT;AACA;;AACF;AACE,kBAAI,OAAOrV,aAAP,KAAyB,UAA7B,EAAyC;AACvCA,6BAAa,CAAC3D,KAAD,EAAQ1gB,IAAR,EAAcjC,KAAd,CAAb;AACD;;AACD;AATJ;;AAWA;;AACF,aAAK,OAAL;AACE,kBAAQ2iB,KAAK,CAAC+C,GAAd;AACE,iBAAK5B,cAAL;AACE5gB,kDAAW,CAACkqB,QAAQ,CAACd,KAAV,EAAiBrqB,IAAjB,EAAuBjC,KAAvB,CAAX;AACAotB,sBAAQ,CAACuO,WAAT;AACA;AAJJ;;AAMA;AAhDJ;AAkDD;AACF;;AAgBD,MAAIvI,8BAA0D,GAAG,IAAjE;AACA,MAAInC,oBAAiD,GAAG,IAAxD;AACA,MAAInE,eAAwC,GAAG,IAA/C;AACA,MAAIiP,2BAAuD,GAAG,IAA9D;AACA,MAAIC,kBAA8C,GAAG,IAArD;AACA,MAAI5R,WAAoB,GAAG,KAA3B;AACA,MAAIkL,kBAA0B,GAAG,CAAjC;AACA,MAAI/B,wBAAiC,GAAG,KAAxC;AACA,MAAI6C,gCAAmE,GAAG,IAA1E;;AAEA,WAAS6F,gBAAT,GAAkD;AAChD,QAAMC,YAAgD,GAAG,EAAzD;;AAEA,QAAI9F,gCAAgC,KAAK,IAAzC,EAA+C;AAC7C,YAAMx2B,KAAK,CACT,kEADS,CAAX;AAGD;;AAEDw2B,oCAAgC,CAAC35B,OAAjC,CACE,UAAC05B,uBAAD,EAA0B33B,MAA1B,EAAqC;AACnC,UAAM29B,UAAoC,GAAG,EAA7C;AACA,UAAMC,wBAAiD,GAAG,EAA1D;AAEA,UAAMj/B,WAAW,GACd8zB,oBAAoB,KAAK,IAAzB,IAAiCA,oBAAoB,CAAC/zB,GAArB,CAAyBsB,MAAzB,CAAlC,IACA,SAFF;;AAIA,UAAIu9B,2BAA2B,IAAI,IAAnC,EAAyC;AACvCA,mCAA2B,CAACt/B,OAA5B,CAAoC,UAACs2B,gBAAD,EAAmB7zB,EAAnB,EAA0B;AAC5D,cACE88B,kBAAkB,IAAI,IAAtB,IACAA,kBAAkB,CAAC9+B,GAAnB,CAAuBgC,EAAvB,MAA+BV,MAFjC,EAGE;AACA;AACA;AACA49B,oCAAwB,CAACp9B,IAAzB,CAA8B,CAACE,EAAD,EAAK6zB,gBAAL,CAA9B;AACD;AACF,SATD;AAUD;;AAEDoD,6BAAuB,CAAC15B,OAAxB,CAAgC,UAAC4/B,mBAAD,EAAsBC,WAAtB,EAAsC;AAAA,YAElE7I,kBAFkE,GAUhE4I,mBAVgE,CAElE5I,kBAFkE;AAAA,YAGlEJ,SAHkE,GAUhEgJ,mBAVgE,CAGlEhJ,SAHkE;AAAA,YAIlEzpB,cAJkE,GAUhEyyB,mBAVgE,CAIlEzyB,cAJkE;AAAA,YAKlE0pB,iBALkE,GAUhE+I,mBAVgE,CAKlE/I,iBALkE;AAAA,YAMlEzpB,qBANkE,GAUhEwyB,mBAVgE,CAMlExyB,qBANkE;AAAA,YAOlE0rB,aAPkE,GAUhE8G,mBAVgE,CAOlE9G,aAPkE;AAAA,YAQlEF,UARkE,GAUhEgH,mBAVgE,CAQlEhH,UARkE;AAAA,YASlEG,QATkE,GAUhE6G,mBAVgE,CASlE7G,QATkE;AAYpE,YAAM+G,oBAA6C,GAAG,EAAtD;AACA,YAAMC,kBAA2C,GAAG,EAApD;;AACA,aAAK,IAAIr+B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGk1B,SAAS,CAACn1B,MAA9B,EAAsCC,CAAC,IAAI,CAA3C,EAA8C;AAC5C,cAAMwpB,OAAO,GAAG0L,SAAS,CAACl1B,CAAD,CAAzB;AACAo+B,8BAAoB,CAACv9B,IAArB,CAA0B,CAAC2oB,OAAD,EAAU0L,SAAS,CAACl1B,CAAC,GAAG,CAAL,CAAnB,CAA1B;AACAq+B,4BAAkB,CAACx9B,IAAnB,CAAwB,CAAC2oB,OAAD,EAAU0L,SAAS,CAACl1B,CAAC,GAAG,CAAL,CAAnB,CAAxB;AACD;;AAEDg+B,kBAAU,CAACn9B,IAAX,CAAgB;AACdy0B,4BAAkB,EAChBA,kBAAkB,KAAK,IAAvB,GACIx1B,KAAK,CAACsE,IAAN,CAAWkxB,kBAAkB,CAACyG,OAAnB,EAAX,CADJ,GAEI,IAJQ;AAKduC,kBAAQ,EAAEnJ,iBALI;AAMd1pB,wBAAc,EAAdA,cANc;AAOd2yB,8BAAoB,EAApBA,oBAPc;AAQdC,4BAAkB,EAAlBA,kBARc;AASd3yB,+BAAqB,EAArBA,qBATc;AAUd0rB,uBAAa,EAAbA,aAVc;AAWdmH,mBAAS,EAAErH,UAXG;AAYdG,kBAAQ,EAARA;AAZc,SAAhB;AAcD,OAlCD;AAoCA0G,kBAAY,CAACl9B,IAAb,CAAkB;AAChBm9B,kBAAU,EAAVA,UADgB;AAEhBh/B,mBAAW,EAAXA,WAFgB;AAGhBi/B,gCAAwB,EAAxBA,wBAHgB;AAIhB59B,cAAM,EAANA;AAJgB,OAAlB;AAMD,KAhEH;AAmEA,WAAO;AACL09B,kBAAY,EAAZA,YADK;AAEL39B,gBAAU,EAAVA;AAFK,KAAP;AAID;;AAED,WAASo+B,cAAT,CAAwBC,8BAAxB,EAAiE;AAC/D,QAAIxS,WAAJ,EAAiB;AACf;AACD;;AAEDmJ,4BAAwB,GAAGqJ,8BAA3B,CAL+D,CAO/D;AACA;AACA;AACA;;AACA3L,wBAAoB,GAAG,IAAIpjB,GAAJ,EAAvB;AACAkuB,+BAA2B,GAAG,IAAIluB,GAAJ,CAAQud,uBAAR,CAA9B;AACA4Q,sBAAkB,GAAG,IAAInuB,GAAJ,CAAQwd,WAAR,CAArB;AACAyB,mBAAe,GAAG,IAAIjf,GAAJ,EAAlB;AAEAoY,QAAI,CAACoE,aAAL,CAAmB9rB,UAAnB,EAA+B9B,OAA/B,CAAuC,UAAAkN,IAAI,EAAI;AAC7C,UAAMnL,MAAM,GAAGktB,gBAAgB,CAAC/hB,IAAI,CAACxN,OAAN,CAA/B;AACE80B,0BAAF,CAAoD5zB,GAApD,CACEmB,MADF,EAEE0yB,qBAAqB,CAACvnB,IAAI,CAACxN,OAAN,CAFvB;;AAKA,UAAIygC,8BAAJ,EAAoC;AAClC;AACA;AACA;AACApP,oCAA4B,CAAC7jB,IAAI,CAACxN,OAAN,CAA5B;AACD;AACF,KAbD;AAeAiuB,eAAW,GAAG,IAAd;AACAkL,sBAAkB,GAAGxS,cAAc,EAAnC;AACAsT,oCAAgC,GAAG,IAAIvoB,GAAJ,EAAnC;AACD;;AAED,WAASgvB,aAAT,GAAyB;AACvBzS,eAAW,GAAG,KAAd;AACAmJ,4BAAwB,GAAG,KAA3B;AACD,GAlyGkB,CAoyGnB;;;AACA,MACEhoB,gDAAqB,CAAC7T,2DAAD,CAArB,KAAkE,MADpE,EAEE;AACAilC,kBAAc,CACZpxB,gDAAqB,CAAC9T,mEAAD,CAArB,KACE,MAFU,CAAd;AAID,GA5yGkB,CA8yGnB;AACA;;;AACA,WAASs0B,0BAAT,GAAsC;AACpC,WAAO,IAAP;AACD,GAlzGkB,CAozGnB;AACA;;;AACA,MAAM1D,qBAAqB,GAAG,IAAIxa,GAAJ,EAA9B;;AAEA,WAASivB,8BAAT,CAAwCna,KAAxC,EAA+C;AAC7C,QAAI,OAAO+D,eAAP,KAA2B,UAA/B,EAA2C;AACzC,YAAM,IAAI9mB,KAAJ,CACJ,wEADI,CAAN;AAGD;;AAED,QAAMV,EAAE,GAAGkpB,gBAAgB,CAACzF,KAAD,CAA3B;;AACA,QAAIzjB,EAAE,KAAK,IAAX,EAAiB;AACf,aAAO,IAAP;AACD;;AAED,QAAI69B,MAAM,GAAG,IAAb;;AACA,QAAI1U,qBAAqB,CAACpe,GAAtB,CAA0B/K,EAA1B,CAAJ,EAAmC;AACjC69B,YAAM,GAAG1U,qBAAqB,CAACnrB,GAAtB,CAA0BgC,EAA1B,CAAT;;AACA,UAAI69B,MAAM,KAAK,KAAf,EAAsB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA1U,6BAAqB,CAACP,MAAtB,CAA6B5oB,EAA7B;;AAEA,YAAImpB,qBAAqB,CAAC1iB,IAAtB,KAA+B,CAAnC,EAAsC;AACpC;AACA+gB,yBAAe,CAACqF,0BAAD,CAAf;AACD;AACF;AACF;;AACD,WAAOgR,MAAP;AACD;;AAED,WAASC,aAAT,CAAuB99B,EAAvB,EAA2B+9B,UAA3B,EAAuC;AACrC,QACE,OAAOvW,eAAP,KAA2B,UAA3B,IACA,OAAOE,cAAP,KAA0B,UAF5B,EAGE;AACA,YAAM,IAAIhnB,KAAJ,CACJ,wEADI,CAAN;AAGD;;AAEDyoB,yBAAqB,CAAChrB,GAAtB,CAA0B6B,EAA1B,EAA8B+9B,UAA9B;;AAEA,QAAI5U,qBAAqB,CAAC1iB,IAAtB,KAA+B,CAAnC,EAAsC;AACpC;AACA+gB,qBAAe,CAACoW,8BAAD,CAAf;AACD;;AAED,QAAMna,KAAK,GAAG2E,qBAAqB,CAACpqB,GAAtB,CAA0BgC,EAA1B,CAAd;;AACA,QAAIyjB,KAAK,IAAI,IAAb,EAAmB;AACjBiE,oBAAc,CAACjE,KAAD,CAAd;AACD;AACF;;AAED,WAASua,6BAAT,GAAyC;AACvC,WAAO,KAAP;AACD;;AAED,MAAMjD,2BAA2B,GAAG,IAAI/9B,GAAJ,EAApC;;AAEA,WAASihC,gCAAT,CAA0Cxa,KAA1C,EAAiD;AAC/C,QAAMwF,OAAO,GAAGC,gBAAgB,CAAGzF,KAAH,CAAhC;AACA,WAAOwF,OAAO,KAAK,IAAZ,IAAoB8R,2BAA2B,CAAChwB,GAA5B,CAAgCke,OAAhC,CAA3B;AACD;;AAED,WAASiV,gBAAT,CAA0Bl+B,EAA1B,EAA8Bm+B,aAA9B,EAA6C;AAC3C,QACE,OAAO1W,kBAAP,KAA8B,UAA9B,IACA,OAAOC,cAAP,KAA0B,UAF5B,EAGE;AACA,YAAM,IAAIhnB,KAAJ,CACJ,2EADI,CAAN;AAGD;;AACD,QAAIy9B,aAAJ,EAAmB;AACjBpD,iCAA2B,CAACr9B,GAA5B,CAAgCsC,EAAhC;;AACA,UAAI+6B,2BAA2B,CAACt0B,IAA5B,KAAqC,CAAzC,EAA4C;AAC1C;AACAghB,0BAAkB,CAACwW,gCAAD,CAAlB;AACD;AACF,KAND,MAMO;AACLlD,iCAA2B,CAACnS,MAA5B,CAAmC5oB,EAAnC;;AACA,UAAI+6B,2BAA2B,CAACt0B,IAA5B,KAAqC,CAAzC,EAA4C;AAC1C;AACAghB,0BAAkB,CAACuW,6BAAD,CAAlB;AACD;AACF;;AACD,QAAMva,KAAK,GAAG2E,qBAAqB,CAACpqB,GAAtB,CAA0BgC,EAA1B,CAAd;;AACA,QAAIyjB,KAAK,IAAI,IAAb,EAAmB;AACjBiE,oBAAc,CAACjE,KAAD,CAAd;AACD;AACF,GAx5GkB,CA05GnB;AACA;;;AACA,MAAIwS,WAAoC,GAAG,IAA3C;AACA,MAAIzD,qBAAmC,GAAG,IAA1C;AACA,MAAI4L,qBAAqB,GAAG,CAAC,CAA7B;AACA,MAAIlI,oBAAoB,GAAG,KAA3B;;AAEA,WAASzD,cAAT,CAAwB1vB,IAAxB,EAAuD;AACrD,QAAIA,IAAI,KAAK,IAAb,EAAmB;AACjByvB,2BAAqB,GAAG,IAAxB;AACA4L,2BAAqB,GAAG,CAAC,CAAzB;AACAlI,0BAAoB,GAAG,KAAvB;AACD;;AACDD,eAAW,GAAGlzB,IAAd;AACD,GAx6GkB,CA06GnB;AACA;AACA;;;AACA,WAASiwB,iCAAT,CAA2CvP,KAA3C,EAAkE;AAChE,QAAIwS,WAAW,KAAK,IAAhB,IAAwB,CAACC,oBAA7B,EAAmD;AACjD;AACA,aAAO,KAAP;AACD;;AACD,QAAMmI,WAAW,GAAG5a,KAAK,CAAC8I,MAA1B;AACA,QAAM+R,eAAe,GAAGD,WAAW,KAAK,IAAhB,GAAuBA,WAAW,CAACjS,SAAnC,GAA+C,IAAvE,CANgE,CAOhE;AACA;AACA;;AACA,QACEoG,qBAAqB,KAAK6L,WAA1B,IACC7L,qBAAqB,KAAK8L,eAA1B,IAA6CA,eAAe,KAAK,IAFpE,EAGE;AACA;AACA,UAAMC,WAAW,GAAGC,YAAY,CAAC/a,KAAD,CAAhC;AACA,UAAMgb,aAAa,GAAGxI,WAAW,CAACmI,qBAAqB,GAAG,CAAzB,CAAjC;;AACA,UAAIK,aAAa,KAAK5/B,SAAtB,EAAiC;AAC/B,cAAM,IAAI6B,KAAJ,CAAU,4CAAV,CAAN;AACD;;AACD,UACE69B,WAAW,CAACr0B,KAAZ,KAAsBu0B,aAAa,CAACv0B,KAApC,IACAq0B,WAAW,CAAC/gC,GAAZ,KAAoBihC,aAAa,CAACjhC,GADlC,IAEA+gC,WAAW,CAACtgC,WAAZ,KAA4BwgC,aAAa,CAACxgC,WAH5C,EAIE;AACA;AACAu0B,6BAAqB,GAAG/O,KAAxB;AACA2a,6BAAqB,GAHrB,CAIA;;AACA,YAAIA,qBAAqB,KAAKnI,WAAW,CAACj3B,MAAZ,GAAqB,CAAnD,EAAsD;AACpD;AACA;AACAk3B,8BAAoB,GAAG,KAAvB;AACD,SAJD,MAIO;AACL;AACAA,8BAAoB,GAAG,IAAvB;AACD,SAZD,CAaA;AACA;;;AACA,eAAO,KAAP;AACD;AACF,KAzC+D,CA0ChE;AACA;;;AACAA,wBAAoB,GAAG,KAAvB,CA5CgE,CA6ChE;;AACA,WAAO,IAAP;AACD;;AAED,WAASzC,gCAAT,CAA0CV,4BAA1C,EAAwE;AACtE;AACA;AACAmD,wBAAoB,GAAGnD,4BAAvB;AACD,GAl+GkB,CAo+GnB;AACA;AACA;AACA;;;AACA,MAAM2L,cAAmC,GAAG,IAAI/vB,GAAJ,EAA5C;AACA,MAAM4c,sBAA2C,GAAG,IAAI5c,GAAJ,EAApD;;AAEA,WAAS6c,gBAAT,CAA0BxrB,EAA1B,EAAsCyjB,KAAtC,EAAoD;AAClD,QAAMvlB,IAAI,GAAG8zB,qBAAqB,CAACvO,KAAD,CAAlC;AACA,QAAMkb,OAAO,GAAGpT,sBAAsB,CAACvtB,GAAvB,CAA2BE,IAA3B,KAAoC,CAApD;AACAqtB,0BAAsB,CAACptB,GAAvB,CAA2BD,IAA3B,EAAiCygC,OAAO,GAAG,CAA3C;AACA,QAAMC,SAAS,aAAM1gC,IAAN,cAAcygC,OAAd,CAAf;AACAD,kBAAc,CAACvgC,GAAf,CAAmB6B,EAAnB,EAAuB4+B,SAAvB;AACD;;AAED,WAAS5H,mBAAT,CAA6Bh3B,EAA7B,EAAyC;AACvC,QAAM4+B,SAAS,GAAGF,cAAc,CAAC1gC,GAAf,CAAmBgC,EAAnB,CAAlB;;AACA,QAAI4+B,SAAS,KAAK//B,SAAlB,EAA6B;AAC3B,YAAM,IAAI6B,KAAJ,CAAU,uCAAV,CAAN;AACD;;AACD,QAAMxC,IAAI,GAAG0gC,SAAS,CAACC,SAAV,CAAoB,CAApB,EAAuBD,SAAS,CAACE,WAAV,CAAsB,GAAtB,CAAvB,CAAb;AACA,QAAMH,OAAO,GAAGpT,sBAAsB,CAACvtB,GAAvB,CAA2BE,IAA3B,CAAhB;;AACA,QAAIygC,OAAO,KAAK9/B,SAAhB,EAA2B;AACzB,YAAM,IAAI6B,KAAJ,CAAU,+BAAV,CAAN;AACD;;AACD,QAAIi+B,OAAO,GAAG,CAAd,EAAiB;AACfpT,4BAAsB,CAACptB,GAAvB,CAA2BD,IAA3B,EAAiCygC,OAAO,GAAG,CAA3C;AACD,KAFD,MAEO;AACLpT,4BAAsB,CAAC3C,MAAvB,CAA8B1qB,IAA9B;AACD;;AACDwgC,kBAAc,CAAC9V,MAAf,CAAsB5oB,EAAtB;AACD;;AAED,WAASgyB,qBAAT,CAA+BvO,KAA/B,EAAqD;AACnD,QAAIsb,oBAAoB,GAAG,IAA3B;AACA,QAAIC,mBAAmB,GAAG,IAA1B;AACA,QAAIzQ,KAAK,GAAG9K,KAAK,CAAC8K,KAAlB,CAHmD,CAInD;AACA;;AACA,SAAK,IAAItvB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC1B,UAAIsvB,KAAK,KAAK,IAAd,EAAoB;AAClB;AACD;;AACD,UAAMtwB,WAAW,GAAGsoB,sBAAsB,CAACgI,KAAD,CAA1C;;AACA,UAAItwB,WAAW,KAAK,IAApB,EAA0B;AACxB;AACA;AACA,YAAI,OAAOswB,KAAK,CAAC1wB,IAAb,KAAsB,UAA1B,EAAsC;AACpC;AACA;AACAkhC,8BAAoB,GAAG9gC,WAAvB;AACD,SAJD,MAIO,IAAI+gC,mBAAmB,KAAK,IAA5B,EAAkC;AACvCA,6BAAmB,GAAG/gC,WAAtB;AACD;AACF;;AACD,UAAI8gC,oBAAoB,KAAK,IAA7B,EAAmC;AACjC;AACD;;AACDxQ,WAAK,GAAGA,KAAK,CAACA,KAAd;AACD;;AACD,WAAOwQ,oBAAoB,IAAIC,mBAAxB,IAA+C,WAAtD;AACD;;AAED,WAASR,YAAT,CAAsB/a,KAAtB,EAA+C;AAAA,QACtCjmB,GADsC,GAC/BimB,KAD+B,CACtCjmB,GADsC;AAE7C,QAAIS,WAAW,GAAGsoB,sBAAsB,CAAC9C,KAAD,CAAxC;AACA,QAAMvZ,KAAK,GAAGuZ,KAAK,CAACvZ,KAApB;;AACA,YAAQuZ,KAAK,CAAC+C,GAAd;AACE,WAAKrB,QAAL;AACE;AACA;AACA,YAAMnlB,EAAE,GAAGwsB,gBAAgB,CAAC/I,KAAD,CAA3B;AACA,YAAMmb,SAAS,GAAGF,cAAc,CAAC1gC,GAAf,CAAmBgC,EAAnB,CAAlB;;AACA,YAAI4+B,SAAS,KAAK//B,SAAlB,EAA6B;AAC3B,gBAAM,IAAI6B,KAAJ,CAAU,iDAAV,CAAN;AACD;;AACDzC,mBAAW,GAAG2gC,SAAd;AACA;;AACF,WAAK3Z,aAAL;AACEhnB,mBAAW,GAAGwlB,KAAK,CAAC5lB,IAApB;AACA;;AACF;AACE;AAfJ;;AAiBA,WAAO;AACLI,iBAAW,EAAXA,WADK;AAELT,SAAG,EAAHA,GAFK;AAGL0M,WAAK,EAALA;AAHK,KAAP;AAKD,GA7jHkB,CA+jHnB;AACA;AACA;AACA;;;AACA,WAAS+0B,iBAAT,CAA2Bj/B,EAA3B,EAAgE;AAC9D,QAAIyjB,KAAK,GAAG2E,qBAAqB,CAACpqB,GAAtB,CAA0BgC,EAA1B,CAAZ;;AACA,QAAIyjB,KAAK,IAAI,IAAb,EAAmB;AACjB,aAAO,IAAP;AACD;;AACD,QAAMyb,OAAO,GAAG,EAAhB;;AACA,WAAOzb,KAAK,KAAK,IAAjB,EAAuB;AACrByb,aAAO,CAACp/B,IAAR,CAAa0+B,YAAY,CAAC/a,KAAD,CAAzB;AACAA,WAAK,GAAGA,KAAK,CAAC8I,MAAd;AACD;;AACD2S,WAAO,CAACC,OAAR;AACA,WAAOD,OAAP;AACD;;AAED,WAASE,0BAAT,GAAwD;AACtD,QAAInJ,WAAW,KAAK,IAApB,EAA0B;AACxB;AACA,aAAO,IAAP;AACD;;AACD,QAAIzD,qBAAqB,KAAK,IAA9B,EAAoC;AAClC;AACA,aAAO,IAAP;AACD,KARqD,CAStD;;;AACA,QAAI/O,KAAK,GAAG+O,qBAAZ;;AACA,WAAO/O,KAAK,KAAK,IAAV,IAAkBkI,iBAAiB,CAAClI,KAAD,CAA1C,EAAmD;AACjDA,WAAK,GAAGA,KAAK,CAAC8I,MAAd;AACD;;AACD,QAAI9I,KAAK,KAAK,IAAd,EAAoB;AAClB,aAAO,IAAP;AACD;;AACD,WAAO;AACLzjB,QAAE,EAAEwsB,gBAAgB,CAAC/I,KAAD,CADf;AAEL4b,iBAAW,EAAEjB,qBAAqB,KAAKnI,WAAW,CAACj3B,MAAZ,GAAqB;AAFvD,KAAP;AAID;;AAED,MAAM63B,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACR,aAAD,EAA4B;AACtD,QAAIA,aAAa,IAAI,IAArB,EAA2B;AACzB,aAAO,SAAP;AACD;;AAED,YAAQA,aAAR;AACE,WAAKhS,iBAAL;AACE,eAAO,WAAP;;AACF,WAAKC,oBAAL;AACE,eAAO,eAAP;;AACF,WAAKC,cAAL;AACE,eAAO,QAAP;;AACF,WAAKC,WAAL;AACE,eAAO,KAAP;;AACF,WAAKC,YAAL;AACE,eAAO,MAAP;;AACF,WAAKC,UAAL;AACA;AACE,eAAO,SAAP;AAbJ;AAeD,GApBD;;AAsBA,WAAS4a,sBAAT,CAAgCv+B,SAAhC,EAA0D;AACxD2pB,uBAAmB,GAAG3pB,SAAtB;AACD;;AAED,SAAO;AACL60B,WAAO,EAAPA,OADK;AAELzN,0BAAsB,EAAtBA,sBAFK;AAGLU,yBAAqB,EAArBA,qBAHK;AAILC,2BAAuB,EAAvBA,uBAJK;AAKL8S,mBAAe,EAAfA,eALK;AAMLW,cAAU,EAAVA,UANK;AAOLlF,6BAAyB,EAAzBA,yBAPK;AAQLtB,0BAAsB,EAAtBA,sBARK;AASLqJ,8BAA0B,EAA1BA,0BATK;AAUL5H,4BAAwB,EAAxBA,wBAVK;AAWLC,uBAAmB,EAAnBA,mBAXK;AAYLoB,uBAAmB,EAAnBA,mBAZK;AAaLH,iBAAa,EAAbA,aAbK;AAcLuG,qBAAiB,EAAjBA,iBAdK;AAeLlC,oBAAgB,EAAhBA,gBAfK;AAgBLnG,yBAAqB,EAArBA,qBAhBK;AAiBLF,4BAAwB,EAAxBA,wBAjBK;AAkBLC,6BAAyB,EAAzBA,yBAlBK;AAmBLkF,kBAAc,EAAdA,cAnBK;AAoBLI,uBAAmB,EAAnBA,mBApBK;AAqBL5D,8BAA0B,EAA1BA,0BArBK;AAsBLG,4BAAwB,EAAxBA,wBAtBK;AAuBLsF,iBAAa,EAAbA,aAvBK;AAwBLI,oBAAgB,EAAhBA,gBAxBK;AAyBLtB,uBAAmB,EAAnBA,mBAzBK;AA0BLD,cAAU,EAAVA,UA1BK;AA2BLttB,YAAQ,EAARA,QA3BK;AA4BLiwB,0BAAsB,EAAtBA,sBA5BK;AA6BL7M,kBAAc,EAAdA,cA7BK;AA8BLgL,kBAAc,EAAdA,cA9BK;AA+BLE,iBAAa,EAAbA,aA/BK;AAgCLhC,iBAAa,EAAbA,aAhCK;AAiCL1Q,0BAAsB,EAAtBA;AAjCK,GAAP;AAmCD,C;;;;;;AClqID;AACA,IAAIxe,OAAO,GAAGC,MAAM,CAACC,OAAP,GAAiB,EAA/B,C,CAEA;AACA;AACA;AACA;;AAEA,IAAI4yB,gBAAJ;AACA,IAAIC,kBAAJ;;AAEA,SAASC,gBAAT,GAA4B;AACxB,QAAM,IAAI/+B,KAAJ,CAAU,iCAAV,CAAN;AACH;;AACD,SAASg/B,mBAAT,GAAgC;AAC5B,QAAM,IAAIh/B,KAAJ,CAAU,mCAAV,CAAN;AACH;;AACA,aAAY;AACT,MAAI;AACA,QAAI,OAAOwQ,UAAP,KAAsB,UAA1B,EAAsC;AAClCquB,sBAAgB,GAAGruB,UAAnB;AACH,KAFD,MAEO;AACHquB,sBAAgB,GAAGE,gBAAnB;AACH;AACJ,GAND,CAME,OAAO1f,CAAP,EAAU;AACRwf,oBAAgB,GAAGE,gBAAnB;AACH;;AACD,MAAI;AACA,QAAI,OAAO9c,YAAP,KAAwB,UAA5B,EAAwC;AACpC6c,wBAAkB,GAAG7c,YAArB;AACH,KAFD,MAEO;AACH6c,wBAAkB,GAAGE,mBAArB;AACH;AACJ,GAND,CAME,OAAO3f,CAAP,EAAU;AACRyf,sBAAkB,GAAGE,mBAArB;AACH;AACJ,CAnBA,GAAD;;AAoBA,SAASC,UAAT,CAAoBC,GAApB,EAAyB;AACrB,MAAIL,gBAAgB,KAAKruB,UAAzB,EAAqC;AACjC;AACA,WAAOA,UAAU,CAAC0uB,GAAD,EAAM,CAAN,CAAjB;AACH,GAJoB,CAKrB;;;AACA,MAAI,CAACL,gBAAgB,KAAKE,gBAArB,IAAyC,CAACF,gBAA3C,KAAgEruB,UAApE,EAAgF;AAC5EquB,oBAAgB,GAAGruB,UAAnB;AACA,WAAOA,UAAU,CAAC0uB,GAAD,EAAM,CAAN,CAAjB;AACH;;AACD,MAAI;AACA;AACA,WAAOL,gBAAgB,CAACK,GAAD,EAAM,CAAN,CAAvB;AACH,GAHD,CAGE,OAAM7f,CAAN,EAAQ;AACN,QAAI;AACA;AACA,aAAOwf,gBAAgB,CAACn8B,IAAjB,CAAsB,IAAtB,EAA4Bw8B,GAA5B,EAAiC,CAAjC,CAAP;AACH,KAHD,CAGE,OAAM7f,CAAN,EAAQ;AACN;AACA,aAAOwf,gBAAgB,CAACn8B,IAAjB,CAAsB,IAAtB,EAA4Bw8B,GAA5B,EAAiC,CAAjC,CAAP;AACH;AACJ;AAGJ;;AACD,SAASC,eAAT,CAAyBC,MAAzB,EAAiC;AAC7B,MAAIN,kBAAkB,KAAK7c,YAA3B,EAAyC;AACrC;AACA,WAAOA,YAAY,CAACmd,MAAD,CAAnB;AACH,GAJ4B,CAK7B;;;AACA,MAAI,CAACN,kBAAkB,KAAKE,mBAAvB,IAA8C,CAACF,kBAAhD,KAAuE7c,YAA3E,EAAyF;AACrF6c,sBAAkB,GAAG7c,YAArB;AACA,WAAOA,YAAY,CAACmd,MAAD,CAAnB;AACH;;AACD,MAAI;AACA;AACA,WAAON,kBAAkB,CAACM,MAAD,CAAzB;AACH,GAHD,CAGE,OAAO/f,CAAP,EAAS;AACP,QAAI;AACA;AACA,aAAOyf,kBAAkB,CAACp8B,IAAnB,CAAwB,IAAxB,EAA8B08B,MAA9B,CAAP;AACH,KAHD,CAGE,OAAO/f,CAAP,EAAS;AACP;AACA;AACA,aAAOyf,kBAAkB,CAACp8B,IAAnB,CAAwB,IAAxB,EAA8B08B,MAA9B,CAAP;AACH;AACJ;AAIJ;;AACD,IAAIC,KAAK,GAAG,EAAZ;AACA,IAAIC,QAAQ,GAAG,KAAf;AACA,IAAIC,YAAJ;AACA,IAAIC,UAAU,GAAG,CAAC,CAAlB;;AAEA,SAASC,eAAT,GAA2B;AACvB,MAAI,CAACH,QAAD,IAAa,CAACC,YAAlB,EAAgC;AAC5B;AACH;;AACDD,UAAQ,GAAG,KAAX;;AACA,MAAIC,YAAY,CAACjhC,MAAjB,EAAyB;AACrB+gC,SAAK,GAAGE,YAAY,CAAC/tB,MAAb,CAAoB6tB,KAApB,CAAR;AACH,GAFD,MAEO;AACHG,cAAU,GAAG,CAAC,CAAd;AACH;;AACD,MAAIH,KAAK,CAAC/gC,MAAV,EAAkB;AACdohC,cAAU;AACb;AACJ;;AAED,SAASA,UAAT,GAAsB;AAClB,MAAIJ,QAAJ,EAAc;AACV;AACH;;AACD,MAAIK,OAAO,GAAGV,UAAU,CAACQ,eAAD,CAAxB;AACAH,UAAQ,GAAG,IAAX;AAEA,MAAIM,GAAG,GAAGP,KAAK,CAAC/gC,MAAhB;;AACA,SAAMshC,GAAN,EAAW;AACPL,gBAAY,GAAGF,KAAf;AACAA,SAAK,GAAG,EAAR;;AACA,WAAO,EAAEG,UAAF,GAAeI,GAAtB,EAA2B;AACvB,UAAIL,YAAJ,EAAkB;AACdA,oBAAY,CAACC,UAAD,CAAZ,CAAyBK,GAAzB;AACH;AACJ;;AACDL,cAAU,GAAG,CAAC,CAAd;AACAI,OAAG,GAAGP,KAAK,CAAC/gC,MAAZ;AACH;;AACDihC,cAAY,GAAG,IAAf;AACAD,UAAQ,GAAG,KAAX;AACAH,iBAAe,CAACQ,OAAD,CAAf;AACH;;AAED5zB,OAAO,CAAC+zB,QAAR,GAAmB,UAAUZ,GAAV,EAAe;AAC9B,MAAIz0B,IAAI,GAAG,IAAIpM,KAAJ,CAAUoP,SAAS,CAACnP,MAAV,GAAmB,CAA7B,CAAX;;AACA,MAAImP,SAAS,CAACnP,MAAV,GAAmB,CAAvB,EAA0B;AACtB,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkP,SAAS,CAACnP,MAA9B,EAAsCC,CAAC,EAAvC,EAA2C;AACvCkM,UAAI,CAAClM,CAAC,GAAG,CAAL,CAAJ,GAAckP,SAAS,CAAClP,CAAD,CAAvB;AACH;AACJ;;AACD8gC,OAAK,CAACjgC,IAAN,CAAW,IAAI2gC,IAAJ,CAASb,GAAT,EAAcz0B,IAAd,CAAX;;AACA,MAAI40B,KAAK,CAAC/gC,MAAN,KAAiB,CAAjB,IAAsB,CAACghC,QAA3B,EAAqC;AACjCL,cAAU,CAACS,UAAD,CAAV;AACH;AACJ,CAXD,C,CAaA;;;AACA,SAASK,IAAT,CAAcb,GAAd,EAAmBrhC,KAAnB,EAA0B;AACtB,OAAKqhC,GAAL,GAAWA,GAAX;AACA,OAAKrhC,KAAL,GAAaA,KAAb;AACH;;AACDkiC,IAAI,CAAC77B,SAAL,CAAe27B,GAAf,GAAqB,YAAY;AAC7B,OAAKX,GAAL,CAAStsB,KAAT,CAAe,IAAf,EAAqB,KAAK/U,KAA1B;AACH,CAFD;;AAGAkO,OAAO,CAACi0B,KAAR,GAAgB,SAAhB;AACAj0B,OAAO,CAACk0B,OAAR,GAAkB,IAAlB;AACAl0B,OAAO,CAAC2G,GAAR,GAAc,EAAd;AACA3G,OAAO,CAACm0B,IAAR,GAAe,EAAf;AACAn0B,OAAO,CAACkD,OAAR,GAAkB,EAAlB,C,CAAsB;;AACtBlD,OAAO,CAACwR,QAAR,GAAmB,EAAnB;;AAEA,SAAS4iB,IAAT,GAAgB,CAAE;;AAElBp0B,OAAO,CAACq0B,EAAR,GAAaD,IAAb;AACAp0B,OAAO,CAACs0B,WAAR,GAAsBF,IAAtB;AACAp0B,OAAO,CAACu0B,IAAR,GAAeH,IAAf;AACAp0B,OAAO,CAACw0B,GAAR,GAAcJ,IAAd;AACAp0B,OAAO,CAACy0B,cAAR,GAAyBL,IAAzB;AACAp0B,OAAO,CAAC00B,kBAAR,GAA6BN,IAA7B;AACAp0B,OAAO,CAACob,IAAR,GAAegZ,IAAf;AACAp0B,OAAO,CAAC20B,eAAR,GAA0BP,IAA1B;AACAp0B,OAAO,CAAC40B,mBAAR,GAA8BR,IAA9B;;AAEAp0B,OAAO,CAAC60B,SAAR,GAAoB,UAAUpjC,IAAV,EAAgB;AAAE,SAAO,EAAP;AAAW,CAAjD;;AAEAuO,OAAO,CAAC80B,OAAR,GAAkB,UAAUrjC,IAAV,EAAgB;AAC9B,QAAM,IAAIwC,KAAJ,CAAU,kCAAV,CAAN;AACH,CAFD;;AAIA+L,OAAO,CAAC+0B,GAAR,GAAc,YAAY;AAAE,SAAO,GAAP;AAAY,CAAxC;;AACA/0B,OAAO,CAACg1B,KAAR,GAAgB,UAAUC,GAAV,EAAe;AAC3B,QAAM,IAAIhhC,KAAJ,CAAU,gCAAV,CAAN;AACH,CAFD;;AAGA+L,OAAO,CAACk1B,KAAR,GAAgB,YAAW;AAAE,SAAO,CAAP;AAAW,CAAxC,C;;;;;;;;ACvLA;AACC,WAASzjC,IAAT,EAAe0jC,UAAf,EAA2B;AACxB,MAAI,IAAJ,EAAmC;AAAEl1B,UAAM,CAACC,OAAP,GAAiBi1B,UAAU,EAA3B;AAAgC,GAArE,MACK,EAC8B;AACtC,CAJA,EAIC,WAJD,EAIc,YAAW;AACxB,MAAI,OAAO/1B,QAAP,KAAoB,WAApB,IAAmC,CAACA,QAAQ,CAACg2B,gBAAjD,EAAmE;AACjE,WAAO,IAAP;AACD;;AAED,MAAIC,SAAS,GAAG,EAAhB;;AAEAA,WAAS,CAAC93B,IAAV,GAAkB,YAAW;AAC3B,QAAI+3B,UAAU,GAAG,KAAjB;AACA,QAAIC,KAAK,GAAG,IAAZ,CAF2B,CAET;;AAClB,QAAIC,eAAe,GAAG,KAAtB;;AAEA,aAASrM,OAAT,GAAmB;AACjBmM,gBAAU,GAAG,KAAb;AACAC,WAAK,GAAG,IAAR;;AACA,UAAIC,eAAJ,EAAqB;AACnBr4B,cAAM,CAACs4B,YAAP,GAAsBC,eAAtB;AACD;;AACDF,qBAAe,GAAG,KAAlB;AACD;;AAEDp2B,YAAQ,CAACg2B,gBAAT,CAA0B,MAA1B,EAAkC,UAAS9hB,CAAT,EAAY;AAC5C,UAAIgiB,UAAJ,EAAgB;AACd,aAAK,IAAIvkC,GAAT,IAAgBwkC,KAAhB,EAAuB;AACrBjiB,WAAC,CAACqiB,aAAF,CAAgBC,OAAhB,CAAwB7kC,GAAxB,EAA6BwkC,KAAK,CAACxkC,GAAD,CAAlC;AACD;;AACDuiB,SAAC,CAACuiB,cAAF;AACD;AACF,KAPD,EAd2B,CAuB3B;;AACA,aAASC,WAAT,GAAuB;AACrB,UAAIC,GAAG,GAAG32B,QAAQ,CAACq2B,YAAT,EAAV,CADqB,CAErB;;AACA,UAAI,CAACr2B,QAAQ,CAAC42B,mBAAT,CAA6B,MAA7B,CAAD,IAAyCD,GAAG,CAACE,WAAjD,EAA8D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAI/nB,KAAK,GAAG9O,QAAQ,CAAC82B,WAAT,EAAZ;AACAhoB,aAAK,CAACioB,kBAAN,CAAyB/2B,QAAQ,CAACg3B,IAAlC;AACAL,WAAG,CAACL,eAAJ;AACAK,WAAG,CAACM,QAAJ,CAAanoB,KAAb;AACAsnB,uBAAe,GAAG,IAAlB;AACD;AACF;;AAAA;AAED,WAAO,UAAS/9B,IAAT,EAAe;AACpB,aAAO,IAAI6+B,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAC3ClB,kBAAU,GAAG,IAAb;;AACA,YAAI,OAAO79B,IAAP,KAAgB,QAApB,EAA8B;AAC5B89B,eAAK,GAAG;AAAC,0BAAc99B;AAAf,WAAR;AACD,SAFD,MAEO,IAAIA,IAAI,YAAYg/B,IAApB,EAA0B;AAC/BlB,eAAK,GAAG;AAAC,yBAAa,IAAImB,aAAJ,GAAoB15B,iBAApB,CAAsCvF,IAAtC;AAAd,WAAR;AACD,SAFM,MAEA,IAAIA,IAAI,YAAY/G,MAApB,EAA2B;AAChC6kC,eAAK,GAAG99B,IAAR;AACD,SAFM,MAEA;AACL++B,gBAAM,CAAC,0FAAD,CAAN;AACD;;AAED,iBAASG,WAAT,CAAqBC,cAArB,EAAqC;AACnC,cAAI;AACF,gBAAIx3B,QAAQ,CAACy3B,WAAT,CAAqB,MAArB,CAAJ,EAAkC;AAChC;AACA;AACA1N,qBAAO;AACPoN,qBAAO;AACR,aALD,MAMK;AACH,kBAAI,CAACK,cAAL,EAAqB;AACnBd,2BAAW;AACXa,2BAAW,CAAC,IAAD,CAAX;AACD,eAHD,MAGO;AACLxN,uBAAO;AACP,sBAAM,IAAIl1B,KAAJ,CAAU,6DAAV,CAAN;AACD;AACF;AACF,WAhBD,CAgBE,OAAOqf,CAAP,EAAU;AACV6V,mBAAO;AACPqN,kBAAM,CAACljB,CAAD,CAAN;AACD;AACF;;AACDqjB,mBAAW,CAAC,KAAD,CAAX;AAED,OApCM,CAAP;AAqCD,KAtCD;AAuCD,GAzFgB,EAAjB;;AA2FAtB,WAAS,CAACyB,KAAV,GAAmB,YAAW;AAC5B,QAAIxB,UAAU,GAAG,KAAjB;;AACA,QAAIyB,QAAJ;;AACA,QAAIC,SAAJ;;AAEA53B,YAAQ,CAACg2B,gBAAT,CAA0B,OAA1B,EAAmC,UAAS9hB,CAAT,EAAY;AAC7C,UAAIgiB,UAAJ,EAAgB;AACdA,kBAAU,GAAG,KAAb;AACAhiB,SAAC,CAACuiB,cAAF;AACA,YAAIU,OAAO,GAAGQ,QAAd;AACAA,gBAAQ,GAAG,IAAX;AACAR,eAAO,CAACjjB,CAAC,CAACqiB,aAAF,CAAgBsB,OAAhB,CAAwBD,SAAxB,CAAD,CAAP;AACD;AACF,KARD;AAUA,WAAO,UAASE,QAAT,EAAmB;AACxB,aAAO,IAAIZ,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAC3ClB,kBAAU,GAAG,IAAb;AACAyB,gBAAQ,GAAGR,OAAX;AACAS,iBAAS,GAAGE,QAAQ,IAAI,YAAxB;;AACA,YAAI;AACF,cAAI,CAAC93B,QAAQ,CAACy3B,WAAT,CAAqB,OAArB,CAAL,EAAoC;AAClCvB,sBAAU,GAAG,KAAb;AACAkB,kBAAM,CAAC,IAAIviC,KAAJ,CAAU,yEAAV,CAAD,CAAN;AACD;AACF,SALD,CAKE,OAAOqf,CAAP,EAAU;AACVgiB,oBAAU,GAAG,KAAb;AACAkB,gBAAM,CAAC,IAAIviC,KAAJ,CAAUqf,CAAV,CAAD,CAAN;AACD;AACF,OAbM,CAAP;AAcD,KAfD;AAgBD,GA/BiB,EAAlB,CAlGwB,CAmIxB;;;AACA,MAAI,OAAO6jB,cAAP,KAA0B,WAA1B,IACA,OAAOh6B,MAAM,CAACw4B,aAAd,KAAgC,WADhC,IAEA,OAAOx4B,MAAM,CAACw4B,aAAP,CAAqBC,OAA5B,KAAwC,WAF5C,EAEyD;AAEvD;AACA,KAAC,UAAS3lC,CAAT,EAAW;AAAC,eAASC,CAAT,CAAWD,CAAX,EAAaC,CAAb,EAAe;AAAC,eAAO,YAAU;AAACD,WAAC,CAAC4W,KAAF,CAAQ3W,CAAR,EAAUwR,SAAV;AAAqB,SAAvC;AAAwC;;AAAA,eAAS2M,CAAT,CAAWpe,CAAX,EAAa;AAAC,YAAG,oBAAiB,IAAjB,CAAH,EAAyB,MAAM,IAAIuQ,SAAJ,CAAc,sCAAd,CAAN;AAA4D,YAAG,cAAY,OAAOvQ,CAAtB,EAAwB,MAAM,IAAIuQ,SAAJ,CAAc,gBAAd,CAAN;AAAsC,aAAK42B,MAAL,GAAY,IAAZ,EAAiB,KAAKC,MAAL,GAAY,IAA7B,EAAkC,KAAKC,UAAL,GAAgB,EAAlD,EAAqD9kC,CAAC,CAACvC,CAAD,EAAGC,CAAC,CAACojB,CAAD,EAAG,IAAH,CAAJ,EAAapjB,CAAC,CAACqnC,CAAD,EAAG,IAAH,CAAd,CAAtD;AAA8E;;AAAA,eAASC,CAAT,CAAWvnC,CAAX,EAAa;AAAC,YAAIC,CAAC,GAAC,IAAN;AAAW,eAAO,SAAO,KAAKknC,MAAZ,GAAmB,KAAK,KAAKE,UAAL,CAAgBjkC,IAAhB,CAAqBpD,CAArB,CAAxB,GAAgD,KAAKg0B,CAAC,CAAC,YAAU;AAAC,cAAI5V,CAAC,GAACne,CAAC,CAACknC,MAAF,GAASnnC,CAAC,CAACwnC,WAAX,GAAuBxnC,CAAC,CAACynC,UAA/B;AAA0C,cAAG,SAAOrpB,CAAV,EAAY,OAAO,KAAI,CAACne,CAAC,CAACknC,MAAF,GAASnnC,CAAC,CAACsmC,OAAX,GAAmBtmC,CAAC,CAACumC,MAAtB,EAA8BtmC,CAAC,CAACmnC,MAAhC,CAAX;AAAmD,cAAIG,CAAJ;;AAAM,cAAG;AAACA,aAAC,GAACnpB,CAAC,CAACne,CAAC,CAACmnC,MAAH,CAAH;AAAc,WAAlB,CAAkB,OAAM/jB,CAAN,EAAQ;AAAC,mBAAO,KAAKrjB,CAAC,CAACumC,MAAF,CAASljB,CAAT,CAAZ;AAAwB;;AAAArjB,WAAC,CAACsmC,OAAF,CAAUiB,CAAV;AAAa,SAA3L,CAA7D;AAA0P;;AAAA,eAASlkB,CAAT,CAAWrjB,CAAX,EAAa;AAAC,YAAG;AAAC,cAAGA,CAAC,KAAG,IAAP,EAAY,MAAM,IAAIuQ,SAAJ,CAAc,2CAAd,CAAN;;AAAiE,cAAGvQ,CAAC,KAAG,oBAAiBA,CAAjB,KAAoB,cAAY,OAAOA,CAA1C,CAAJ,EAAiD;AAAC,gBAAIoe,CAAC,GAACpe,CAAC,CAAC0nC,IAAR;AAAa,gBAAG,cAAY,OAAOtpB,CAAtB,EAAwB,OAAO,KAAK7b,CAAC,CAACtC,CAAC,CAACme,CAAD,EAAGpe,CAAH,CAAF,EAAQC,CAAC,CAACojB,CAAD,EAAG,IAAH,CAAT,EAAkBpjB,CAAC,CAACqnC,CAAD,EAAG,IAAH,CAAnB,CAAb;AAA0C;;AAAA,eAAKH,MAAL,GAAY,CAAC,CAAb,EAAe,KAAKC,MAAL,GAAYpnC,CAA3B,EAA6BmjB,CAAC,CAACzc,IAAF,CAAO,IAAP,CAA7B;AAA0C,SAA5P,CAA4P,OAAM6gC,CAAN,EAAQ;AAACD,WAAC,CAAC5gC,IAAF,CAAO,IAAP,EAAY6gC,CAAZ;AAAe;AAAC;;AAAA,eAASD,CAAT,CAAWtnC,CAAX,EAAa;AAAC,aAAKmnC,MAAL,GAAY,CAAC,CAAb,EAAe,KAAKC,MAAL,GAAYpnC,CAA3B,EAA6BmjB,CAAC,CAACzc,IAAF,CAAO,IAAP,CAA7B;AAA0C;;AAAA,eAASyc,CAAT,GAAY;AAAC,aAAI,IAAInjB,CAAC,GAAC,CAAN,EAAQC,CAAC,GAAC,KAAKonC,UAAL,CAAgB/kC,MAA9B,EAAqCrC,CAAC,GAACD,CAAvC,EAAyCA,CAAC,EAA1C;AAA6CunC,WAAC,CAAC7gC,IAAF,CAAO,IAAP,EAAY,KAAK2gC,UAAL,CAAgBrnC,CAAhB,CAAZ;AAA7C;;AAA6E,aAAKqnC,UAAL,GAAgB,IAAhB;AAAqB;;AAAA,eAASM,CAAT,CAAW3nC,CAAX,EAAaC,CAAb,EAAeme,CAAf,EAAiBmpB,CAAjB,EAAmB;AAAC,aAAKC,WAAL,GAAiB,cAAY,OAAOxnC,CAAnB,GAAqBA,CAArB,GAAuB,IAAxC,EAA6C,KAAKynC,UAAL,GAAgB,cAAY,OAAOxnC,CAAnB,GAAqBA,CAArB,GAAuB,IAApF,EAAyF,KAAKqmC,OAAL,GAAaloB,CAAtG,EAAwG,KAAKmoB,MAAL,GAAYgB,CAApH;AAAsH;;AAAA,eAAShlC,CAAT,CAAWvC,CAAX,EAAaC,CAAb,EAAeme,CAAf,EAAiB;AAAC,YAAImpB,CAAC,GAAC,CAAC,CAAP;;AAAS,YAAG;AAACvnC,WAAC,CAAC,UAASA,CAAT,EAAW;AAACunC,aAAC,KAAGA,CAAC,GAAC,CAAC,CAAH,EAAKtnC,CAAC,CAACD,CAAD,CAAT,CAAD;AAAe,WAA5B,EAA6B,UAASA,CAAT,EAAW;AAACunC,aAAC,KAAGA,CAAC,GAAC,CAAC,CAAH,EAAKnpB,CAAC,CAACpe,CAAD,CAAT,CAAD;AAAe,WAAxD,CAAD;AAA2D,SAA/D,CAA+D,OAAMqjB,CAAN,EAAQ;AAAC,cAAGkkB,CAAH,EAAK;AAAOA,WAAC,GAAC,CAAC,CAAH,EAAKnpB,CAAC,CAACiF,CAAD,CAAN;AAAU;AAAC;;AAAA,UAAI2Q,CAAC,GAAC5V,CAAC,CAACwpB,WAAF,IAAe,cAAY,OAAOC,YAAnB,IAAiCA,YAAhD,IAA8D,UAAS7nC,CAAT,EAAW;AAACwU,kBAAU,CAACxU,CAAD,EAAG,CAAH,CAAV;AAAgB,OAAhG;AAAA,UAAiG8nC,CAAC,GAACzlC,KAAK,CAAC0E,OAAN,IAAe,UAAS/G,CAAT,EAAW;AAAC,eAAM,qBAAmBS,MAAM,CAACyH,SAAP,CAAiBhI,QAAjB,CAA0BwG,IAA1B,CAA+B1G,CAA/B,CAAzB;AAA2D,OAAzL;;AAA0Loe,OAAC,CAAClW,SAAF,CAAY,OAAZ,IAAqB,UAASlI,CAAT,EAAW;AAAC,eAAO,KAAK0nC,IAAL,CAAU,IAAV,EAAe1nC,CAAf,CAAP;AAAyB,OAA1D,EAA2Doe,CAAC,CAAClW,SAAF,CAAYw/B,IAAZ,GAAiB,UAAS1nC,CAAT,EAAWC,CAAX,EAAa;AAAC,YAAIojB,CAAC,GAAC,IAAN;AAAW,eAAO,IAAIjF,CAAJ,CAAM,UAASA,CAAT,EAAWkpB,CAAX,EAAa;AAACC,WAAC,CAAC7gC,IAAF,CAAO2c,CAAP,EAAS,IAAIskB,CAAJ,CAAM3nC,CAAN,EAAQC,CAAR,EAAUme,CAAV,EAAYkpB,CAAZ,CAAT;AAAyB,SAA7C,CAAP;AAAsD,OAA3J,EAA4JlpB,CAAC,CAAC2pB,GAAF,GAAM,YAAU;AAAC,YAAI/nC,CAAC,GAACqC,KAAK,CAAC6F,SAAN,CAAgB/E,KAAhB,CAAsBuD,IAAtB,CAA2B,MAAI+K,SAAS,CAACnP,MAAd,IAAsBwlC,CAAC,CAACr2B,SAAS,CAAC,CAAD,CAAV,CAAvB,GAAsCA,SAAS,CAAC,CAAD,CAA/C,GAAmDA,SAA9E,CAAN;AAA+F,eAAO,IAAI2M,CAAJ,CAAM,UAASne,CAAT,EAAWme,CAAX,EAAa;AAAC,mBAASmpB,CAAT,CAAWD,CAAX,EAAankB,CAAb,EAAe;AAAC,gBAAG;AAAC,kBAAGA,CAAC,KAAG,oBAAiBA,CAAjB,KAAoB,cAAY,OAAOA,CAA1C,CAAJ,EAAiD;AAAC,oBAAIwkB,CAAC,GAACxkB,CAAC,CAACukB,IAAR;AAAa,oBAAG,cAAY,OAAOC,CAAtB,EAAwB,OAAO,KAAKA,CAAC,CAACjhC,IAAF,CAAOyc,CAAP,EAAS,UAASnjB,CAAT,EAAW;AAACunC,mBAAC,CAACD,CAAD,EAAGtnC,CAAH,CAAD;AAAO,iBAA5B,EAA6Boe,CAA7B,CAAZ;AAA4C;;AAAApe,eAAC,CAACsnC,CAAD,CAAD,GAAKnkB,CAAL,EAAO,MAAI,EAAEE,CAAN,IAASpjB,CAAC,CAACD,CAAD,CAAjB;AAAqB,aAA5J,CAA4J,OAAMuC,CAAN,EAAQ;AAAC6b,eAAC,CAAC7b,CAAD,CAAD;AAAK;AAAC;;AAAA,cAAG,MAAIvC,CAAC,CAACsC,MAAT,EAAgB,OAAOrC,CAAC,CAAC,EAAD,CAAR;;AAAa,eAAI,IAAIojB,CAAC,GAACrjB,CAAC,CAACsC,MAAR,EAAeglC,CAAC,GAAC,CAArB,EAAuBA,CAAC,GAACtnC,CAAC,CAACsC,MAA3B,EAAkCglC,CAAC,EAAnC;AAAsCC,aAAC,CAACD,CAAD,EAAGtnC,CAAC,CAACsnC,CAAD,CAAJ,CAAD;AAAtC;AAAgD,SAA5R,CAAP;AAAqS,OAAjjB,EAAkjBlpB,CAAC,CAACkoB,OAAF,GAAU,UAAStmC,CAAT,EAAW;AAAC,eAAOA,CAAC,IAAE,oBAAiBA,CAAjB,CAAH,IAAuBA,CAAC,CAACgI,WAAF,KAAgBoW,CAAvC,GAAyCpe,CAAzC,GAA2C,IAAIoe,CAAJ,CAAM,UAASne,CAAT,EAAW;AAACA,WAAC,CAACD,CAAD,CAAD;AAAK,SAAvB,CAAlD;AAA2E,OAAnpB,EAAopBoe,CAAC,CAACmoB,MAAF,GAAS,UAASvmC,CAAT,EAAW;AAAC,eAAO,IAAIoe,CAAJ,CAAM,UAASne,CAAT,EAAWme,CAAX,EAAa;AAACA,WAAC,CAACpe,CAAD,CAAD;AAAK,SAAzB,CAAP;AAAkC,OAA3sB,EAA4sBoe,CAAC,CAAC4pB,IAAF,GAAO,UAAShoC,CAAT,EAAW;AAAC,eAAO,IAAIoe,CAAJ,CAAM,UAASne,CAAT,EAAWme,CAAX,EAAa;AAAC,eAAI,IAAImpB,CAAC,GAAC,CAAN,EAAQlkB,CAAC,GAACrjB,CAAC,CAACsC,MAAhB,EAAuB+gB,CAAC,GAACkkB,CAAzB,EAA2BA,CAAC,EAA5B;AAA+BvnC,aAAC,CAACunC,CAAD,CAAD,CAAKG,IAAL,CAAUznC,CAAV,EAAYme,CAAZ;AAA/B;AAA8C,SAAlE,CAAP;AAA2E,OAA1yB,EAA2yB,SAA4BpO,MAAM,CAACC,OAAnC,GAA2CD,MAAM,CAACC,OAAP,GAAemO,CAA1D,GAA4Dpe,CAAC,CAACqmC,OAAF,KAAYrmC,CAAC,CAACqmC,OAAF,GAAUjoB,CAAtB,CAAv2B;AAAg4B,KAA/0E,EAAi1E,IAAj1E;;AAEAgnB,aAAS,CAAC93B,IAAV,GAAiB,UAAS9F,IAAT,EAAe;AAC9B,aAAO,IAAI6+B,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAC3C;AACA;AACA,YAAI,OAAO/+B,IAAP,KAAgB,QAAhB,IAA4B,EAAE,gBAAgBA,IAAlB,CAAhC,EAAyD;AACvD,gBAAM,IAAIxD,KAAJ,CAAU,qCAAV,CAAN;AACD;;AAED,YAAIikC,OAAO,GAAI,OAAOzgC,IAAP,KAAgB,QAAhB,GAA2BA,IAA3B,GAAkCA,IAAI,CAAC,YAAD,CAArD;AACA,YAAI0gC,aAAa,GAAGh7B,MAAM,CAACw4B,aAAP,CAAqBC,OAArB,CAA6B,MAA7B,EAAqCsC,OAArC,CAApB;;AACA,YAAIC,aAAJ,EAAmB;AACjB5B,iBAAO;AACR,SAFD,MAEO;AACLC,gBAAM,CAAC,IAAIviC,KAAJ,CAAU,uBAAV,CAAD,CAAN;AACD;AACF,OAdM,CAAP;AAeD,KAhBD;;AAkBAohC,aAAS,CAACyB,KAAV,GAAkB,YAAW;AAC3B,aAAO,IAAIR,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAC3C,YAAI0B,OAAO,GAAG/6B,MAAM,CAACw4B,aAAP,CAAqBsB,OAArB,CAA6B,MAA7B,CAAd;;AACA,YAAIiB,OAAJ,EAAa;AACX3B,iBAAO,CAAC2B,OAAD,CAAP;AACD,SAFD,MAEO;AACL;AACA1B,gBAAM,CAAC,IAAIviC,KAAJ,CAAU,uBAAV,CAAD,CAAN;AACD;AACF,OARM,CAAP;AASD,KAVD;AAWD;;AAED,SAAOohC,SAAP;AACD,CA/KA,CAAD,C;;;;;;;;CCCA;;;;;;;;AACA,IAAM+C,OAAO,GAAGj4B,mBAAO,CAAC,EAAD,CAAvB;;AAEA,IAAMk4B,GAAG,GAAGnpC,MAAM,CAAC,KAAD,CAAlB;AACA,IAAMopC,MAAM,GAAGppC,MAAM,CAAC,QAAD,CAArB;AACA,IAAMqpC,iBAAiB,GAAGrpC,MAAM,CAAC,kBAAD,CAAhC;AACA,IAAMspC,WAAW,GAAGtpC,MAAM,CAAC,YAAD,CAA1B;AACA,IAAMupC,OAAO,GAAGvpC,MAAM,CAAC,QAAD,CAAtB;AACA,IAAMwpC,OAAO,GAAGxpC,MAAM,CAAC,SAAD,CAAtB;AACA,IAAMypC,iBAAiB,GAAGzpC,MAAM,CAAC,gBAAD,CAAhC;AACA,IAAM0pC,QAAQ,GAAG1pC,MAAM,CAAC,SAAD,CAAvB;AACA,IAAM2pC,KAAK,GAAG3pC,MAAM,CAAC,OAAD,CAApB;AACA,IAAM4pC,iBAAiB,GAAG5pC,MAAM,CAAC,gBAAD,CAAhC;;AAEA,IAAM6pC,WAAW,GAAG,SAAdA,WAAc;AAAA,SAAM,CAAN;AAAA,CAApB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;IACMC,Q;AACJ,oBAAa9uB,OAAb,EAAsB;AAAA;;AACpB,QAAI,OAAOA,OAAP,KAAmB,QAAvB,EACEA,OAAO,GAAG;AAAEna,SAAG,EAAEma;AAAP,KAAV;AAEF,QAAI,CAACA,OAAL,EACEA,OAAO,GAAG,EAAV;AAEF,QAAIA,OAAO,CAACna,GAAR,KAAgB,OAAOma,OAAO,CAACna,GAAf,KAAuB,QAAvB,IAAmCma,OAAO,CAACna,GAAR,GAAc,CAAjE,CAAJ,EACE,MAAM,IAAIyQ,SAAJ,CAAc,mCAAd,CAAN,CARkB,CASpB;;AACA,QAAMzQ,GAAG,GAAG,KAAKsoC,GAAL,IAAYnuB,OAAO,CAACna,GAAR,IAAeiW,QAAvC;AAEA,QAAMizB,EAAE,GAAG/uB,OAAO,CAAC3X,MAAR,IAAkBwmC,WAA7B;AACA,SAAKR,iBAAL,IAA2B,OAAOU,EAAP,KAAc,UAAf,GAA6BF,WAA7B,GAA2CE,EAArE;AACA,SAAKT,WAAL,IAAoBtuB,OAAO,CAACgvB,KAAR,IAAiB,KAArC;AACA,QAAIhvB,OAAO,CAACivB,MAAR,IAAkB,OAAOjvB,OAAO,CAACivB,MAAf,KAA0B,QAAhD,EACE,MAAM,IAAI34B,SAAJ,CAAc,yBAAd,CAAN;AACF,SAAKi4B,OAAL,IAAgBvuB,OAAO,CAACivB,MAAR,IAAkB,CAAlC;AACA,SAAKT,OAAL,IAAgBxuB,OAAO,CAACkvB,OAAxB;AACA,SAAKT,iBAAL,IAA0BzuB,OAAO,CAACmvB,cAAR,IAA0B,KAApD;AACA,SAAKP,iBAAL,IAA0B5uB,OAAO,CAACovB,cAAR,IAA0B,KAApD;AACA,SAAKC,KAAL;AACD,G,CAED;;;;;6BAkDUC,E,EAAIC,K,EAAO;AACnBA,WAAK,GAAGA,KAAK,IAAI,IAAjB;;AACA,WAAK,IAAIC,MAAM,GAAG,KAAKd,QAAL,EAAee,IAAjC,EAAuCD,MAAM,KAAK,IAAlD,GAAyD;AACvD,YAAMzjC,IAAI,GAAGyjC,MAAM,CAACzjC,IAApB;AACA2jC,mBAAW,CAAC,IAAD,EAAOJ,EAAP,EAAWE,MAAX,EAAmBD,KAAnB,CAAX;AACAC,cAAM,GAAGzjC,IAAT;AACD;AACF;;;4BAEQujC,E,EAAIC,K,EAAO;AAClBA,WAAK,GAAGA,KAAK,IAAI,IAAjB;;AACA,WAAK,IAAIC,MAAM,GAAG,KAAKd,QAAL,EAAeiB,IAAjC,EAAuCH,MAAM,KAAK,IAAlD,GAAyD;AACvD,YAAMxjC,IAAI,GAAGwjC,MAAM,CAACxjC,IAApB;AACA0jC,mBAAW,CAAC,IAAD,EAAOJ,EAAP,EAAWE,MAAX,EAAmBD,KAAnB,CAAX;AACAC,cAAM,GAAGxjC,IAAT;AACD;AACF;;;2BAEO;AACN,aAAO,KAAK0iC,QAAL,EAAekB,OAAf,GAAyB94B,GAAzB,CAA6B,UAAA+2B,CAAC;AAAA,eAAIA,CAAC,CAAChnC,GAAN;AAAA,OAA9B,CAAP;AACD;;;6BAES;AACR,aAAO,KAAK6nC,QAAL,EAAekB,OAAf,GAAyB94B,GAAzB,CAA6B,UAAA+2B,CAAC;AAAA,eAAIA,CAAC,CAAC1jC,KAAN;AAAA,OAA9B,CAAP;AACD;;;4BAEQ;AAAA;;AACP,UAAI,KAAKqkC,OAAL,KACA,KAAKE,QAAL,CADA,IAEA,KAAKA,QAAL,EAAermC,MAFnB,EAE2B;AACzB,aAAKqmC,QAAL,EAAe9nC,OAAf,CAAuB,UAAAipC,GAAG;AAAA,iBAAI,KAAI,CAACrB,OAAD,CAAJ,CAAcqB,GAAG,CAAChpC,GAAlB,EAAuBgpC,GAAG,CAAC1lC,KAA3B,CAAJ;AAAA,SAA1B;AACD;;AAED,WAAKwkC,KAAL,IAAc,IAAI32B,GAAJ,EAAd,CAPO,CAOiB;;AACxB,WAAK02B,QAAL,IAAiB,IAAIR,OAAJ,EAAjB,CARO,CAQwB;;AAC/B,WAAKE,MAAL,IAAe,CAAf,CATO,CASU;AAClB;;;2BAEO;AAAA;;AACN,aAAO,KAAKM,QAAL,EAAe53B,GAAf,CAAmB,UAAA+4B,GAAG;AAAA,eAC3BC,OAAO,CAAC,MAAD,EAAOD,GAAP,CAAP,GAAqB,KAArB,GAA6B;AAC3BhC,WAAC,EAAEgC,GAAG,CAAChpC,GADoB;AAE3ByZ,WAAC,EAAEuvB,GAAG,CAAC1lC,KAFoB;AAG3Bif,WAAC,EAAEymB,GAAG,CAACxlB,GAAJ,IAAWwlB,GAAG,CAACZ,MAAJ,IAAc,CAAzB;AAHwB,SADF;AAAA,OAAtB,EAKFW,OALE,GAKQ1rB,MALR,CAKe,UAAAwpB,CAAC;AAAA,eAAIA,CAAJ;AAAA,OALhB,CAAP;AAMD;;;8BAEU;AACT,aAAO,KAAKgB,QAAL,CAAP;AACD;;;wBAEI7nC,G,EAAKsD,K,EAAO8kC,M,EAAQ;AACvBA,YAAM,GAAGA,MAAM,IAAI,KAAKV,OAAL,CAAnB;AAEA,UAAIU,MAAM,IAAI,OAAOA,MAAP,KAAkB,QAAhC,EACE,MAAM,IAAI34B,SAAJ,CAAc,yBAAd,CAAN;AAEF,UAAM+T,GAAG,GAAG4kB,MAAM,GAAG3kB,IAAI,CAACD,GAAL,EAAH,GAAgB,CAAlC;AACA,UAAMsf,GAAG,GAAG,KAAK0E,iBAAL,EAAwBlkC,KAAxB,EAA+BtD,GAA/B,CAAZ;;AAEA,UAAI,KAAK8nC,KAAL,EAAYv6B,GAAZ,CAAgBvN,GAAhB,CAAJ,EAA0B;AACxB,YAAI8iC,GAAG,GAAG,KAAKwE,GAAL,CAAV,EAAqB;AACnB4B,cAAG,CAAC,IAAD,EAAO,KAAKpB,KAAL,EAAYtnC,GAAZ,CAAgBR,GAAhB,CAAP,CAAH;;AACA,iBAAO,KAAP;AACD;;AAED,YAAMoV,IAAI,GAAG,KAAK0yB,KAAL,EAAYtnC,GAAZ,CAAgBR,GAAhB,CAAb;AACA,YAAMyU,IAAI,GAAGW,IAAI,CAAC9R,KAAlB,CAPwB,CASxB;AACA;;AACA,YAAI,KAAKqkC,OAAL,CAAJ,EAAmB;AACjB,cAAI,CAAC,KAAKC,iBAAL,CAAL,EACE,KAAKD,OAAL,EAAc3nC,GAAd,EAAmByU,IAAI,CAACnR,KAAxB;AACH;;AAEDmR,YAAI,CAAC+O,GAAL,GAAWA,GAAX;AACA/O,YAAI,CAAC2zB,MAAL,GAAcA,MAAd;AACA3zB,YAAI,CAACnR,KAAL,GAAaA,KAAb;AACA,aAAKikC,MAAL,KAAgBzE,GAAG,GAAGruB,IAAI,CAACjT,MAA3B;AACAiT,YAAI,CAACjT,MAAL,GAAcshC,GAAd;AACA,aAAKtiC,GAAL,CAASR,GAAT;AACA2Z,YAAI,CAAC,IAAD,CAAJ;AACA,eAAO,IAAP;AACD;;AAED,UAAMqvB,GAAG,GAAG,IAAIG,KAAJ,CAAUnpC,GAAV,EAAesD,KAAf,EAAsBw/B,GAAtB,EAA2Btf,GAA3B,EAAgC4kB,MAAhC,CAAZ,CAnCuB,CAqCvB;;AACA,UAAIY,GAAG,CAACxnC,MAAJ,GAAa,KAAK8lC,GAAL,CAAjB,EAA4B;AAC1B,YAAI,KAAKK,OAAL,CAAJ,EACE,KAAKA,OAAL,EAAc3nC,GAAd,EAAmBsD,KAAnB;AAEF,eAAO,KAAP;AACD;;AAED,WAAKikC,MAAL,KAAgByB,GAAG,CAACxnC,MAApB;AACA,WAAKqmC,QAAL,EAAe7iC,OAAf,CAAuBgkC,GAAvB;AACA,WAAKlB,KAAL,EAAYnnC,GAAZ,CAAgBX,GAAhB,EAAqB,KAAK6nC,QAAL,EAAeiB,IAApC;AACAnvB,UAAI,CAAC,IAAD,CAAJ;AACA,aAAO,IAAP;AACD;;;wBAEI3Z,G,EAAK;AACR,UAAI,CAAC,KAAK8nC,KAAL,EAAYv6B,GAAZ,CAAgBvN,GAAhB,CAAL,EAA2B,OAAO,KAAP;AAC3B,UAAMgpC,GAAG,GAAG,KAAKlB,KAAL,EAAYtnC,GAAZ,CAAgBR,GAAhB,EAAqBsD,KAAjC;AACA,aAAO,CAAC2lC,OAAO,CAAC,IAAD,EAAOD,GAAP,CAAf;AACD;;;wBAEIhpC,G,EAAK;AACR,aAAOQ,IAAG,CAAC,IAAD,EAAOR,GAAP,EAAY,IAAZ,CAAV;AACD;;;yBAEKA,G,EAAK;AACT,aAAOQ,IAAG,CAAC,IAAD,EAAOR,GAAP,EAAY,KAAZ,CAAV;AACD;;;0BAEM;AACL,UAAMoV,IAAI,GAAG,KAAKyyB,QAAL,EAAee,IAA5B;AACA,UAAI,CAACxzB,IAAL,EACE,OAAO,IAAP;;AAEF8zB,UAAG,CAAC,IAAD,EAAO9zB,IAAP,CAAH;;AACA,aAAOA,IAAI,CAAC9R,KAAZ;AACD;;;wBAEItD,G,EAAK;AACRkpC,UAAG,CAAC,IAAD,EAAO,KAAKpB,KAAL,EAAYtnC,GAAZ,CAAgBR,GAAhB,CAAP,CAAH;AACD;;;yBAEKopC,G,EAAK;AACT;AACA,WAAKZ,KAAL;AAEA,UAAMhlB,GAAG,GAAGC,IAAI,CAACD,GAAL,EAAZ,CAJS,CAKT;;AACA,WAAK,IAAI6lB,CAAC,GAAGD,GAAG,CAAC5nC,MAAJ,GAAa,CAA1B,EAA6B6nC,CAAC,IAAI,CAAlC,EAAqCA,CAAC,EAAtC,EAA0C;AACxC,YAAML,GAAG,GAAGI,GAAG,CAACC,CAAD,CAAf;AACA,YAAMC,SAAS,GAAGN,GAAG,CAACzmB,CAAJ,IAAS,CAA3B;AACA,YAAI+mB,SAAS,KAAK,CAAlB,EACE;AACA,eAAK3oC,GAAL,CAASqoC,GAAG,CAAChC,CAAb,EAAgBgC,GAAG,CAACvvB,CAApB,EAFF,KAGK;AACH,cAAM2uB,MAAM,GAAGkB,SAAS,GAAG9lB,GAA3B,CADG,CAEH;;AACA,cAAI4kB,MAAM,GAAG,CAAb,EAAgB;AACd,iBAAKznC,GAAL,CAASqoC,GAAG,CAAChC,CAAb,EAAgBgC,GAAG,CAACvvB,CAApB,EAAuB2uB,MAAvB;AACD;AACF;AACF;AACF;;;4BAEQ;AAAA;;AACP,WAAKN,KAAL,EAAY/nC,OAAZ,CAAoB,UAACuD,KAAD,EAAQtD,GAAR;AAAA,eAAgBQ,IAAG,CAAC,MAAD,EAAOR,GAAP,EAAY,KAAZ,CAAnB;AAAA,OAApB;AACD;;;sBA3MQupC,E,EAAI;AACX,UAAI,OAAOA,EAAP,KAAc,QAAd,IAA0BA,EAAE,GAAG,CAAnC,EACE,MAAM,IAAI95B,SAAJ,CAAc,mCAAd,CAAN;AAEF,WAAK63B,GAAL,IAAYiC,EAAE,IAAIt0B,QAAlB;AACA0E,UAAI,CAAC,IAAD,CAAJ;AACD,K;wBACU;AACT,aAAO,KAAK2tB,GAAL,CAAP;AACD;;;sBAEekC,U,EAAY;AAC1B,WAAK/B,WAAL,IAAoB,CAAC,CAAC+B,UAAtB;AACD,K;wBACiB;AAChB,aAAO,KAAK/B,WAAL,CAAP;AACD;;;sBAEWgC,E,EAAI;AACd,UAAI,OAAOA,EAAP,KAAc,QAAlB,EACE,MAAM,IAAIh6B,SAAJ,CAAc,sCAAd,CAAN;AAEF,WAAKi4B,OAAL,IAAgB+B,EAAhB;AACA9vB,UAAI,CAAC,IAAD,CAAJ;AACD,K;wBACa;AACZ,aAAO,KAAK+tB,OAAL,CAAP;AACD,K,CAED;;;;sBACsBgC,E,EAAI;AAAA;;AACxB,UAAI,OAAOA,EAAP,KAAc,UAAlB,EACEA,EAAE,GAAG1B,WAAL;;AAEF,UAAI0B,EAAE,KAAK,KAAKlC,iBAAL,CAAX,EAAoC;AAClC,aAAKA,iBAAL,IAA0BkC,EAA1B;AACA,aAAKnC,MAAL,IAAe,CAAf;AACA,aAAKM,QAAL,EAAe9nC,OAAf,CAAuB,UAAAipC,GAAG,EAAI;AAC5BA,aAAG,CAACxnC,MAAJ,GAAa,MAAI,CAACgmC,iBAAD,CAAJ,CAAwBwB,GAAG,CAAC1lC,KAA5B,EAAmC0lC,GAAG,CAAChpC,GAAvC,CAAb;AACA,gBAAI,CAACunC,MAAD,CAAJ,IAAgByB,GAAG,CAACxnC,MAApB;AACD,SAHD;AAID;;AACDmY,UAAI,CAAC,IAAD,CAAJ;AACD,K;wBACuB;AAAE,aAAO,KAAK6tB,iBAAL,CAAP;AAAgC;;;wBAE5C;AAAE,aAAO,KAAKD,MAAL,CAAP;AAAqB;;;wBACpB;AAAE,aAAO,KAAKM,QAAL,EAAermC,MAAtB;AAA8B;;;;;;AA+JnD,IAAMhB,IAAG,GAAG,SAANA,IAAM,CAAC0iB,IAAD,EAAOljB,GAAP,EAAY2pC,KAAZ,EAAsB;AAChC,MAAMv0B,IAAI,GAAG8N,IAAI,CAAC4kB,KAAD,CAAJ,CAAYtnC,GAAZ,CAAgBR,GAAhB,CAAb;;AACA,MAAIoV,IAAJ,EAAU;AACR,QAAM4zB,GAAG,GAAG5zB,IAAI,CAAC9R,KAAjB;;AACA,QAAI2lC,OAAO,CAAC/lB,IAAD,EAAO8lB,GAAP,CAAX,EAAwB;AACtBE,UAAG,CAAChmB,IAAD,EAAO9N,IAAP,CAAH;;AACA,UAAI,CAAC8N,IAAI,CAACukB,WAAD,CAAT,EACE,OAAOpmC,SAAP;AACH,KAJD,MAIO;AACL,UAAIsoC,KAAJ,EAAW;AACT,YAAIzmB,IAAI,CAAC6kB,iBAAD,CAAR,EACE3yB,IAAI,CAAC9R,KAAL,CAAWkgB,GAAX,GAAiBC,IAAI,CAACD,GAAL,EAAjB;AACFN,YAAI,CAAC2kB,QAAD,CAAJ,CAAe+B,WAAf,CAA2Bx0B,IAA3B;AACD;AACF;;AACD,WAAO4zB,GAAG,CAAC1lC,KAAX;AACD;AACF,CAjBD;;AAmBA,IAAM2lC,OAAO,GAAG,SAAVA,OAAU,CAAC/lB,IAAD,EAAO8lB,GAAP,EAAe;AAC7B,MAAI,CAACA,GAAD,IAAS,CAACA,GAAG,CAACZ,MAAL,IAAe,CAACllB,IAAI,CAACwkB,OAAD,CAAjC,EACE,OAAO,KAAP;AAEF,MAAM/sB,IAAI,GAAG8I,IAAI,CAACD,GAAL,KAAawlB,GAAG,CAACxlB,GAA9B;AACA,SAAOwlB,GAAG,CAACZ,MAAJ,GAAaztB,IAAI,GAAGquB,GAAG,CAACZ,MAAxB,GACHllB,IAAI,CAACwkB,OAAD,CAAJ,IAAkB/sB,IAAI,GAAGuI,IAAI,CAACwkB,OAAD,CADjC;AAED,CAPD;;AASA,IAAM/tB,IAAI,GAAG,SAAPA,IAAO,CAAAuJ,IAAI,EAAI;AACnB,MAAIA,IAAI,CAACqkB,MAAD,CAAJ,GAAerkB,IAAI,CAACokB,GAAD,CAAvB,EAA8B;AAC5B,SAAK,IAAIqB,MAAM,GAAGzlB,IAAI,CAAC2kB,QAAD,CAAJ,CAAee,IAAjC,EACE1lB,IAAI,CAACqkB,MAAD,CAAJ,GAAerkB,IAAI,CAACokB,GAAD,CAAnB,IAA4BqB,MAAM,KAAK,IADzC,GACgD;AAC9C;AACA;AACA;AACA,UAAMzjC,IAAI,GAAGyjC,MAAM,CAACzjC,IAApB;;AACAgkC,UAAG,CAAChmB,IAAD,EAAOylB,MAAP,CAAH;;AACAA,YAAM,GAAGzjC,IAAT;AACD;AACF;AACF,CAZD;;AAcA,IAAMgkC,IAAG,GAAG,SAANA,IAAM,CAAChmB,IAAD,EAAO9N,IAAP,EAAgB;AAC1B,MAAIA,IAAJ,EAAU;AACR,QAAM4zB,GAAG,GAAG5zB,IAAI,CAAC9R,KAAjB;AACA,QAAI4f,IAAI,CAACykB,OAAD,CAAR,EACEzkB,IAAI,CAACykB,OAAD,CAAJ,CAAcqB,GAAG,CAAChpC,GAAlB,EAAuBgpC,GAAG,CAAC1lC,KAA3B;AAEF4f,QAAI,CAACqkB,MAAD,CAAJ,IAAgByB,GAAG,CAACxnC,MAApB;AACA0hB,QAAI,CAAC4kB,KAAD,CAAJ,CAAY1c,MAAZ,CAAmB4d,GAAG,CAAChpC,GAAvB;AACAkjB,QAAI,CAAC2kB,QAAD,CAAJ,CAAegC,UAAf,CAA0Bz0B,IAA1B;AACD;AACF,CAVD;;IAYM+zB,K,GACJ,eAAanpC,GAAb,EAAkBsD,KAAlB,EAAyB9B,MAAzB,EAAiCgiB,GAAjC,EAAsC4kB,MAAtC,EAA8C;AAAA;;AAC5C,OAAKpoC,GAAL,GAAWA,GAAX;AACA,OAAKsD,KAAL,GAAaA,KAAb;AACA,OAAK9B,MAAL,GAAcA,MAAd;AACA,OAAKgiB,GAAL,GAAWA,GAAX;AACA,OAAK4kB,MAAL,GAAcA,MAAM,IAAI,CAAxB;AACD,C;;AAGH,IAAMS,WAAW,GAAG,SAAdA,WAAc,CAAC3lB,IAAD,EAAOulB,EAAP,EAAWrzB,IAAX,EAAiBszB,KAAjB,EAA2B;AAC7C,MAAIM,GAAG,GAAG5zB,IAAI,CAAC9R,KAAf;;AACA,MAAI2lC,OAAO,CAAC/lB,IAAD,EAAO8lB,GAAP,CAAX,EAAwB;AACtBE,QAAG,CAAChmB,IAAD,EAAO9N,IAAP,CAAH;;AACA,QAAI,CAAC8N,IAAI,CAACukB,WAAD,CAAT,EACEuB,GAAG,GAAG3nC,SAAN;AACH;;AACD,MAAI2nC,GAAJ,EACEP,EAAE,CAAC7iC,IAAH,CAAQ8iC,KAAR,EAAeM,GAAG,CAAC1lC,KAAnB,EAA0B0lC,GAAG,CAAChpC,GAA9B,EAAmCkjB,IAAnC;AACH,CATD;;AAWAhU,MAAM,CAACC,OAAP,GAAiB84B,QAAjB,C;;;;;;;AC7Ua;;AAEb,IAAIh5B,IAAJ,EAA2C;AACzCC,QAAM,CAACC,OAAP,GAAiBC,mBAAO,CAAC,EAAD,CAAxB;AACD,CAFD,MAEO,E;;;;;;;;;;;;;;;;;;;;;ACJP;;;;;;;;AASA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA,IAAI06B,aAAa,GAAG,CAApB;AACA,IAAIC,OAAJ;AACA,IAAIC,QAAJ;AACA,IAAIC,QAAJ;AACA,IAAIC,SAAJ;AACA,IAAIC,SAAJ;AACA,IAAIC,kBAAJ;AACA,IAAIC,YAAJ;;AAEA,SAASC,WAAT,GAAuB,CAAE;;AACzBA,WAAW,CAACC,kBAAZ,GAAiC,IAAjC;AAEO,SAASC,WAAT,GAA6B;AAClC,MAAIV,aAAa,KAAK,CAAtB,EAAyB;AACvB;AACAC,WAAO,GAAG5mC,OAAO,CAACC,GAAlB;AACA4mC,YAAQ,GAAG7mC,OAAO,CAACsnC,IAAnB;AACAR,YAAQ,GAAG9mC,OAAO,CAACoqB,IAAnB;AACA2c,aAAS,GAAG/mC,OAAO,CAACU,KAApB;AACAsmC,aAAS,GAAGhnC,OAAO,CAACunC,KAApB;AACAN,sBAAkB,GAAGjnC,OAAO,CAACypB,cAA7B;AACAyd,gBAAY,GAAGlnC,OAAO,CAAC2pB,QAAvB,CARuB,CASvB;;AACA,QAAM6C,KAAK,GAAG;AACZna,kBAAY,EAAE,IADF;AAEZvV,gBAAU,EAAE,IAFA;AAGZqD,WAAK,EAAEgnC,WAHK;AAIZK,cAAQ,EAAE;AAJE,KAAd,CAVuB,CAgBvB;;AACAhrC,UAAM,CAAC4V,gBAAP,CAAwBpS,OAAxB,EAAiC;AAC/BsnC,UAAI,EAAE9a,KADyB;AAE/BvsB,SAAG,EAAEusB,KAF0B;AAG/BpC,UAAI,EAAEoC,KAHyB;AAI/B9rB,WAAK,EAAE8rB,KAJwB;AAK/B+a,WAAK,EAAE/a,KALwB;AAM/B/C,oBAAc,EAAE+C,KANe;AAO/B7C,cAAQ,EAAE6C;AAPqB,KAAjC;AASA;AACD;;AACDma,eAAa;AACd;AAEM,SAASc,YAAT,GAA8B;AACnCd,eAAa;;AACb,MAAIA,aAAa,KAAK,CAAtB,EAAyB;AACvB;AACA,QAAMna,KAAK,GAAG;AACZna,kBAAY,EAAE,IADF;AAEZvV,gBAAU,EAAE,IAFA;AAGZ0qC,cAAQ,EAAE;AAHE,KAAd,CAFuB,CAOvB;;AACAhrC,UAAM,CAAC4V,gBAAP,CAAwBpS,OAAxB,EAAiC;AAC/BC,SAAG,kCAAMusB,KAAN;AAAarsB,aAAK,EAAEymC;AAApB,QAD4B;AAE/BU,UAAI,kCAAM9a,KAAN;AAAarsB,aAAK,EAAE0mC;AAApB,QAF2B;AAG/Bzc,UAAI,kCAAMoC,KAAN;AAAarsB,aAAK,EAAE2mC;AAApB,QAH2B;AAI/BpmC,WAAK,kCAAM8rB,KAAN;AAAarsB,aAAK,EAAE4mC;AAApB,QAJ0B;AAK/BQ,WAAK,kCAAM/a,KAAN;AAAarsB,aAAK,EAAE6mC;AAApB,QAL0B;AAM/Bvd,oBAAc,kCAAM+C,KAAN;AAAarsB,aAAK,EAAE8mC;AAApB,QANiB;AAO/Btd,cAAQ,kCAAM6C,KAAN;AAAarsB,aAAK,EAAE+mC;AAApB;AAPuB,KAAjC;AASA;AACD;;AACD,MAAIP,aAAa,GAAG,CAApB,EAAuB;AACrB3mC,WAAO,CAACU,KAAR,CACE,oCACE,+CAFJ;AAID;AACF,C;;;;ACzFD;;;;;;;;AASA;AACA;AACA;AACA;CAmBA;AACA;;AACA;AAEA,IAAIoX,MAAJ;AACO,SAAS4vB,6BAAT,CACLnqC,IADK,EAEL6P,MAFK,EAGLu6B,OAHK,EAIG;AACR,MAAI7vB,MAAM,KAAK5Z,SAAf,EAA0B;AACxB;AACA,QAAI;AACF,YAAM6B,KAAK,EAAX;AACD,KAFD,CAEE,OAAO2iB,CAAP,EAAU;AACV,UAAM/gB,KAAK,GAAG+gB,CAAC,CAACgH,KAAF,CAAQlT,IAAR,GAAe7U,KAAf,CAAqB,cAArB,CAAd;AACAmW,YAAM,GAAInW,KAAK,IAAIA,KAAK,CAAC,CAAD,CAAf,IAAuB,EAAhC;AACD;AACF,GATO,CAUR;;;AACA,SAAO,OAAOmW,MAAP,GAAgBva,IAAvB;AACD;AAED,IAAIqqC,OAAO,GAAG,KAAd;AACA,IAAIC,mBAAJ;;AACA,IAAInY,KAAJ,EAAa,wBAGZ;;AAEM,SAASoY,4BAAT,CACLxC,EADK,EAELyC,SAFK,EAGLn5B,oBAHK,EAIG;AACR;AACA,MAAI,CAAC02B,EAAD,IAAOsC,OAAX,EAAoB;AAClB,WAAO,EAAP;AACD;;AAED,MAAIlY,KAAJ,EAAa,cAKZ;;AAED,MAAIsY,OAAJ;AAEA,MAAMC,yBAAyB,GAAGloC,KAAK,CAACmoC,iBAAxC,CAfQ,CAgBR;;AACAnoC,OAAK,CAACmoC,iBAAN,GAA0BhqC,SAA1B;AAEA0pC,SAAO,GAAG,IAAV,CAnBQ,CAqBR;AACA;AACA;AACA;AACA;;AACA,MAAMO,kBAAkB,GAAGv5B,oBAAoB,CAACtS,OAAhD;AACAsS,sBAAoB,CAACtS,OAArB,GAA+B,IAA/B;AACA+qC,aAAW;;AAEX,MAAI;AACF;AACA,QAAIU,SAAJ,EAAe;AACb;AACA,UAAMK,IAAI,GAAG,SAAPA,IAAO,GAAW;AACtB,cAAMroC,KAAK,EAAX;AACD,OAFD,CAFa,CAKb;;;AACAvD,YAAM,CAAC6rC,cAAP,CAAsBD,IAAI,CAACnkC,SAA3B,EAAsC,OAAtC,EAA+C;AAC7CzG,WAAG,EAAE,eAAW;AACd;AACA;AACA,gBAAMuC,KAAK,EAAX;AACD;AAL4C,OAA/C;;AAOA,UAAI,QAAOuoC,OAAP,yCAAOA,OAAP,OAAmB,QAAnB,IAA+BA,OAAO,CAACP,SAA3C,EAAsD;AACpD;AACA;AACA,YAAI;AACFO,iBAAO,CAACP,SAAR,CAAkBK,IAAlB,EAAwB,EAAxB;AACD,SAFD,CAEE,OAAO1lB,CAAP,EAAU;AACVslB,iBAAO,GAAGtlB,CAAV;AACD;;AACD4lB,eAAO,CAACP,SAAR,CAAkBzC,EAAlB,EAAsB,EAAtB,EAA0B8C,IAA1B;AACD,OATD,MASO;AACL,YAAI;AACFA,cAAI,CAAC3lC,IAAL;AACD,SAFD,CAEE,OAAOigB,CAAP,EAAU;AACVslB,iBAAO,GAAGtlB,CAAV;AACD;;AACD4iB,UAAE,CAAC7iC,IAAH,CAAQ2lC,IAAI,CAACnkC,SAAb;AACD;AACF,KA9BD,MA8BO;AACL,UAAI;AACF,cAAMlE,KAAK,EAAX;AACD,OAFD,CAEE,OAAO2iB,CAAP,EAAU;AACVslB,eAAO,GAAGtlB,CAAV;AACD;;AACD4iB,QAAE;AACH;AACF,GAxCD,CAwCE,OAAOiD,MAAP,EAAe;AACf;AACA,QAAIA,MAAM,IAAIP,OAAV,IAAqB,OAAOO,MAAM,CAAC7e,KAAd,KAAwB,QAAjD,EAA2D;AACzD;AACA;AACA,UAAM8e,WAAW,GAAGD,MAAM,CAAC7e,KAAP,CAAazc,KAAb,CAAmB,IAAnB,CAApB;AACA,UAAMw7B,YAAY,GAAGT,OAAO,CAACte,KAAR,CAAczc,KAAd,CAAoB,IAApB,CAArB;AACA,UAAIM,CAAC,GAAGi7B,WAAW,CAACnqC,MAAZ,GAAqB,CAA7B;AACA,UAAI8b,CAAC,GAAGsuB,YAAY,CAACpqC,MAAb,GAAsB,CAA9B;;AACA,aAAOkP,CAAC,IAAI,CAAL,IAAU4M,CAAC,IAAI,CAAf,IAAoBquB,WAAW,CAACj7B,CAAD,CAAX,KAAmBk7B,YAAY,CAACtuB,CAAD,CAA1D,EAA+D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACAA,SAAC;AACF;;AACD,aAAO5M,CAAC,IAAI,CAAL,IAAU4M,CAAC,IAAI,CAAtB,EAAyB5M,CAAC,IAAI4M,CAAC,EAA/B,EAAmC;AACjC;AACA;AACA,YAAIquB,WAAW,CAACj7B,CAAD,CAAX,KAAmBk7B,YAAY,CAACtuB,CAAD,CAAnC,EAAwC;AACtC;AACA;AACA;AACA;AACA;AACA,cAAI5M,CAAC,KAAK,CAAN,IAAW4M,CAAC,KAAK,CAArB,EAAwB;AACtB,eAAG;AACD5M,eAAC;AACD4M,eAAC,GAFA,CAGD;AACA;;AACA,kBAAIA,CAAC,GAAG,CAAJ,IAASquB,WAAW,CAACj7B,CAAD,CAAX,KAAmBk7B,YAAY,CAACtuB,CAAD,CAA5C,EAAiD;AAC/C;AACA,oBAAMuuB,MAAK,GAAG,OAAOF,WAAW,CAACj7B,CAAD,CAAX,CAAe7C,OAAf,CAAuB,UAAvB,EAAmC,MAAnC,CAArB;;AACA,oBAAIglB,KAAJ,EAAa,EAHkC,CAQ/C;;;AACA,uBAAOgZ,MAAP;AACD;AACF,aAhBD,QAgBSn7B,CAAC,IAAI,CAAL,IAAU4M,CAAC,IAAI,CAhBxB;AAiBD;;AACD;AACD;AACF;AACF;AACF,GA1FD,SA0FU;AACRytB,WAAO,GAAG,KAAV;AAEA7nC,SAAK,CAACmoC,iBAAN,GAA0BD,yBAA1B;AAEAr5B,wBAAoB,CAACtS,OAArB,GAA+B6rC,kBAA/B;AACAV,gBAAY;AACb,GA/HO,CAgIR;;;AACA,MAAMlqC,IAAI,GAAG+nC,EAAE,GAAGA,EAAE,CAAChoC,WAAH,IAAkBgoC,EAAE,CAAC/nC,IAAxB,GAA+B,EAA9C;AACA,MAAMorC,cAAc,GAAGprC,IAAI,GAAGmqC,6BAA6B,CAACnqC,IAAD,CAAhC,GAAyC,EAApE;;AACA,MAAImyB,KAAJ,EAAa,EAIZ;;AACD,SAAOiZ,cAAP;AACD;AAEM,SAASC,2BAAT,CACLC,IADK,EAELz7B,MAFK,EAGLu6B,OAHK,EAIL/4B,oBAJK,EAKG;AACR,SAAOk5B,4BAA4B,CAACe,IAAD,EAAO,IAAP,EAAaj6B,oBAAb,CAAnC;AACD;AAEM,SAASk6B,8BAAT,CACLxD,EADK,EAELl4B,MAFK,EAGLu6B,OAHK,EAIL/4B,oBAJK,EAKG;AACR,SAAOk5B,4BAA4B,CAACxC,EAAD,EAAK,KAAL,EAAY12B,oBAAZ,CAAnC;AACD;;AAED,SAASm6B,eAAT,CAAyBC,SAAzB,EAA8C;AAC5C,MAAM/kC,SAAS,GAAG+kC,SAAS,CAAC/kC,SAA5B;AACA,SAAO,CAAC,EAAEA,SAAS,IAAIA,SAAS,CAACglC,gBAAzB,CAAR;AACD;;AAEM,SAASC,oCAAT,CACLhsC,IADK,EAELkQ,MAFK,EAGLu6B,OAHK,EAIL/4B,oBAJK,EAKG;AACR,MAAI,IAAJ,EAAc;AACZ,WAAO,EAAP;AACD;;AACD,MAAI1R,IAAI,IAAI,IAAZ,EAAkB;AAChB,WAAO,EAAP;AACD;;AACD,MAAI,OAAOA,IAAP,KAAgB,UAApB,EAAgC;AAC9B,WAAO4qC,4BAA4B,CACjC5qC,IADiC,EAEjC6rC,eAAe,CAAC7rC,IAAD,CAFkB,EAGjC0R,oBAHiC,CAAnC;AAKD;;AACD,MAAI,OAAO1R,IAAP,KAAgB,QAApB,EAA8B;AAC5B,WAAOwqC,6BAA6B,CAACxqC,IAAD,EAAOkQ,MAAP,EAAeu6B,OAAf,CAApC;AACD;;AACD,UAAQzqC,IAAR;AACE,SAAK8K,uCAAL;AACA,SAAKC,8CAAL;AACE,aAAOy/B,6BAA6B,CAAC,UAAD,EAAat6B,MAAb,EAAqBu6B,OAArB,CAApC;;AACF,SAAKz/B,4CAAL;AACA,SAAKC,mDAAL;AACE,aAAOu/B,6BAA6B,CAAC,cAAD,EAAiBt6B,MAAjB,EAAyBu6B,OAAzB,CAApC;AANJ;;AAQA,MAAI,QAAOzqC,IAAP,MAAgB,QAApB,EAA8B;AAC5B,YAAQA,IAAI,CAACsoB,QAAb;AACE,WAAK5e,0CAAL;AACA,WAAKC,iDAAL;AACE,eAAOiiC,8BAA8B,CACnC5rC,IAAI,CAACyoB,MAD8B,EAEnCvY,MAFmC,EAGnCu6B,OAHmC,EAInC/4B,oBAJmC,CAArC;;AAMF,WAAK1H,mCAAL;AACA,WAAKC,0CAAL;AACE;AACA,eAAO+hC,oCAAoC,CACzChsC,IAAI,CAACA,IADoC,EAEzCkQ,MAFyC,EAGzCu6B,OAHyC,EAIzC/4B,oBAJyC,CAA3C;;AAMF,WAAK5H,mCAAL;AACA,WAAKC,0CAAL;AAAyB;AACvB,cAAMkiC,aAAsC,GAAIjsC,IAAhD;AACA,cAAMksC,OAAO,GAAGD,aAAa,CAACE,QAA9B;AACA,cAAMC,IAAI,GAAGH,aAAa,CAACI,KAA3B;;AACA,cAAI;AACF;AACA,mBAAOL,oCAAoC,CACzCI,IAAI,CAACF,OAAD,CADqC,EAEzCh8B,MAFyC,EAGzCu6B,OAHyC,EAIzC/4B,oBAJyC,CAA3C;AAMD,WARD,CAQE,OAAO8T,CAAP,EAAU,CAAE;AACf;AAhCH;AAkCD;;AACD,SAAO,EAAP;AACD,C;;ACtSD;;;;;;;;AASA;AACA;AACA;AACA;AAKA;;AAMA,SAAS8mB,aAAT,CACEr6B,UADF,EAEEs6B,cAFF,EAGE76B,oBAHF,EAIU;AAAA,MAEN0V,aAFM,GAWJnV,UAXI,CAENmV,aAFM;AAAA,MAGNM,aAHM,GAWJzV,UAXI,CAGNyV,aAHM;AAAA,MAINO,iBAJM,GAWJhW,UAXI,CAINgW,iBAJM;AAAA,MAKNC,qBALM,GAWJjW,UAXI,CAKNiW,qBALM;AAAA,MAMNf,iBANM,GAWJlV,UAXI,CAMNkV,iBANM;AAAA,MAONM,sBAPM,GAWJxV,UAXI,CAONwV,sBAPM;AAAA,MAQNO,mBARM,GAWJ/V,UAXI,CAQN+V,mBARM;AAAA,MASN1gB,UATM,GAWJ2K,UAXI,CASN3K,UATM;AAAA,MAUNyf,cAVM,GAWJ9U,UAXI,CAUN8U,cAVM;AAaR,MAAMgU,KAAsB,GAAGvI,MAAO,GAClC+Z,SADkC,GAIlC,IAJJ;AAKA,MAAMr8B,MAAM,GAAGsiB,MAAO,GAAG+Z,SAAH,GAAiC,IAAvD;;AACA,UAAQA,cAAc,CAAC5jB,GAAvB;AACE,SAAKvB,aAAL;AACE,aAAOojB,6BAA6B,CAAC+B,cAAc,CAACvsC,IAAhB,EAAsBkQ,MAAtB,EAA8B6qB,KAA9B,CAApC;;AACF,SAAKrT,aAAL;AACE,aAAO8iB,6BAA6B,CAAC,MAAD,EAASt6B,MAAT,EAAiB6qB,KAAjB,CAApC;;AACF,SAAK9S,iBAAL;AACE,aAAOuiB,6BAA6B,CAAC,UAAD,EAAat6B,MAAb,EAAqB6qB,KAArB,CAApC;;AACF,SAAK7S,qBAAL;AACE,aAAOsiB,6BAA6B,CAAC,cAAD,EAAiBt6B,MAAjB,EAAyB6qB,KAAzB,CAApC;;AACF,SAAK5T,iBAAL;AACA,SAAKM,sBAAL;AACA,SAAKO,mBAAL;AACE,aAAO4jB,8BAA8B,CACnCW,cAAc,CAACvsC,IADoB,EAEnCkQ,MAFmC,EAGnC6qB,KAHmC,EAInCrpB,oBAJmC,CAArC;;AAMF,SAAKpK,UAAL;AACE,aAAOskC,8BAA8B,CACnCW,cAAc,CAACvsC,IAAf,CAAoByoB,MADe,EAEnCvY,MAFmC,EAGnC6qB,KAHmC,EAInCrpB,oBAJmC,CAArC;;AAMF,SAAKqV,cAAL;AACE,aAAO2kB,2BAA2B,CAChCa,cAAc,CAACvsC,IADiB,EAEhCkQ,MAFgC,EAGhC6qB,KAHgC,EAIhCrpB,oBAJgC,CAAlC;;AAMF;AACE,aAAO,EAAP;AAjCJ;AAmCD;;AAEM,SAAS0B,2BAAT,CACLnB,UADK,EAELs6B,cAFK,EAGL76B,oBAHK,EAIG;AACR,MAAI;AACF,QAAI04B,IAAI,GAAG,EAAX;AACA,QAAIr1B,IAAI,GAAGw3B,cAAX;;AACA,OAAG;AACDnC,UAAI,IAAIkC,aAAa,CAACr6B,UAAD,EAAa8C,IAAb,EAAmBrD,oBAAnB,CAArB;AACAqD,UAAI,GAAGA,IAAI,CAAC2Z,MAAZ;AACD,KAHD,QAGS3Z,IAHT;;AAIA,WAAOq1B,IAAP;AACD,GARD,CAQE,OAAO5kB,CAAP,EAAU;AACV,WAAO,+BAA+BA,CAAC,CAAC+F,OAAjC,GAA2C,IAA3C,GAAkD/F,CAAC,CAACgH,KAA3D;AACD;AACF,C;;;;;;ACnGD,kDAAIggB,KAAK,GAAI,OAAOp7B,MAAP,KAAkB,WAAlB,IAAiCA,MAAlC,IACC,OAAOyR,IAAP,KAAgB,WAAhB,IAA+BA,IADhC,IAEA9W,MAFZ;AAGA,IAAI0J,KAAK,GAAGwM,QAAQ,CAAClb,SAAT,CAAmB0O,KAA/B,C,CAEA;;AAEA3G,OAAO,CAACuE,UAAR,GAAqB,YAAW;AAC9B,SAAO,IAAIo5B,OAAJ,CAAYh3B,KAAK,CAAClQ,IAAN,CAAW8N,UAAX,EAAuBm5B,KAAvB,EAA8Bl8B,SAA9B,CAAZ,EAAsDwU,YAAtD,CAAP;AACD,CAFD;;AAGAhW,OAAO,CAAC49B,WAAR,GAAsB,YAAW;AAC/B,SAAO,IAAID,OAAJ,CAAYh3B,KAAK,CAAClQ,IAAN,CAAWmnC,WAAX,EAAwBF,KAAxB,EAA+Bl8B,SAA/B,CAAZ,EAAuDq8B,aAAvD,CAAP;AACD,CAFD;;AAGA79B,OAAO,CAACgW,YAAR,GACAhW,OAAO,CAAC69B,aAAR,GAAwB,UAASnK,OAAT,EAAkB;AACxC,MAAIA,OAAJ,EAAa;AACXA,WAAO,CAACoK,KAAR;AACD;AACF,CALD;;AAOA,SAASH,OAAT,CAAiBtqC,EAAjB,EAAqB0qC,OAArB,EAA8B;AAC5B,OAAKC,GAAL,GAAW3qC,EAAX;AACA,OAAK4qC,QAAL,GAAgBF,OAAhB;AACD;;AACDJ,OAAO,CAAC1lC,SAAR,CAAkBimC,KAAlB,GAA0BP,OAAO,CAAC1lC,SAAR,CAAkBirB,GAAlB,GAAwB,YAAW,CAAE,CAA/D;;AACAya,OAAO,CAAC1lC,SAAR,CAAkB6lC,KAAlB,GAA0B,YAAW;AACnC,OAAKG,QAAL,CAAcxnC,IAAd,CAAmBinC,KAAnB,EAA0B,KAAKM,GAA/B;AACD,CAFD,C,CAIA;;;AACAh+B,OAAO,CAACm+B,MAAR,GAAiB,UAAS74B,IAAT,EAAe84B,KAAf,EAAsB;AACrCpoB,cAAY,CAAC1Q,IAAI,CAAC+4B,cAAN,CAAZ;AACA/4B,MAAI,CAACg5B,YAAL,GAAoBF,KAApB;AACD,CAHD;;AAKAp+B,OAAO,CAACu+B,QAAR,GAAmB,UAASj5B,IAAT,EAAe;AAChC0Q,cAAY,CAAC1Q,IAAI,CAAC+4B,cAAN,CAAZ;AACA/4B,MAAI,CAACg5B,YAAL,GAAoB,CAAC,CAArB;AACD,CAHD;;AAKAt+B,OAAO,CAACw+B,YAAR,GAAuBx+B,OAAO,CAACy+B,MAAR,GAAiB,UAASn5B,IAAT,EAAe;AACrD0Q,cAAY,CAAC1Q,IAAI,CAAC+4B,cAAN,CAAZ;AAEA,MAAID,KAAK,GAAG94B,IAAI,CAACg5B,YAAjB;;AACA,MAAIF,KAAK,IAAI,CAAb,EAAgB;AACd94B,QAAI,CAAC+4B,cAAL,GAAsB95B,UAAU,CAAC,SAASm6B,SAAT,GAAqB;AACpD,UAAIp5B,IAAI,CAACq5B,UAAT,EACEr5B,IAAI,CAACq5B,UAAL;AACH,KAH+B,EAG7BP,KAH6B,CAAhC;AAID;AACF,CAVD,C,CAYA;;;AACAn+B,mBAAO,CAAC,EAAD,CAAP,C,CACA;AACA;AACA;;;AACAD,OAAO,CAAC43B,YAAR,GAAwB,OAAO7jB,IAAP,KAAgB,WAAhB,IAA+BA,IAAI,CAAC6jB,YAArC,IACC,OAAOt1B,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACs1B,YADzC,IAEC,QAAQ,KAAKA,YAFrC;AAGA53B,OAAO,CAAC4+B,cAAR,GAA0B,OAAO7qB,IAAP,KAAgB,WAAhB,IAA+BA,IAAI,CAAC6qB,cAArC,IACC,OAAOt8B,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACs8B,cADzC,IAEC,QAAQ,KAAKA,cAFvC,C;;;;;;;AC5DC,kEAAUt8B,MAAV,EAAkBpQ,SAAlB,EAA6B;AAC1B;;AAEA,MAAIoQ,MAAM,CAACs1B,YAAX,EAAyB;AACrB;AACH;;AAED,MAAIiH,UAAU,GAAG,CAAjB,CAP0B,CAON;;AACpB,MAAIC,aAAa,GAAG,EAApB;AACA,MAAIC,qBAAqB,GAAG,KAA5B;AACA,MAAIC,GAAG,GAAG18B,MAAM,CAACpD,QAAjB;AACA,MAAI+/B,iBAAJ;;AAEA,WAASrH,YAAT,CAAsBsH,QAAtB,EAAgC;AAC9B;AACA,QAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AAClCA,cAAQ,GAAG,IAAI/rB,QAAJ,CAAa,KAAK+rB,QAAlB,CAAX;AACD,KAJ6B,CAK9B;;;AACA,QAAI1gC,IAAI,GAAG,IAAIpM,KAAJ,CAAUoP,SAAS,CAACnP,MAAV,GAAmB,CAA7B,CAAX;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkM,IAAI,CAACnM,MAAzB,EAAiCC,CAAC,EAAlC,EAAsC;AAClCkM,UAAI,CAAClM,CAAD,CAAJ,GAAUkP,SAAS,CAAClP,CAAC,GAAG,CAAL,CAAnB;AACH,KAT6B,CAU9B;;;AACA,QAAI6sC,IAAI,GAAG;AAAED,cAAQ,EAAEA,QAAZ;AAAsB1gC,UAAI,EAAEA;AAA5B,KAAX;AACAsgC,iBAAa,CAACD,UAAD,CAAb,GAA4BM,IAA5B;AACAF,qBAAiB,CAACJ,UAAD,CAAjB;AACA,WAAOA,UAAU,EAAjB;AACD;;AAED,WAASD,cAAT,CAAwBQ,MAAxB,EAAgC;AAC5B,WAAON,aAAa,CAACM,MAAD,CAApB;AACH;;AAED,WAASxL,GAAT,CAAauL,IAAb,EAAmB;AACf,QAAID,QAAQ,GAAGC,IAAI,CAACD,QAApB;AACA,QAAI1gC,IAAI,GAAG2gC,IAAI,CAAC3gC,IAAhB;;AACA,YAAQA,IAAI,CAACnM,MAAb;AACA,WAAK,CAAL;AACI6sC,gBAAQ;AACR;;AACJ,WAAK,CAAL;AACIA,gBAAQ,CAAC1gC,IAAI,CAAC,CAAD,CAAL,CAAR;AACA;;AACJ,WAAK,CAAL;AACI0gC,gBAAQ,CAAC1gC,IAAI,CAAC,CAAD,CAAL,EAAUA,IAAI,CAAC,CAAD,CAAd,CAAR;AACA;;AACJ,WAAK,CAAL;AACI0gC,gBAAQ,CAAC1gC,IAAI,CAAC,CAAD,CAAL,EAAUA,IAAI,CAAC,CAAD,CAAd,EAAmBA,IAAI,CAAC,CAAD,CAAvB,CAAR;AACA;;AACJ;AACI0gC,gBAAQ,CAACv4B,KAAT,CAAezU,SAAf,EAA0BsM,IAA1B;AACA;AAfJ;AAiBH;;AAED,WAAS6gC,YAAT,CAAsBD,MAAtB,EAA8B;AAC1B;AACA;AACA,QAAIL,qBAAJ,EAA2B;AACvB;AACA;AACAx6B,gBAAU,CAAC86B,YAAD,EAAe,CAAf,EAAkBD,MAAlB,CAAV;AACH,KAJD,MAIO;AACH,UAAID,IAAI,GAAGL,aAAa,CAACM,MAAD,CAAxB;;AACA,UAAID,IAAJ,EAAU;AACNJ,6BAAqB,GAAG,IAAxB;;AACA,YAAI;AACAnL,aAAG,CAACuL,IAAD,CAAH;AACH,SAFD,SAEU;AACNP,wBAAc,CAACQ,MAAD,CAAd;AACAL,+BAAqB,GAAG,KAAxB;AACH;AACJ;AACJ;AACJ;;AAED,WAASO,6BAAT,GAAyC;AACrCL,qBAAiB,GAAG,2BAASG,MAAT,EAAiB;AACjCt/B,aAAO,CAAC+zB,QAAR,CAAiB,YAAY;AAAEwL,oBAAY,CAACD,MAAD,CAAZ;AAAuB,OAAtD;AACH,KAFD;AAGH;;AAED,WAASG,iBAAT,GAA6B;AACzB;AACA;AACA,QAAIj9B,MAAM,CAACk9B,WAAP,IAAsB,CAACl9B,MAAM,CAACm9B,aAAlC,EAAiD;AAC7C,UAAIC,yBAAyB,GAAG,IAAhC;AACA,UAAIC,YAAY,GAAGr9B,MAAM,CAACs9B,SAA1B;;AACAt9B,YAAM,CAACs9B,SAAP,GAAmB,YAAW;AAC1BF,iCAAyB,GAAG,KAA5B;AACH,OAFD;;AAGAp9B,YAAM,CAACk9B,WAAP,CAAmB,EAAnB,EAAuB,GAAvB;AACAl9B,YAAM,CAACs9B,SAAP,GAAmBD,YAAnB;AACA,aAAOD,yBAAP;AACH;AACJ;;AAED,WAASG,gCAAT,GAA4C;AACxC;AACA;AACA;AAEA,QAAIC,aAAa,GAAG,kBAAkB3rB,IAAI,CAAC4rB,MAAL,EAAlB,GAAkC,GAAtD;;AACA,QAAIC,eAAe,GAAG,SAAlBA,eAAkB,CAASC,KAAT,EAAgB;AAClC,UAAIA,KAAK,CAAC7+B,MAAN,KAAiBkB,MAAjB,IACA,OAAO29B,KAAK,CAAC1oC,IAAb,KAAsB,QADtB,IAEA0oC,KAAK,CAAC1oC,IAAN,CAAW9B,OAAX,CAAmBqqC,aAAnB,MAAsC,CAF1C,EAE6C;AACzCT,oBAAY,CAAC,CAACY,KAAK,CAAC1oC,IAAN,CAAWrE,KAAX,CAAiB4sC,aAAa,CAACztC,MAA/B,CAAF,CAAZ;AACH;AACJ,KAND;;AAQA,QAAIiQ,MAAM,CAAC4yB,gBAAX,EAA6B;AACzB5yB,YAAM,CAAC4yB,gBAAP,CAAwB,SAAxB,EAAmC8K,eAAnC,EAAoD,KAApD;AACH,KAFD,MAEO;AACH19B,YAAM,CAAC49B,WAAP,CAAmB,WAAnB,EAAgCF,eAAhC;AACH;;AAEDf,qBAAiB,GAAG,2BAASG,MAAT,EAAiB;AACjC98B,YAAM,CAACk9B,WAAP,CAAmBM,aAAa,GAAGV,MAAnC,EAA2C,GAA3C;AACH,KAFD;AAGH;;AAED,WAASe,mCAAT,GAA+C;AAC3C,QAAIC,OAAO,GAAG,IAAIC,cAAJ,EAAd;;AACAD,WAAO,CAACE,KAAR,CAAcV,SAAd,GAA0B,UAASK,KAAT,EAAgB;AACtC,UAAIb,MAAM,GAAGa,KAAK,CAAC1oC,IAAnB;AACA8nC,kBAAY,CAACD,MAAD,CAAZ;AACH,KAHD;;AAKAH,qBAAiB,GAAG,2BAASG,MAAT,EAAiB;AACjCgB,aAAO,CAACG,KAAR,CAAcf,WAAd,CAA0BJ,MAA1B;AACH,KAFD;AAGH;;AAED,WAASoB,qCAAT,GAAiD;AAC7C,QAAIC,IAAI,GAAGzB,GAAG,CAAC0B,eAAf;;AACAzB,qBAAiB,GAAG,2BAASG,MAAT,EAAiB;AACjC;AACA;AACA,UAAIuB,MAAM,GAAG3B,GAAG,CAAC4B,aAAJ,CAAkB,QAAlB,CAAb;;AACAD,YAAM,CAACE,kBAAP,GAA4B,YAAY;AACpCxB,oBAAY,CAACD,MAAD,CAAZ;AACAuB,cAAM,CAACE,kBAAP,GAA4B,IAA5B;AACAJ,YAAI,CAACK,WAAL,CAAiBH,MAAjB;AACAA,cAAM,GAAG,IAAT;AACH,OALD;;AAMAF,UAAI,CAACM,WAAL,CAAiBJ,MAAjB;AACH,KAXD;AAYH;;AAED,WAASK,+BAAT,GAA2C;AACvC/B,qBAAiB,GAAG,2BAASG,MAAT,EAAiB;AACjC76B,gBAAU,CAAC86B,YAAD,EAAe,CAAf,EAAkBD,MAAlB,CAAV;AACH,KAFD;AAGH,GA3JyB,CA6J1B;;;AACA,MAAI6B,QAAQ,GAAGzwC,MAAM,CAACQ,cAAP,IAAyBR,MAAM,CAACQ,cAAP,CAAsBsR,MAAtB,CAAxC;AACA2+B,UAAQ,GAAGA,QAAQ,IAAIA,QAAQ,CAAC18B,UAArB,GAAkC08B,QAAlC,GAA6C3+B,MAAxD,CA/J0B,CAiK1B;;AACA,MAAI,GAAGrS,QAAH,CAAYwG,IAAZ,CAAiB6L,MAAM,CAACxC,OAAxB,MAAqC,kBAAzC,EAA6D;AACzD;AACAw/B,iCAA6B;AAEhC,GAJD,MAIO,IAAIC,iBAAiB,EAArB,EAAyB;AAC5B;AACAM,oCAAgC;AAEnC,GAJM,MAIA,IAAIv9B,MAAM,CAAC+9B,cAAX,EAA2B;AAC9B;AACAF,uCAAmC;AAEtC,GAJM,MAIA,IAAInB,GAAG,IAAI,wBAAwBA,GAAG,CAAC4B,aAAJ,CAAkB,QAAlB,CAAnC,EAAgE;AACnE;AACAJ,yCAAqC;AAExC,GAJM,MAIA;AACH;AACAQ,mCAA+B;AAClC;;AAEDC,UAAQ,CAACrJ,YAAT,GAAwBA,YAAxB;AACAqJ,UAAQ,CAACrC,cAAT,GAA0BA,cAA1B;AACH,CAzLA,EAyLC,OAAO7qB,IAAP,KAAgB,WAAhB,GAA8B,OAAOzR,MAAP,KAAkB,WAAlB,GAAgC,IAAhC,GAAuCA,MAArE,GAA8EyR,IAzL/E,CAAD,C;;;;;;;;ACAA;;AACAhU,MAAM,CAACC,OAAP,GAAiBk4B,OAAjB;AAEAA,OAAO,CAAC3B,IAAR,GAAeA,IAAf;AACA2B,OAAO,CAACgJ,MAAR,GAAiBhJ,OAAjB;;AAEA,SAASA,OAAT,CAAkB1rB,IAAlB,EAAwB;AACtB,MAAIuH,IAAI,GAAG,IAAX;;AACA,MAAI,EAAEA,IAAI,YAAYmkB,OAAlB,CAAJ,EAAgC;AAC9BnkB,QAAI,GAAG,IAAImkB,OAAJ,EAAP;AACD;;AAEDnkB,MAAI,CAAC0lB,IAAL,GAAY,IAAZ;AACA1lB,MAAI,CAAC4lB,IAAL,GAAY,IAAZ;AACA5lB,MAAI,CAAC1hB,MAAL,GAAc,CAAd;;AAEA,MAAIma,IAAI,IAAI,OAAOA,IAAI,CAAC5b,OAAZ,KAAwB,UAApC,EAAgD;AAC9C4b,QAAI,CAAC5b,OAAL,CAAa,UAAU0U,IAAV,EAAgB;AAC3ByO,UAAI,CAAC5gB,IAAL,CAAUmS,IAAV;AACD,KAFD;AAGD,GAJD,MAIO,IAAI9D,SAAS,CAACnP,MAAV,GAAmB,CAAvB,EAA0B;AAC/B,SAAK,IAAIC,CAAC,GAAG,CAAR,EAAW4nC,CAAC,GAAG14B,SAAS,CAACnP,MAA9B,EAAsCC,CAAC,GAAG4nC,CAA1C,EAA6C5nC,CAAC,EAA9C,EAAkD;AAChDyhB,UAAI,CAAC5gB,IAAL,CAAUqO,SAAS,CAAClP,CAAD,CAAnB;AACD;AACF;;AAED,SAAOyhB,IAAP;AACD;;AAEDmkB,OAAO,CAACjgC,SAAR,CAAkByiC,UAAlB,GAA+B,UAAUz0B,IAAV,EAAgB;AAC7C,MAAIA,IAAI,CAACuG,IAAL,KAAc,IAAlB,EAAwB;AACtB,UAAM,IAAIzY,KAAJ,CAAU,kDAAV,CAAN;AACD;;AAED,MAAIiC,IAAI,GAAGiQ,IAAI,CAACjQ,IAAhB;AACA,MAAID,IAAI,GAAGkQ,IAAI,CAAClQ,IAAhB;;AAEA,MAAIC,IAAJ,EAAU;AACRA,QAAI,CAACD,IAAL,GAAYA,IAAZ;AACD;;AAED,MAAIA,IAAJ,EAAU;AACRA,QAAI,CAACC,IAAL,GAAYA,IAAZ;AACD;;AAED,MAAIiQ,IAAI,KAAK,KAAK0zB,IAAlB,EAAwB;AACtB,SAAKA,IAAL,GAAY3jC,IAAZ;AACD;;AACD,MAAIiQ,IAAI,KAAK,KAAKwzB,IAAlB,EAAwB;AACtB,SAAKA,IAAL,GAAY1jC,IAAZ;AACD;;AAEDkQ,MAAI,CAACuG,IAAL,CAAUna,MAAV;AACA4T,MAAI,CAACjQ,IAAL,GAAY,IAAZ;AACAiQ,MAAI,CAAClQ,IAAL,GAAY,IAAZ;AACAkQ,MAAI,CAACuG,IAAL,GAAY,IAAZ;AAEA,SAAOxW,IAAP;AACD,CA7BD;;AA+BAkiC,OAAO,CAACjgC,SAAR,CAAkBwiC,WAAlB,GAAgC,UAAUx0B,IAAV,EAAgB;AAC9C,MAAIA,IAAI,KAAK,KAAK0zB,IAAlB,EAAwB;AACtB;AACD;;AAED,MAAI1zB,IAAI,CAACuG,IAAT,EAAe;AACbvG,QAAI,CAACuG,IAAL,CAAUkuB,UAAV,CAAqBz0B,IAArB;AACD;;AAED,MAAI0zB,IAAI,GAAG,KAAKA,IAAhB;AACA1zB,MAAI,CAACuG,IAAL,GAAY,IAAZ;AACAvG,MAAI,CAACjQ,IAAL,GAAY2jC,IAAZ;;AACA,MAAIA,IAAJ,EAAU;AACRA,QAAI,CAAC5jC,IAAL,GAAYkQ,IAAZ;AACD;;AAED,OAAK0zB,IAAL,GAAY1zB,IAAZ;;AACA,MAAI,CAAC,KAAKwzB,IAAV,EAAgB;AACd,SAAKA,IAAL,GAAYxzB,IAAZ;AACD;;AACD,OAAK5T,MAAL;AACD,CArBD;;AAuBA6lC,OAAO,CAACjgC,SAAR,CAAkBkpC,QAAlB,GAA6B,UAAUl7B,IAAV,EAAgB;AAC3C,MAAIA,IAAI,KAAK,KAAKwzB,IAAlB,EAAwB;AACtB;AACD;;AAED,MAAIxzB,IAAI,CAACuG,IAAT,EAAe;AACbvG,QAAI,CAACuG,IAAL,CAAUkuB,UAAV,CAAqBz0B,IAArB;AACD;;AAED,MAAIwzB,IAAI,GAAG,KAAKA,IAAhB;AACAxzB,MAAI,CAACuG,IAAL,GAAY,IAAZ;AACAvG,MAAI,CAAClQ,IAAL,GAAY0jC,IAAZ;;AACA,MAAIA,IAAJ,EAAU;AACRA,QAAI,CAACzjC,IAAL,GAAYiQ,IAAZ;AACD;;AAED,OAAKwzB,IAAL,GAAYxzB,IAAZ;;AACA,MAAI,CAAC,KAAK0zB,IAAV,EAAgB;AACd,SAAKA,IAAL,GAAY1zB,IAAZ;AACD;;AACD,OAAK5T,MAAL;AACD,CArBD;;AAuBA6lC,OAAO,CAACjgC,SAAR,CAAkB9E,IAAlB,GAAyB,YAAY;AACnC,OAAK,IAAIb,CAAC,GAAG,CAAR,EAAW4nC,CAAC,GAAG14B,SAAS,CAACnP,MAA9B,EAAsCC,CAAC,GAAG4nC,CAA1C,EAA6C5nC,CAAC,EAA9C,EAAkD;AAChDa,QAAI,CAAC,IAAD,EAAOqO,SAAS,CAAClP,CAAD,CAAhB,CAAJ;AACD;;AACD,SAAO,KAAKD,MAAZ;AACD,CALD;;AAOA6lC,OAAO,CAACjgC,SAAR,CAAkBpC,OAAlB,GAA4B,YAAY;AACtC,OAAK,IAAIvD,CAAC,GAAG,CAAR,EAAW4nC,CAAC,GAAG14B,SAAS,CAACnP,MAA9B,EAAsCC,CAAC,GAAG4nC,CAA1C,EAA6C5nC,CAAC,EAA9C,EAAkD;AAChDuD,WAAO,CAAC,IAAD,EAAO2L,SAAS,CAAClP,CAAD,CAAhB,CAAP;AACD;;AACD,SAAO,KAAKD,MAAZ;AACD,CALD;;AAOA6lC,OAAO,CAACjgC,SAAR,CAAkBrC,GAAlB,GAAwB,YAAY;AAClC,MAAI,CAAC,KAAK6jC,IAAV,EAAgB;AACd,WAAOvnC,SAAP;AACD;;AAED,MAAIkvC,GAAG,GAAG,KAAK3H,IAAL,CAAUtlC,KAApB;AACA,OAAKslC,IAAL,GAAY,KAAKA,IAAL,CAAU1jC,IAAtB;;AACA,MAAI,KAAK0jC,IAAT,EAAe;AACb,SAAKA,IAAL,CAAUzjC,IAAV,GAAiB,IAAjB;AACD,GAFD,MAEO;AACL,SAAK2jC,IAAL,GAAY,IAAZ;AACD;;AACD,OAAKtnC,MAAL;AACA,SAAO+uC,GAAP;AACD,CAdD;;AAgBAlJ,OAAO,CAACjgC,SAAR,CAAkB8G,KAAlB,GAA0B,YAAY;AACpC,MAAI,CAAC,KAAK46B,IAAV,EAAgB;AACd,WAAOznC,SAAP;AACD;;AAED,MAAIkvC,GAAG,GAAG,KAAKzH,IAAL,CAAUxlC,KAApB;AACA,OAAKwlC,IAAL,GAAY,KAAKA,IAAL,CAAU3jC,IAAtB;;AACA,MAAI,KAAK2jC,IAAT,EAAe;AACb,SAAKA,IAAL,CAAU5jC,IAAV,GAAiB,IAAjB;AACD,GAFD,MAEO;AACL,SAAK0jC,IAAL,GAAY,IAAZ;AACD;;AACD,OAAKpnC,MAAL;AACA,SAAO+uC,GAAP;AACD,CAdD;;AAgBAlJ,OAAO,CAACjgC,SAAR,CAAkBrH,OAAlB,GAA4B,UAAU0oC,EAAV,EAAcC,KAAd,EAAqB;AAC/CA,OAAK,GAAGA,KAAK,IAAI,IAAjB;;AACA,OAAK,IAAIC,MAAM,GAAG,KAAKG,IAAlB,EAAwBrnC,CAAC,GAAG,CAAjC,EAAoCknC,MAAM,KAAK,IAA/C,EAAqDlnC,CAAC,EAAtD,EAA0D;AACxDgnC,MAAE,CAAC7iC,IAAH,CAAQ8iC,KAAR,EAAeC,MAAM,CAACrlC,KAAtB,EAA6B7B,CAA7B,EAAgC,IAAhC;AACAknC,UAAM,GAAGA,MAAM,CAACxjC,IAAhB;AACD;AACF,CAND;;AAQAkiC,OAAO,CAACjgC,SAAR,CAAkBopC,cAAlB,GAAmC,UAAU/H,EAAV,EAAcC,KAAd,EAAqB;AACtDA,OAAK,GAAGA,KAAK,IAAI,IAAjB;;AACA,OAAK,IAAIC,MAAM,GAAG,KAAKC,IAAlB,EAAwBnnC,CAAC,GAAG,KAAKD,MAAL,GAAc,CAA/C,EAAkDmnC,MAAM,KAAK,IAA7D,EAAmElnC,CAAC,EAApE,EAAwE;AACtEgnC,MAAE,CAAC7iC,IAAH,CAAQ8iC,KAAR,EAAeC,MAAM,CAACrlC,KAAtB,EAA6B7B,CAA7B,EAAgC,IAAhC;AACAknC,UAAM,GAAGA,MAAM,CAACzjC,IAAhB;AACD;AACF,CAND;;AAQAmiC,OAAO,CAACjgC,SAAR,CAAkB5G,GAAlB,GAAwB,UAAU0P,CAAV,EAAa;AACnC,OAAK,IAAIzO,CAAC,GAAG,CAAR,EAAWknC,MAAM,GAAG,KAAKG,IAA9B,EAAoCH,MAAM,KAAK,IAAX,IAAmBlnC,CAAC,GAAGyO,CAA3D,EAA8DzO,CAAC,EAA/D,EAAmE;AACjE;AACAknC,UAAM,GAAGA,MAAM,CAACxjC,IAAhB;AACD;;AACD,MAAI1D,CAAC,KAAKyO,CAAN,IAAWy4B,MAAM,KAAK,IAA1B,EAAgC;AAC9B,WAAOA,MAAM,CAACrlC,KAAd;AACD;AACF,CARD;;AAUA+jC,OAAO,CAACjgC,SAAR,CAAkBqpC,UAAlB,GAA+B,UAAUvgC,CAAV,EAAa;AAC1C,OAAK,IAAIzO,CAAC,GAAG,CAAR,EAAWknC,MAAM,GAAG,KAAKC,IAA9B,EAAoCD,MAAM,KAAK,IAAX,IAAmBlnC,CAAC,GAAGyO,CAA3D,EAA8DzO,CAAC,EAA/D,EAAmE;AACjE;AACAknC,UAAM,GAAGA,MAAM,CAACzjC,IAAhB;AACD;;AACD,MAAIzD,CAAC,KAAKyO,CAAN,IAAWy4B,MAAM,KAAK,IAA1B,EAAgC;AAC9B,WAAOA,MAAM,CAACrlC,KAAd;AACD;AACF,CARD;;AAUA+jC,OAAO,CAACjgC,SAAR,CAAkB6I,GAAlB,GAAwB,UAAUw4B,EAAV,EAAcC,KAAd,EAAqB;AAC3CA,OAAK,GAAGA,KAAK,IAAI,IAAjB;AACA,MAAI6H,GAAG,GAAG,IAAIlJ,OAAJ,EAAV;;AACA,OAAK,IAAIsB,MAAM,GAAG,KAAKG,IAAvB,EAA6BH,MAAM,KAAK,IAAxC,GAA+C;AAC7C4H,OAAG,CAACjuC,IAAJ,CAASmmC,EAAE,CAAC7iC,IAAH,CAAQ8iC,KAAR,EAAeC,MAAM,CAACrlC,KAAtB,EAA6B,IAA7B,CAAT;AACAqlC,UAAM,GAAGA,MAAM,CAACxjC,IAAhB;AACD;;AACD,SAAOorC,GAAP;AACD,CARD;;AAUAlJ,OAAO,CAACjgC,SAAR,CAAkBspC,UAAlB,GAA+B,UAAUjI,EAAV,EAAcC,KAAd,EAAqB;AAClDA,OAAK,GAAGA,KAAK,IAAI,IAAjB;AACA,MAAI6H,GAAG,GAAG,IAAIlJ,OAAJ,EAAV;;AACA,OAAK,IAAIsB,MAAM,GAAG,KAAKC,IAAvB,EAA6BD,MAAM,KAAK,IAAxC,GAA+C;AAC7C4H,OAAG,CAACjuC,IAAJ,CAASmmC,EAAE,CAAC7iC,IAAH,CAAQ8iC,KAAR,EAAeC,MAAM,CAACrlC,KAAtB,EAA6B,IAA7B,CAAT;AACAqlC,UAAM,GAAGA,MAAM,CAACzjC,IAAhB;AACD;;AACD,SAAOqrC,GAAP;AACD,CARD;;AAUAlJ,OAAO,CAACjgC,SAAR,CAAkB5B,MAAlB,GAA2B,UAAUijC,EAAV,EAAckI,OAAd,EAAuB;AAChD,MAAIC,GAAJ;AACA,MAAIjI,MAAM,GAAG,KAAKG,IAAlB;;AACA,MAAIn4B,SAAS,CAACnP,MAAV,GAAmB,CAAvB,EAA0B;AACxBovC,OAAG,GAAGD,OAAN;AACD,GAFD,MAEO,IAAI,KAAK7H,IAAT,EAAe;AACpBH,UAAM,GAAG,KAAKG,IAAL,CAAU3jC,IAAnB;AACAyrC,OAAG,GAAG,KAAK9H,IAAL,CAAUxlC,KAAhB;AACD,GAHM,MAGA;AACL,UAAM,IAAImM,SAAJ,CAAc,4CAAd,CAAN;AACD;;AAED,OAAK,IAAIhO,CAAC,GAAG,CAAb,EAAgBknC,MAAM,KAAK,IAA3B,EAAiClnC,CAAC,EAAlC,EAAsC;AACpCmvC,OAAG,GAAGnI,EAAE,CAACmI,GAAD,EAAMjI,MAAM,CAACrlC,KAAb,EAAoB7B,CAApB,CAAR;AACAknC,UAAM,GAAGA,MAAM,CAACxjC,IAAhB;AACD;;AAED,SAAOyrC,GAAP;AACD,CAlBD;;AAoBAvJ,OAAO,CAACjgC,SAAR,CAAkBypC,aAAlB,GAAkC,UAAUpI,EAAV,EAAckI,OAAd,EAAuB;AACvD,MAAIC,GAAJ;AACA,MAAIjI,MAAM,GAAG,KAAKC,IAAlB;;AACA,MAAIj4B,SAAS,CAACnP,MAAV,GAAmB,CAAvB,EAA0B;AACxBovC,OAAG,GAAGD,OAAN;AACD,GAFD,MAEO,IAAI,KAAK/H,IAAT,EAAe;AACpBD,UAAM,GAAG,KAAKC,IAAL,CAAU1jC,IAAnB;AACA0rC,OAAG,GAAG,KAAKhI,IAAL,CAAUtlC,KAAhB;AACD,GAHM,MAGA;AACL,UAAM,IAAImM,SAAJ,CAAc,4CAAd,CAAN;AACD;;AAED,OAAK,IAAIhO,CAAC,GAAG,KAAKD,MAAL,GAAc,CAA3B,EAA8BmnC,MAAM,KAAK,IAAzC,EAA+ClnC,CAAC,EAAhD,EAAoD;AAClDmvC,OAAG,GAAGnI,EAAE,CAACmI,GAAD,EAAMjI,MAAM,CAACrlC,KAAb,EAAoB7B,CAApB,CAAR;AACAknC,UAAM,GAAGA,MAAM,CAACzjC,IAAhB;AACD;;AAED,SAAO0rC,GAAP;AACD,CAlBD;;AAoBAvJ,OAAO,CAACjgC,SAAR,CAAkB2hC,OAAlB,GAA4B,YAAY;AACtC,MAAIK,GAAG,GAAG,IAAI7nC,KAAJ,CAAU,KAAKC,MAAf,CAAV;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAR,EAAWknC,MAAM,GAAG,KAAKG,IAA9B,EAAoCH,MAAM,KAAK,IAA/C,EAAqDlnC,CAAC,EAAtD,EAA0D;AACxD2nC,OAAG,CAAC3nC,CAAD,CAAH,GAASknC,MAAM,CAACrlC,KAAhB;AACAqlC,UAAM,GAAGA,MAAM,CAACxjC,IAAhB;AACD;;AACD,SAAOikC,GAAP;AACD,CAPD;;AASA/B,OAAO,CAACjgC,SAAR,CAAkB0pC,cAAlB,GAAmC,YAAY;AAC7C,MAAI1H,GAAG,GAAG,IAAI7nC,KAAJ,CAAU,KAAKC,MAAf,CAAV;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAR,EAAWknC,MAAM,GAAG,KAAKC,IAA9B,EAAoCD,MAAM,KAAK,IAA/C,EAAqDlnC,CAAC,EAAtD,EAA0D;AACxD2nC,OAAG,CAAC3nC,CAAD,CAAH,GAASknC,MAAM,CAACrlC,KAAhB;AACAqlC,UAAM,GAAGA,MAAM,CAACzjC,IAAhB;AACD;;AACD,SAAOkkC,GAAP;AACD,CAPD;;AASA/B,OAAO,CAACjgC,SAAR,CAAkB/E,KAAlB,GAA0B,UAAUwD,IAAV,EAAgB2K,EAAhB,EAAoB;AAC5CA,IAAE,GAAGA,EAAE,IAAI,KAAKhP,MAAhB;;AACA,MAAIgP,EAAE,GAAG,CAAT,EAAY;AACVA,MAAE,IAAI,KAAKhP,MAAX;AACD;;AACDqE,MAAI,GAAGA,IAAI,IAAI,CAAf;;AACA,MAAIA,IAAI,GAAG,CAAX,EAAc;AACZA,QAAI,IAAI,KAAKrE,MAAb;AACD;;AACD,MAAI2d,GAAG,GAAG,IAAIkoB,OAAJ,EAAV;;AACA,MAAI72B,EAAE,GAAG3K,IAAL,IAAa2K,EAAE,GAAG,CAAtB,EAAyB;AACvB,WAAO2O,GAAP;AACD;;AACD,MAAItZ,IAAI,GAAG,CAAX,EAAc;AACZA,QAAI,GAAG,CAAP;AACD;;AACD,MAAI2K,EAAE,GAAG,KAAKhP,MAAd,EAAsB;AACpBgP,MAAE,GAAG,KAAKhP,MAAV;AACD;;AACD,OAAK,IAAIC,CAAC,GAAG,CAAR,EAAWknC,MAAM,GAAG,KAAKG,IAA9B,EAAoCH,MAAM,KAAK,IAAX,IAAmBlnC,CAAC,GAAGoE,IAA3D,EAAiEpE,CAAC,EAAlE,EAAsE;AACpEknC,UAAM,GAAGA,MAAM,CAACxjC,IAAhB;AACD;;AACD,SAAOwjC,MAAM,KAAK,IAAX,IAAmBlnC,CAAC,GAAG+O,EAA9B,EAAkC/O,CAAC,IAAIknC,MAAM,GAAGA,MAAM,CAACxjC,IAAvD,EAA6D;AAC3Dga,OAAG,CAAC7c,IAAJ,CAASqmC,MAAM,CAACrlC,KAAhB;AACD;;AACD,SAAO6b,GAAP;AACD,CA1BD;;AA4BAkoB,OAAO,CAACjgC,SAAR,CAAkB2pC,YAAlB,GAAiC,UAAUlrC,IAAV,EAAgB2K,EAAhB,EAAoB;AACnDA,IAAE,GAAGA,EAAE,IAAI,KAAKhP,MAAhB;;AACA,MAAIgP,EAAE,GAAG,CAAT,EAAY;AACVA,MAAE,IAAI,KAAKhP,MAAX;AACD;;AACDqE,MAAI,GAAGA,IAAI,IAAI,CAAf;;AACA,MAAIA,IAAI,GAAG,CAAX,EAAc;AACZA,QAAI,IAAI,KAAKrE,MAAb;AACD;;AACD,MAAI2d,GAAG,GAAG,IAAIkoB,OAAJ,EAAV;;AACA,MAAI72B,EAAE,GAAG3K,IAAL,IAAa2K,EAAE,GAAG,CAAtB,EAAyB;AACvB,WAAO2O,GAAP;AACD;;AACD,MAAItZ,IAAI,GAAG,CAAX,EAAc;AACZA,QAAI,GAAG,CAAP;AACD;;AACD,MAAI2K,EAAE,GAAG,KAAKhP,MAAd,EAAsB;AACpBgP,MAAE,GAAG,KAAKhP,MAAV;AACD;;AACD,OAAK,IAAIC,CAAC,GAAG,KAAKD,MAAb,EAAqBmnC,MAAM,GAAG,KAAKC,IAAxC,EAA8CD,MAAM,KAAK,IAAX,IAAmBlnC,CAAC,GAAG+O,EAArE,EAAyE/O,CAAC,EAA1E,EAA8E;AAC5EknC,UAAM,GAAGA,MAAM,CAACzjC,IAAhB;AACD;;AACD,SAAOyjC,MAAM,KAAK,IAAX,IAAmBlnC,CAAC,GAAGoE,IAA9B,EAAoCpE,CAAC,IAAIknC,MAAM,GAAGA,MAAM,CAACzjC,IAAzD,EAA+D;AAC7Dia,OAAG,CAAC7c,IAAJ,CAASqmC,MAAM,CAACrlC,KAAhB;AACD;;AACD,SAAO6b,GAAP;AACD,CA1BD;;AA4BAkoB,OAAO,CAACjgC,SAAR,CAAkBlB,MAAlB,GAA2B,UAAU8qC,KAAV,EAAiBC;AAAY;AAA7B,EAA8C;AACvE,MAAID,KAAK,GAAG,KAAKxvC,MAAjB,EAAyB;AACvBwvC,SAAK,GAAG,KAAKxvC,MAAL,GAAc,CAAtB;AACD;;AACD,MAAIwvC,KAAK,GAAG,CAAZ,EAAe;AACbA,SAAK,GAAG,KAAKxvC,MAAL,GAAcwvC,KAAtB;AACD;;AAED,OAAK,IAAIvvC,CAAC,GAAG,CAAR,EAAWknC,MAAM,GAAG,KAAKG,IAA9B,EAAoCH,MAAM,KAAK,IAAX,IAAmBlnC,CAAC,GAAGuvC,KAA3D,EAAkEvvC,CAAC,EAAnE,EAAuE;AACrEknC,UAAM,GAAGA,MAAM,CAACxjC,IAAhB;AACD;;AAED,MAAIga,GAAG,GAAG,EAAV;;AACA,OAAK,IAAI1d,CAAC,GAAG,CAAb,EAAgBknC,MAAM,IAAIlnC,CAAC,GAAGwvC,WAA9B,EAA2CxvC,CAAC,EAA5C,EAAgD;AAC9C0d,OAAG,CAAC7c,IAAJ,CAASqmC,MAAM,CAACrlC,KAAhB;AACAqlC,UAAM,GAAG,KAAKkB,UAAL,CAAgBlB,MAAhB,CAAT;AACD;;AACD,MAAIA,MAAM,KAAK,IAAf,EAAqB;AACnBA,UAAM,GAAG,KAAKC,IAAd;AACD;;AAED,MAAID,MAAM,KAAK,KAAKG,IAAhB,IAAwBH,MAAM,KAAK,KAAKC,IAA5C,EAAkD;AAChDD,UAAM,GAAGA,MAAM,CAACzjC,IAAhB;AACD;;AAED,OAAK,IAAIzD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkP,SAAS,CAACnP,MAA9B,EAAsCC,CAAC,EAAvC,EAA2C;AACzCknC,UAAM,GAAGuI,MAAM,CAAC,IAAD,EAAOvI,MAAP,EAAeh4B,SAAS,CAAClP,CAAD,CAAxB,CAAf;AACD;;AACD,SAAO0d,GAAP;AACD,CA7BD;;AA+BAkoB,OAAO,CAACjgC,SAAR,CAAkBu6B,OAAlB,GAA4B,YAAY;AACtC,MAAImH,IAAI,GAAG,KAAKA,IAAhB;AACA,MAAIF,IAAI,GAAG,KAAKA,IAAhB;;AACA,OAAK,IAAID,MAAM,GAAGG,IAAlB,EAAwBH,MAAM,KAAK,IAAnC,EAAyCA,MAAM,GAAGA,MAAM,CAACzjC,IAAzD,EAA+D;AAC7D,QAAI+Z,CAAC,GAAG0pB,MAAM,CAACzjC,IAAf;AACAyjC,UAAM,CAACzjC,IAAP,GAAcyjC,MAAM,CAACxjC,IAArB;AACAwjC,UAAM,CAACxjC,IAAP,GAAc8Z,CAAd;AACD;;AACD,OAAK6pB,IAAL,GAAYF,IAAZ;AACA,OAAKA,IAAL,GAAYE,IAAZ;AACA,SAAO,IAAP;AACD,CAXD;;AAaA,SAASoI,MAAT,CAAiBhuB,IAAjB,EAAuB9N,IAAvB,EAA6B9R,KAA7B,EAAoC;AAClC,MAAI6tC,QAAQ,GAAG/7B,IAAI,KAAK8N,IAAI,CAAC4lB,IAAd,GACb,IAAIpD,IAAJ,CAASpiC,KAAT,EAAgB,IAAhB,EAAsB8R,IAAtB,EAA4B8N,IAA5B,CADa,GAEb,IAAIwiB,IAAJ,CAASpiC,KAAT,EAAgB8R,IAAhB,EAAsBA,IAAI,CAACjQ,IAA3B,EAAiC+d,IAAjC,CAFF;;AAIA,MAAIiuB,QAAQ,CAAChsC,IAAT,KAAkB,IAAtB,EAA4B;AAC1B+d,QAAI,CAAC0lB,IAAL,GAAYuI,QAAZ;AACD;;AACD,MAAIA,QAAQ,CAACjsC,IAAT,KAAkB,IAAtB,EAA4B;AAC1Bge,QAAI,CAAC4lB,IAAL,GAAYqI,QAAZ;AACD;;AAEDjuB,MAAI,CAAC1hB,MAAL;AAEA,SAAO2vC,QAAP;AACD;;AAED,SAAS7uC,IAAT,CAAe4gB,IAAf,EAAqBzO,IAArB,EAA2B;AACzByO,MAAI,CAAC0lB,IAAL,GAAY,IAAIlD,IAAJ,CAASjxB,IAAT,EAAeyO,IAAI,CAAC0lB,IAApB,EAA0B,IAA1B,EAAgC1lB,IAAhC,CAAZ;;AACA,MAAI,CAACA,IAAI,CAAC4lB,IAAV,EAAgB;AACd5lB,QAAI,CAAC4lB,IAAL,GAAY5lB,IAAI,CAAC0lB,IAAjB;AACD;;AACD1lB,MAAI,CAAC1hB,MAAL;AACD;;AAED,SAASwD,OAAT,CAAkBke,IAAlB,EAAwBzO,IAAxB,EAA8B;AAC5ByO,MAAI,CAAC4lB,IAAL,GAAY,IAAIpD,IAAJ,CAASjxB,IAAT,EAAe,IAAf,EAAqByO,IAAI,CAAC4lB,IAA1B,EAAgC5lB,IAAhC,CAAZ;;AACA,MAAI,CAACA,IAAI,CAAC0lB,IAAV,EAAgB;AACd1lB,QAAI,CAAC0lB,IAAL,GAAY1lB,IAAI,CAAC4lB,IAAjB;AACD;;AACD5lB,MAAI,CAAC1hB,MAAL;AACD;;AAED,SAASkkC,IAAT,CAAepiC,KAAf,EAAsB4B,IAAtB,EAA4BC,IAA5B,EAAkCwW,IAAlC,EAAwC;AACtC,MAAI,EAAE,gBAAgB+pB,IAAlB,CAAJ,EAA6B;AAC3B,WAAO,IAAIA,IAAJ,CAASpiC,KAAT,EAAgB4B,IAAhB,EAAsBC,IAAtB,EAA4BwW,IAA5B,CAAP;AACD;;AAED,OAAKA,IAAL,GAAYA,IAAZ;AACA,OAAKrY,KAAL,GAAaA,KAAb;;AAEA,MAAI4B,IAAJ,EAAU;AACRA,QAAI,CAACC,IAAL,GAAY,IAAZ;AACA,SAAKD,IAAL,GAAYA,IAAZ;AACD,GAHD,MAGO;AACL,SAAKA,IAAL,GAAY,IAAZ;AACD;;AAED,MAAIC,IAAJ,EAAU;AACRA,QAAI,CAACD,IAAL,GAAY,IAAZ;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACD,GAHD,MAGO;AACL,SAAKA,IAAL,GAAY,IAAZ;AACD;AACF;;AAED,IAAI;AACF;AACAiK,qBAAO,CAAC,EAAD,CAAP,CAAyBi4B,OAAzB;AACD,CAHD,CAGE,OAAO9tB,EAAP,EAAW,CAAE,C;;;;;;;ACzaf;;AACArK,MAAM,CAACC,OAAP,GAAiB,UAAUk4B,OAAV,EAAmB;AAClCA,SAAO,CAACjgC,SAAR,CAAkBjJ,MAAM,CAACI,QAAzB,yCAAqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAC1BoqC,kBAD0B,GACjB,KAAKG,IADY;;AAAA;AAAA,iBACNH,MADM;AAAA;AAAA;AAAA;;AAAA;AAEjC,mBAAMA,MAAM,CAACrlC,KAAb;;AAFiC;AACEqlC,kBAAM,GAAGA,MAAM,CAACxjC,IADlB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArC;AAKD,CAND,C;;;;;;;ACDA;;;;;;;;AAQa;;;;AAAA,IAAIhG,CAAC,GAAC,KAAN;AAAA,IAAYme,CAAC,GAAC,KAAd;AAAA,IAAoBmpB,CAAC,GAAC,KAAtB;AAAA,IAA4BlkB,CAAC,GAAC,KAA9B;AAAA,IAAoCikB,CAAC,GAAC,KAAtC;AAAA,IAA4CnkB,CAAC,GAAC,KAA9C;AAAA,IAAoDwkB,CAAC,GAAC,KAAtD;AAAA,IAA4DG,CAAC,GAAC,KAA9D;AAAA,IAAoEqC,CAAC,GAAC,KAAtE;AAAA,IAA4EzvB,CAAC,GAAC,KAA9E;AAAA,IAAoF1J,CAAC,GAAC,KAAtF;AAAA,IAA4F+O,CAAC,GAAC,KAA9F;AAAA,IAAoGmyB,CAAC,GAAC,KAAtG;AAAA,IAA4G93B,CAAC,GAAC,KAA9G;AAAA,IAAoH+3B,CAAC,GAAC,KAAtH;AAAA,IAA4H53B,CAAC,GAAC,KAA9H;;AACb,IAAG,eAAa,OAAOtb,MAApB,IAA4BA,MAAM,CAACC,GAAtC,EAA0C;AAAC,MAAIkzC,CAAC,GAACnzC,MAAM,CAACC,GAAb;AAAiBe,GAAC,GAACmyC,CAAC,CAAC,eAAD,CAAH;AAAqBh0B,GAAC,GAACg0B,CAAC,CAAC,cAAD,CAAH;AAAoB7K,GAAC,GAAC6K,CAAC,CAAC,gBAAD,CAAH;AAAsB/uB,GAAC,GAAC+uB,CAAC,CAAC,mBAAD,CAAH;AAAyB9K,GAAC,GAAC8K,CAAC,CAAC,gBAAD,CAAH;AAAsBjvB,GAAC,GAACivB,CAAC,CAAC,gBAAD,CAAH;AAAsBzK,GAAC,GAACyK,CAAC,CAAC,eAAD,CAAH;AAAqBtK,GAAC,GAACsK,CAAC,CAAC,mBAAD,CAAH;AAAyBjI,GAAC,GAACiI,CAAC,CAAC,gBAAD,CAAH;AAAsB13B,GAAC,GAAC03B,CAAC,CAAC,qBAAD,CAAH;AAA2BphC,GAAC,GAACohC,CAAC,CAAC,YAAD,CAAH;AAAkBryB,GAAC,GAACqyB,CAAC,CAAC,YAAD,CAAH;AAAkBF,GAAC,GAACE,CAAC,CAAC,wBAAD,CAAH;AAA8Bh4B,GAAC,GAACg4B,CAAC,CAAC,iBAAD,CAAH;AAAuBD,GAAC,GAACC,CAAC,CAAC,qBAAD,CAAH;AAA2B73B,GAAC,GAAC63B,CAAC,CAAC,aAAD,CAAH;AAAmB;;AAAA,IAAIzrB,CAAC,GAAC,CAAN;AAAQ,eAAa,OAAO1nB,MAApB,KAA6B0nB,CAAC,GAAC1nB,MAAM,CAACC,GAAP,CAAW,wBAAX,CAA/B;;AAC9a,SAAS0nB,CAAT,CAAW5mB,CAAX,EAAa;AAAC,MAAG,qBAAkBA,CAAlB,KAAqB,SAAOA,CAA/B,EAAiC;AAAC,QAAImX,CAAC,GAACnX,CAAC,CAACypB,QAAR;;AAAiB,YAAOtS,CAAP;AAAU,WAAKlX,CAAL;AAAO,gBAAOD,CAAC,GAACA,CAAC,CAACmB,IAAJ,EAASnB,CAAhB;AAAmB,eAAKunC,CAAL;AAAO,eAAKD,CAAL;AAAO,eAAKjkB,CAAL;AAAO,eAAK8mB,CAAL;AAAO,eAAKzvB,CAAL;AAAO,mBAAO1a,CAAP;;AAAS;AAAQ,oBAAOA,CAAC,GAACA,CAAC,IAAEA,CAAC,CAACypB,QAAP,EAAgBzpB,CAAvB;AAA0B,mBAAK2nC,CAAL;AAAO,mBAAKG,CAAL;AAAO,mBAAK/nB,CAAL;AAAO,mBAAK/O,CAAL;AAAO,mBAAKmS,CAAL;AAAO,uBAAOnjB,CAAP;;AAAS;AAAQ,uBAAOmX,CAAP;AAA9E;;AAAvE;;AAA+J,WAAKiH,CAAL;AAAO,eAAOjH,CAAP;AAAvL;AAAiM;AAAC;;AAAA,IAAIk7B,CAAC,GAAClvB,CAAN;AAAA,IAAQmvB,CAAC,GAACryC,CAAV;AAAA,IAAYsyC,CAAC,GAACzK,CAAd;AAAA,IAAgB0K,CAAC,GAACjL,CAAlB;AAAA,IAAoBkL,CAAC,GAAC1yB,CAAtB;AAAA,IAAwB2yB,CAAC,GAAC1hC,CAA1B;AAAA,IAA4B2hC,CAAC,GAACv0B,CAA9B;AAAA,IAAgCw0B,CAAC,GAACtL,CAAlC;AAAA,IAAoCuL,CAAC,GAACxvB,CAAtC;AAAA,IAAwCyvB,CAAC,GAAC3I,CAA1C;AAAA,IAA4C4I,CAAC,GAACr4B,CAA9C;AAAgDzK,OAAO,CAAC1H,eAAR,GAAwBo/B,CAAxB;AAA0B13B,OAAO,CAACzH,eAAR,GAAwB6pC,CAAxB;AAA0BpiC,OAAO,CAAC+iC,OAAR,GAAgBV,CAAhB;AAAkBriC,OAAO,CAACxH,UAAR,GAAmB8pC,CAAnB;AAAqBtiC,OAAO,CAACvH,QAAR,GAAiB8pC,CAAjB;AAAmBviC,OAAO,CAACtH,IAAR,GAAa8pC,CAAb;AAAexiC,OAAO,CAACrH,IAAR,GAAa8pC,CAAb;AAAeziC,OAAO,CAACpH,MAAR,GAAe8pC,CAAf;AAAiB1iC,OAAO,CAACnH,QAAR,GAAiB8pC,CAAjB;AAChd3iC,OAAO,CAAClH,UAAR,GAAmB8pC,CAAnB;AAAqB5iC,OAAO,CAACjH,QAAR,GAAiB8pC,CAAjB;AAAmB7iC,OAAO,CAAChH,YAAR,GAAqB8pC,CAArB;;AAAuB9iC,OAAO,CAACgjC,WAAR,GAAoB,YAAU;AAAC,SAAM,CAAC,CAAP;AAAS,CAAxC;;AAAyChjC,OAAO,CAACijC,gBAAR,GAAyB,YAAU;AAAC,SAAM,CAAC,CAAP;AAAS,CAA7C;;AAA8CjjC,OAAO,CAACkjC,iBAAR,GAA0B,UAASnzC,CAAT,EAAW;AAAC,SAAO4mB,CAAC,CAAC5mB,CAAD,CAAD,KAAO2nC,CAAd;AAAgB,CAAtD;;AAAuD13B,OAAO,CAACmjC,iBAAR,GAA0B,UAASpzC,CAAT,EAAW;AAAC,SAAO4mB,CAAC,CAAC5mB,CAAD,CAAD,KAAOmjB,CAAd;AAAgB,CAAtD;;AAAuDlT,OAAO,CAACxI,SAAR,GAAkB,UAASzH,CAAT,EAAW;AAAC,SAAM,qBAAkBA,CAAlB,KAAqB,SAAOA,CAA5B,IAA+BA,CAAC,CAACypB,QAAF,KAAaxpB,CAAlD;AAAoD,CAAlF;;AAAmFgQ,OAAO,CAACojC,YAAR,GAAqB,UAASrzC,CAAT,EAAW;AAAC,SAAO4mB,CAAC,CAAC5mB,CAAD,CAAD,KAAO8nC,CAAd;AAAgB,CAAjD;;AAAkD73B,OAAO,CAACqjC,UAAR,GAAmB,UAAStzC,CAAT,EAAW;AAAC,SAAO4mB,CAAC,CAAC5mB,CAAD,CAAD,KAAOunC,CAAd;AAAgB,CAA/C;;AAAgDt3B,OAAO,CAACsjC,MAAR,GAAe,UAASvzC,CAAT,EAAW;AAAC,SAAO4mB,CAAC,CAAC5mB,CAAD,CAAD,KAAO+f,CAAd;AAAgB,CAA3C;;AACzb9P,OAAO,CAACujC,MAAR,GAAe,UAASxzC,CAAT,EAAW;AAAC,SAAO4mB,CAAC,CAAC5mB,CAAD,CAAD,KAAOgR,CAAd;AAAgB,CAA3C;;AAA4Cf,OAAO,CAACwjC,QAAR,GAAiB,UAASzzC,CAAT,EAAW;AAAC,SAAO4mB,CAAC,CAAC5mB,CAAD,CAAD,KAAOoe,CAAd;AAAgB,CAA7C;;AAA8CnO,OAAO,CAACyjC,UAAR,GAAmB,UAAS1zC,CAAT,EAAW;AAAC,SAAO4mB,CAAC,CAAC5mB,CAAD,CAAD,KAAOsnC,CAAd;AAAgB,CAA/C;;AAAgDr3B,OAAO,CAAC0jC,YAAR,GAAqB,UAAS3zC,CAAT,EAAW;AAAC,SAAO4mB,CAAC,CAAC5mB,CAAD,CAAD,KAAOqjB,CAAd;AAAgB,CAAjD;;AAAkDpT,OAAO,CAACumB,UAAR,GAAmB,UAASx2B,CAAT,EAAW;AAAC,SAAO4mB,CAAC,CAAC5mB,CAAD,CAAD,KAAOmqC,CAAd;AAAgB,CAA/C;;AAAgDl6B,OAAO,CAAC2jC,cAAR,GAAuB,UAAS5zC,CAAT,EAAW;AAAC,SAAO4mB,CAAC,CAAC5mB,CAAD,CAAD,KAAO0a,CAAd;AAAgB,CAAnD;;AAC5OzK,OAAO,CAAC4jC,kBAAR,GAA2B,UAAS7zC,CAAT,EAAW;AAAC,SAAM,aAAW,OAAOA,CAAlB,IAAqB,eAAa,OAAOA,CAAzC,IAA4CA,CAAC,KAAGunC,CAAhD,IAAmDvnC,CAAC,KAAGsnC,CAAvD,IAA0DtnC,CAAC,KAAGkyC,CAA9D,IAAiElyC,CAAC,KAAGqjB,CAArE,IAAwErjB,CAAC,KAAGmqC,CAA5E,IAA+EnqC,CAAC,KAAG0a,CAAnF,IAAsF1a,CAAC,KAAGmyC,CAA1F,IAA6FnyC,CAAC,KAAGoa,CAAjG,IAAoGpa,CAAC,KAAGua,CAAxG,IAA2G,qBAAkBva,CAAlB,KAAqB,SAAOA,CAA5B,KAAgCA,CAAC,CAACypB,QAAF,KAAa1J,CAAb,IAAgB/f,CAAC,CAACypB,QAAF,KAAazY,CAA7B,IAAgChR,CAAC,CAACypB,QAAF,KAAatG,CAA7C,IAAgDnjB,CAAC,CAACypB,QAAF,KAAake,CAA7D,IAAgE3nC,CAAC,CAACypB,QAAF,KAAaqe,CAA7E,IAAgF9nC,CAAC,CAACypB,QAAF,KAAa9C,CAA7F,IAAgG,KAAK,CAAL,KAAS3mB,CAAC,CAAC8zC,WAA3I,CAA3G,GAAmQ,CAAC,CAApQ,GAAsQ,CAAC,CAA7Q;AAA+Q,CAAtT;;AAAuT7jC,OAAO,CAAC3H,MAAR,GAAese,CAAf,C;;;;;;;ACbvT;;;;;;;;AAQa;;;;AAAA,IAAIkhB,CAAC,GAAC53B,mBAAO,CAAC,CAAD,CAAb;AAAA,IAA+B6P,CAAC,GAAC7P,mBAAO,CAAC,EAAD,CAAxC;;AAA+D,SAASkK,CAAT,CAAWpa,CAAX,EAAa;AAAC,OAAI,IAAIC,CAAC,GAAC,2DAAyDD,CAA/D,EAAiEqjB,CAAC,GAAC,CAAvE,EAAyEA,CAAC,GAAC5R,SAAS,CAACnP,MAArF,EAA4F+gB,CAAC,EAA7F;AAAgGpjB,KAAC,IAAE,aAAW8zC,kBAAkB,CAACtiC,SAAS,CAAC4R,CAAD,CAAV,CAAhC;AAAhG;;AAA+I,SAAM,2BAAyBrjB,CAAzB,GAA2B,UAA3B,GAAsCC,CAAtC,GAAwC,gHAA9C;AAA+J;;AAAA,IAAImyC,CAAC,GAACliC,mBAAO,CAAC,EAAD,CAAP,CAAiB8jC,kDAAvB;AAAA,IAA0ErtB,CAAC,GAAC,KAA5E;;AACxY,IAAG,eAAa,OAAO1nB,MAApB,IAA4BA,MAAM,CAACC,GAAtC,EAA0C;AAAC,MAAI0nB,CAAC,GAAC3nB,MAAM,CAACC,GAAb;AAAiBynB,GAAC,GAACC,CAAC,CAAC,iBAAD,CAAH;AAAuB;;AAAA,IAAIyrB,CAAC,GAAC,EAAN;AAAA,IAASC,CAAC,GAAC,IAAX;AAAA,IAAgBC,CAAC,GAAC,IAAlB;;AACnF,SAASC,CAAT,GAAY;AAAC,MAAG,SAAOF,CAAV,EAAY;AAAC,QAAItyC,CAAC,GAAC,IAAIiS,GAAJ,EAAN;;AAAc,QAAG;AAACwgC,OAAC,CAACwB,UAAF,CAAa;AAACjX,qBAAa,EAAC;AAAf,OAAb,GAAmCyV,CAAC,CAACyB,QAAF,CAAW,IAAX,CAAnC,EAAoDzB,CAAC,CAAC0B,UAAF,CAAa,UAASn0C,CAAT,EAAW;AAAC,eAAOA,CAAP;AAAS,OAAlC,EAAmC,IAAnC,CAApD,EAA6FyyC,CAAC,CAAC2B,MAAF,CAAS,IAAT,CAA7F,EAA4G,eAAa,OAAO3B,CAAC,CAAC4B,eAAtB,IAAuC5B,CAAC,CAAC4B,eAAF,EAAnJ,EAAuK5B,CAAC,CAAC6B,eAAF,CAAkB,YAAU,CAAE,CAA9B,CAAvK,EAAuM7B,CAAC,CAAC8B,SAAF,CAAY,YAAU,CAAE,CAAxB,CAAvM,EAAiO9B,CAAC,CAAC+B,mBAAF,CAAsB,KAAK,CAA3B,EAA6B,YAAU;AAAC,eAAO,IAAP;AAAY,OAApD,CAAjO,EAAuR/B,CAAC,CAACgC,aAAF,CAAgB,IAAhB,CAAvR,EAA6ShC,CAAC,CAACiC,WAAF,CAAc,YAAU,CAAE,CAA1B,CAA7S,EAAyUjC,CAAC,CAACkC,OAAF,CAAU,YAAU;AAAC,eAAO,IAAP;AAAY,OAAjC,CAAzU;AAA4W,KAAhX,SAAuX;AAAC,UAAI10C,CAAC,GAACoyC,CAAN;AAAQA,OAAC,GAAC,EAAF;AAAK;;AAAA,SAAI,IAAIhvB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACpjB,CAAC,CAACqC,MAAhB,EAAuB+gB,CAAC,EAAxB,EAA2B;AAAC,UAAIikB,CAAC,GAACrnC,CAAC,CAACojB,CAAD,CAAP;AAAWrjB,OAAC,CAACyB,GAAF,CAAM6lC,CAAC,CAACsN,SAAR,EAAkB70B,CAAC,CAACrb,KAAF,CAAQ4iC,CAAC,CAACuN,UAAV,CAAlB;AAAyC;;AAAAvC,KAAC,GAC9ftyC,CAD6f;AAC3f;;AAAA,SAAOsyC,CAAP;AAAS;;AAAA,IAAII,CAAC,GAAC,IAAN;;AAAW,SAASC,CAAT,GAAY;AAAC,MAAI3yC,CAAC,GAAC0yC,CAAN;AAAQ,WAAO1yC,CAAP,KAAW0yC,CAAC,GAAC1yC,CAAC,CAACiG,IAAf;AAAqB,SAAOjG,CAAP;AAAS;;AACzE,IAAIyyC,CAAC,GAAC;AAACqC,iBAAe,EAAC,2BAAU;AAAC,UAAM9wC,KAAK,CAACoW,CAAC,CAAC,GAAD,CAAF,CAAX;AAAqB,GAAjD;AAAkD26B,aAAW,EAAC,qBAAS/0C,CAAT,EAAW;AAAC,WAAOA,CAAC,CAACg9B,aAAT;AAAuB,GAAjG;AAAkGqX,iBAAe,EAAC,2BAAU;AAAC,QAAIr0C,CAAC,GAAC2yC,CAAC,EAAP;AAAUN,KAAC,CAACjvC,IAAF,CAAO;AAACwxC,eAAS,EAAC,cAAX;AAA0BC,gBAAU,EAAC7wC,KAAK,EAA1C;AAA6CI,WAAK,EAAC,SAAOpE,CAAP,GAASA,CAAC,CAAC6wB,aAAX,GAAyB,YAAU,CAAE;AAAxF,KAAP;AAAkG,WAAO,YAAU,CAAE,CAAnB;AAAoB,GAA7P;AAA8P6jB,aAAW,EAAC,qBAAS10C,CAAT,EAAW;AAAC,QAAIC,CAAC,GAAC0yC,CAAC,EAAP;AAAUN,KAAC,CAACjvC,IAAF,CAAO;AAACwxC,eAAS,EAAC,UAAX;AAAsBC,gBAAU,EAAC7wC,KAAK,EAAtC;AAAyCI,WAAK,EAAC,SAAOnE,CAAP,GAASA,CAAC,CAAC4wB,aAAF,CAAgB,CAAhB,CAAT,GAA4B7wB;AAA3E,KAAP;AAAsF,WAAOA,CAAP;AAAS,GAA/X;AAAgYi0C,YAAU,EAAC,oBAASj0C,CAAT,EAAW;AAACqyC,KAAC,CAACjvC,IAAF,CAAO;AAACwxC,eAAS,EAAC,SAAX;AAAqBC,gBAAU,EAAC7wC,KAAK,EAArC;AAAwCI,WAAK,EAACpE,CAAC,CAACg9B;AAAhD,KAAP;AAAuE,WAAOh9B,CAAC,CAACg9B,aAAT;AAAuB,GAArf;AACNuX,WAAS,EAAC,mBAASv0C,CAAT,EAAW;AAAC2yC,KAAC;AAAGN,KAAC,CAACjvC,IAAF,CAAO;AAACwxC,eAAS,EAAC,QAAX;AAAoBC,gBAAU,EAAC7wC,KAAK,EAApC;AAAuCI,WAAK,EAACpE;AAA7C,KAAP;AAAwD,GAD5E;AAC6Ew0C,qBAAmB,EAAC,6BAASx0C,CAAT,EAAW;AAAC2yC,KAAC;AAAG,QAAI1yC,CAAC,GAAC,KAAK,CAAX;AAAa,aAAOD,CAAP,IAAU,qBAAkBA,CAAlB,CAAV,KAAgCC,CAAC,GAACD,CAAC,CAACO,OAApC;AAA6C8xC,KAAC,CAACjvC,IAAF,CAAO;AAACwxC,eAAS,EAAC,kBAAX;AAA8BC,gBAAU,EAAC7wC,KAAK,EAA9C;AAAiDI,WAAK,EAACnE;AAAvD,KAAP;AAAkE,GAD7O;AAC8Ow0C,eAAa,EAAC,uBAASz0C,CAAT,EAAWC,CAAX,EAAa;AAACoyC,KAAC,CAACjvC,IAAF,CAAO;AAACwxC,eAAS,EAAC,YAAX;AAAwBC,gBAAU,EAAC7wC,KAAK,EAAxC;AAA2CI,WAAK,EAAC,eAAa,OAAOnE,CAApB,GAAsBA,CAAC,CAACD,CAAD,CAAvB,GAA2BA;AAA5E,KAAP;AAAuF,GADjW;AACkWs0C,iBAAe,EAAC,yBAASt0C,CAAT,EAAW;AAAC2yC,KAAC;AAAGN,KAAC,CAACjvC,IAAF,CAAO;AAACwxC,eAAS,EAAC,cAAX;AAA0BC,gBAAU,EAAC7wC,KAAK,EAA1C;AAA6CI,WAAK,EAACpE;AAAnD,KAAP;AAA8D,GADhc;AACic20C,SAAO,EAAC,iBAAS30C,CAAT,EAAW;AAAC,QAAIC,CAAC,GAAC0yC,CAAC,EAAP;AAAU3yC,KAAC,GAAC,SAAOC,CAAP,GAASA,CAAC,CAAC4wB,aAAF,CAAgB,CAAhB,CAAT,GACve7wB,CAAC,EADoe;AACjeqyC,KAAC,CAACjvC,IAAF,CAAO;AAACwxC,eAAS,EAAC,MAAX;AAAkBC,gBAAU,EAAC7wC,KAAK,EAAlC;AAAqCI,WAAK,EAACpE;AAA3C,KAAP;AAAsD,WAAOA,CAAP;AAAS,GAF7D;AAE8Dm0C,YAAU,EAAC,oBAASn0C,CAAT,EAAWC,CAAX,EAAaojB,CAAb,EAAe;AAACrjB,KAAC,GAAC2yC,CAAC,EAAH;AAAM1yC,KAAC,GAAC,SAAOD,CAAP,GAASA,CAAC,CAAC6wB,aAAX,GAAyB,KAAK,CAAL,KAASxN,CAAT,GAAWA,CAAC,CAACpjB,CAAD,CAAZ,GAAgBA,CAA3C;AAA6CoyC,KAAC,CAACjvC,IAAF,CAAO;AAACwxC,eAAS,EAAC,SAAX;AAAqBC,gBAAU,EAAC7wC,KAAK,EAArC;AAAwCI,WAAK,EAACnE;AAA9C,KAAP;AAAyD,WAAM,CAACA,CAAD,EAAG,YAAU,CAAE,CAAf,CAAN;AAAuB,GAF5N;AAE6Nm0C,QAAM,EAAC,gBAASp0C,CAAT,EAAW;AAAC,QAAIC,CAAC,GAAC0yC,CAAC,EAAP;AAAU3yC,KAAC,GAAC,SAAOC,CAAP,GAASA,CAAC,CAAC4wB,aAAX,GAAyB;AAACtwB,aAAO,EAACP;AAAT,KAA3B;AAAuCqyC,KAAC,CAACjvC,IAAF,CAAO;AAACwxC,eAAS,EAAC,KAAX;AAAiBC,gBAAU,EAAC7wC,KAAK,EAAjC;AAAoCI,WAAK,EAACpE,CAAC,CAACO;AAA5C,KAAP;AAA6D,WAAOP,CAAP;AAAS,GAFvW;AAEwWk0C,UAAQ,EAAC,kBAASl0C,CAAT,EAAW;AAAC,QAAIC,CAAC,GAAC0yC,CAAC,EAAP;AAAU3yC,KAAC,GAAC,SAAOC,CAAP,GAASA,CAAC,CAAC4wB,aAAX,GAAyB,eAAa,OAAO7wB,CAApB,GAAsBA,CAAC,EAAvB,GAA0BA,CAArD;AAAuDqyC,KAAC,CAACjvC,IAAF,CAAO;AAACwxC,eAAS,EAAC,OAAX;AAAmBC,gBAAU,EAAC7wC,KAAK,EAAnC;AAAsCI,WAAK,EAACpE;AAA5C,KAAP;AACpc,WAAM,CAACA,CAAD,EAAG,YAAU,CAAE,CAAf,CAAN;AAAuB,GAHjB;AAGkBg1C,eAAa,EAAC,yBAAU;AAACrC,KAAC;AAAGA,KAAC;AAAGN,KAAC,CAACjvC,IAAF,CAAO;AAACwxC,eAAS,EAAC,YAAX;AAAwBC,gBAAU,EAAC7wC,KAAK,EAAxC;AAA2CI,WAAK,EAAC,KAAK;AAAtD,KAAP;AAAiE,WAAM,CAAC,CAAC,CAAF,EAAI,YAAU,CAAE,CAAhB,CAAN;AAAwB,GAH5I;AAG6I6wC,kBAAgB,EAAC,0BAASj1C,CAAT,EAAWC,CAAX,EAAa;AAAC0yC,KAAC;AAAGA,KAAC;AAAGA,KAAC;AAAGA,KAAC;AAAG3yC,KAAC,GAACC,CAAC,CAACD,CAAC,CAACk1C,OAAH,CAAH;AAAe7C,KAAC,CAACjvC,IAAF,CAAO;AAACwxC,eAAS,EAAC,eAAX;AAA2BC,gBAAU,EAAC7wC,KAAK,EAA3C;AAA8CI,WAAK,EAACpE;AAApD,KAAP;AAA+D,WAAOA,CAAP;AAAS,GAHnR;AAGoRm1C,kBAAgB,EAAC,0BAASn1C,CAAT,EAAW;AAAC2yC,KAAC;AAAGA,KAAC;AAAGN,KAAC,CAACjvC,IAAF,CAAO;AAACwxC,eAAS,EAAC,eAAX;AAA2BC,gBAAU,EAAC7wC,KAAK,EAA3C;AAA8CI,WAAK,EAACpE;AAApD,KAAP;AAA+D,WAAOA,CAAP;AAAS,GAHjY;AAGkYo1C,qBAAmB,EAAC,+BAAU;AAAC,QAAIp1C,CAAC,GAAC2yC,CAAC,EAAP;AAAUJ,KAAC,IAAE,MAAIA,CAAC,CAAC8C,IAAT,IAAe1C,CAAC,EAAhB;AAAmB,KAAC3yC,CAAC,GAAC,SAAOA,CAAP,GAAS,KAAK,CAAd,GAAgBA,CAAC,CAAC6wB,aAArB,KAAqC7wB,CAAC,CAACypB,QAAF,KACze9C,CADoc,KAChc3mB,CAAC,GAAC,KAAK,CADyb;AACtbqyC,KAAC,CAACjvC,IAAF,CAAO;AAACwxC,eAAS,EAAC,kBAAX;AAA8BC,gBAAU,EAAC7wC,KAAK,EAA9C;AAAiDI,WAAK,EAACpE;AAAvD,KAAP;AAAkE,WAAOA,CAAP;AAAS;AAJnF,CAAN;AAAA,IAI2F4yC,CAAC,GAAC,CAJ7F;;AAI+F,SAASC,CAAT,CAAW7yC,CAAX,EAAaC,CAAb,EAAeojB,CAAf,EAAiB;AAAC,MAAIikB,CAAC,GAACrnC,CAAC,CAACojB,CAAD,CAAD,CAAKhS,MAAX;AAAA,MAAkB+M,CAAC,GAAC,CAApB;;AAAsBpe,GAAC,EAAC,OAAKoe,CAAC,GAACpe,CAAC,CAACsC,MAAT,EAAgB8b,CAAC,EAAjB;AAAoB,QAAGpe,CAAC,CAACoe,CAAD,CAAD,CAAK/M,MAAL,KAAci2B,CAAjB,EAAmB;AAAC,WAAI,IAAI6C,CAAC,GAAC9mB,CAAC,GAAC,CAAR,EAAU6uB,CAAC,GAAC9zB,CAAC,GAAC,CAAlB,EAAoB+rB,CAAC,GAAClqC,CAAC,CAACqC,MAAJ,IAAY4vC,CAAC,GAAClyC,CAAC,CAACsC,MAApC,EAA2C6nC,CAAC,IAAG+H,CAAC,EAAhD;AAAmD,YAAGlyC,CAAC,CAACkyC,CAAD,CAAD,CAAK7gC,MAAL,KAAcpR,CAAC,CAACkqC,CAAD,CAAD,CAAK94B,MAAtB,EAA6B,SAASrR,CAAT;AAAhF;;AAA2F,aAAOoe,CAAP;AAAS;AAA5I;;AAA4I,SAAM,CAAC,CAAP;AAAS;;AAAA,SAAS00B,CAAT,CAAW9yC,CAAX,EAAaC,CAAb,EAAe;AAAC,MAAG,CAACD,CAAJ,EAAM,OAAM,CAAC,CAAP;AAASC,GAAC,GAAC,QAAMA,CAAR;AAAU,SAAOD,CAAC,CAACsC,MAAF,GAASrC,CAAC,CAACqC,MAAX,GAAkB,CAAC,CAAnB,GAAqBtC,CAAC,CAACoiC,WAAF,CAAcniC,CAAd,MAAmBD,CAAC,CAACsC,MAAF,GAASrC,CAAC,CAACqC,MAA1D;AAAiE;;AACxY,SAASywC,CAAT,CAAW/yC,CAAX,EAAaC,CAAb,EAAeojB,CAAf,EAAiB;AAAC,OAAI,IAAIikB,CAAC,GAAC,EAAN,EAASlpB,CAAC,GAAC,IAAX,EAAgB+rB,CAAC,GAAC7C,CAAlB,EAAoB4K,CAAC,GAAC,CAAtB,EAAwB/6B,CAAC,GAAC,EAA1B,EAA6BoD,CAAC,GAAC,CAAnC,EAAqCA,CAAC,GAACta,CAAC,CAACqC,MAAzC,EAAgDiY,CAAC,EAAjD,EAAoD;AAAC,QAAI43B,CAAC,GAAClyC,CAAC,CAACsa,CAAD,CAAP;AAAW,QAAIgtB,CAAC,GAACvnC,CAAN;AAAQ,QAAI2nC,CAAC,GAAC5nB,CAAC,CAACrb,KAAF,CAAQytC,CAAC,CAAC0C,UAAV,CAAN;;AAA4B50C,KAAC,EAAC;AAAC,UAAIya,CAAC,GAACitB,CAAN;AAAA,UAAQ32B,CAAC,GAAC6hC,CAAC,CAACn4B,CAAD,EAAG6sB,CAAH,EAAKqL,CAAL,CAAX;AAAmB,UAAG,CAAC,CAAD,KAAK5hC,CAAR,EAAUu2B,CAAC,GAACv2B,CAAF,CAAV,KAAkB;AAAC,aAAI,IAAImS,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACokB,CAAC,CAACjlC,MAAJ,IAAY,IAAE6gB,CAA1B,EAA4BA,CAAC,EAA7B;AAAgC,cAAGnS,CAAC,GAAC6hC,CAAC,CAACn4B,CAAD,EAAG6sB,CAAH,EAAKpkB,CAAL,CAAH,EAAW,CAAC,CAAD,KAAKnS,CAAnB,EAAqB;AAAC4hC,aAAC,GAACzvB,CAAF;AAAIokB,aAAC,GAACv2B,CAAF;AAAI,kBAAM/Q,CAAN;AAAQ;AAAtE;;AAAsEsnC,SAAC,GAAC,CAAC,CAAH;AAAK;AAAC;;AAAAtnC,KAAC,EAAC;AAACya,OAAC,GAACitB,CAAF;AAAI32B,OAAC,GAACwhC,CAAC,GAAGlxC,GAAJ,CAAQ6wC,CAAC,CAACyC,SAAV,CAAF;AAAuB,UAAG,KAAK,CAAL,KAAS5jC,CAAZ,EAAc,KAAImS,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACnS,CAAC,CAAC1O,MAAJ,IAAY6gB,CAAC,GAACzI,CAAC,CAACpY,MAAxB,EAA+B6gB,CAAC,EAAhC;AAAmC,YAAGnS,CAAC,CAACmS,CAAD,CAAD,CAAK9R,MAAL,KAAcqJ,CAAC,CAACyI,CAAD,CAAD,CAAK9R,MAAtB,EAA6B;AAAC8R,WAAC,GAACzI,CAAC,CAACpY,MAAF,GAAS,CAAX,IAAcwwC,CAAC,CAACp4B,CAAC,CAACyI,CAAD,CAAD,CAAKmyB,YAAN,EAAmBnD,CAAC,CAACyC,SAArB,CAAf,IAAgDzxB,CAAC,EAAjD;AAAoDA,WAAC,GAACzI,CAAC,CAACpY,MAAF,GAAS,CAAX,IAAcwwC,CAAC,CAACp4B,CAAC,CAACyI,CAAD,CAAD,CAAKmyB,YAAN,EAAmBnD,CAAC,CAACyC,SAArB,CAAf,IAAgDzxB,CAAC,EAAjD;AAAoDzI,WAAC,GAACyI,CAAF;AAAI,gBAAMljB,CAAN;AAAQ;AAArL;AAAqLya,OAAC,GAAC,CAAC,CAAH;AAAK;;AAAAitB,KAAC,GAAC,CAAC,CAAD,KAAKJ,CAAL,IAAQ,CAAC,CAAD,KAAK7sB,CAAb,IAAgB,IAAE6sB,CAAC,GAAC7sB,CAApB,GAAsB,IAAtB,GAA2BitB,CAAC,CAACxkC,KAAF,CAAQuX,CAAR,EAC9e6sB,CAAC,GAAC,CAD4e,CAA7B;;AAC5c,QAAG,SAAOI,CAAV,EAAY;AAACJ,OAAC,GAAC,CAAF;;AAAI,UAAG,SAAOnpB,CAAV,EAAY;AAAC,eAAKmpB,CAAC,GAACI,CAAC,CAACrlC,MAAJ,IAAYilC,CAAC,GAACnpB,CAAC,CAAC9b,MAAhB,IAAwBqlC,CAAC,CAACA,CAAC,CAACrlC,MAAF,GAASilC,CAAT,GAAW,CAAZ,CAAD,CAAgBl2B,MAAhB,KAAyB+M,CAAC,CAACA,CAAC,CAAC9b,MAAF,GAASilC,CAAT,GAAW,CAAZ,CAAD,CAAgBl2B,MAAtE;AAA8Ek2B,WAAC;AAA/E;;AAAkF,aAAInpB,CAAC,GAACA,CAAC,CAAC9b,MAAF,GAAS,CAAf,EAAiB8b,CAAC,GAACmpB,CAAnB,EAAqBnpB,CAAC,EAAtB;AAAyB+rB,WAAC,GAAChzB,CAAC,CAACtR,GAAF,EAAF;AAAzB;AAAmC;;AAAA,WAAIuY,CAAC,GAACupB,CAAC,CAACrlC,MAAF,GAASilC,CAAT,GAAW,CAAjB,EAAmB,KAAGnpB,CAAtB,EAAwBA,CAAC,EAAzB;AAA4BmpB,SAAC,GAAC,EAAF,EAAK7sB,CAAC,GAACitB,CAAC,CAACvpB,CAAD,CAAR,EAAY,CAACpN,CAAC,GAAC22B,CAAC,CAACvpB,CAAC,GAAC,CAAH,CAAD,CAAOk3B,YAAV,KAAyBnyB,CAAC,GAACnS,CAAC,CAACoxB,WAAF,CAAc,GAAd,CAAF,EAAqB,CAAC,CAAD,KAAKjf,CAAL,KAASA,CAAC,GAAC,CAAX,CAArB,EAAmC,UAAQnS,CAAC,CAAC5H,MAAF,CAAS+Z,CAAT,EAAW,CAAX,CAAR,KAAwBA,CAAC,IAAE,CAA3B,CAAnC,EAAiEnS,CAAC,GAACA,CAAC,CAAC5H,MAAF,CAAS+Z,CAAT,CAA5F,IAAyGnS,CAAC,GAAC,EAAvH,EAA0HA,CAAC,GAAC;AAAC1N,YAAE,EAAC,IAAJ;AAASiyC,yBAAe,EAAC,CAAC,CAA1B;AAA4B/zC,cAAI,EAACwP,CAAjC;AAAmC5M,eAAK,EAAC,KAAK,CAA9C;AAAgDoxC,kBAAQ,EAACjO;AAAzD,SAA5H,EAAwLlkB,CAAC,KAAGrS,CAAC,CAACykC,UAAF,GAAa;AAACC,oBAAU,EAACh7B,CAAC,CAACg7B,UAAd;AAAyBC,sBAAY,EAACj7B,CAAC,CAACi7B,YAAxC;AAAqDL,sBAAY,EAAC56B,CAAC,CAAC46B,YAApE;AAAiFjmB,kBAAQ,EAAC3U,CAAC,CAAC2U;AAA5F,SAAhB,CAAzL,EAAgT8a,CAAC,CAAC/mC,IAAF,CAAO4N,CAAP,CAAhT,EAA0TmG,CAAC,CAAC/T,IAAF,CAAO+mC,CAAP,CAA1T,EACpLA,CAAC,GAAC5C,CADkL;AAA5B;;AACpJnpB,OAAC,GAACupB,CAAF;AAAI;;AAAAJ,KAAC,GAAC4K,CAAC,CAACyC,SAAJ;AAAczC,KAAC,GAAC;AAAC7uC,QAAE,EAAC,cAAYikC,CAAZ,IAAe,iBAAeA,CAA9B,GAAgC,IAAhC,GAAqC2K,CAAC,EAA1C;AAA6CqD,qBAAe,EAAC,cAAYhO,CAAZ,IAAe,YAAUA,CAAtF;AAAwF/lC,UAAI,EAAC+lC,CAA7F;AAA+FnjC,WAAK,EAAC+tC,CAAC,CAAC/tC,KAAvG;AAA6GoxC,cAAQ,EAAC;AAAtH,KAAF;AAA4HnyB,KAAC,KAAGkkB,CAAC,GAAC;AAACmO,gBAAU,EAAC,IAAZ;AAAiBJ,kBAAY,EAAC,IAA9B;AAAmCjmB,cAAQ,EAAC,IAA5C;AAAiDsmB,kBAAY,EAAC;AAA9D,KAAF,EAAsEhO,CAAC,IAAE,KAAGA,CAAC,CAACrlC,MAAR,KAAiBqlC,CAAC,GAACA,CAAC,CAAC,CAAD,CAAH,EAAOJ,CAAC,CAACmO,UAAF,GAAa/N,CAAC,CAAC+N,UAAtB,EAAiCnO,CAAC,CAAC+N,YAAF,GAAe3N,CAAC,CAAC2N,YAAlD,EAA+D/N,CAAC,CAAClY,QAAF,GAAWsY,CAAC,CAACtY,QAA5E,EAAqFkY,CAAC,CAACoO,YAAF,GAAehO,CAAC,CAACgO,YAAvH,CAAtE,EAA2MxD,CAAC,CAACsD,UAAF,GAAalO,CAA3N,CAAD;AAA+N4C,KAAC,CAAC/mC,IAAF,CAAO+uC,CAAP;AAAU;;AAAAyD,GAAC,CAACtO,CAAD,EAAG,IAAH,CAAD;AAAU,SAAOA,CAAP;AAAS;;AAC9Y,SAASsO,CAAT,CAAW51C,CAAX,EAAaC,CAAb,EAAe;AAAC,OAAI,IAAIojB,CAAC,GAAC,EAAN,EAASikB,CAAC,GAAC,CAAf,EAAiBA,CAAC,GAACtnC,CAAC,CAACsC,MAArB,EAA4BglC,CAAC,EAA7B,EAAgC;AAAC,QAAIlpB,CAAC,GAACpe,CAAC,CAACsnC,CAAD,CAAP;AAAW,qBAAelpB,CAAC,CAAC5c,IAAjB,IAAuB,MAAI4c,CAAC,CAACo3B,QAAF,CAAWlzC,MAAtC,IAA8CtC,CAAC,CAACgH,MAAF,CAASsgC,CAAT,EAAW,CAAX,GAAcA,CAAC,EAAf,EAAkBjkB,CAAC,CAACjgB,IAAF,CAAOgb,CAAP,CAAhE,IAA2Ew3B,CAAC,CAACx3B,CAAC,CAACo3B,QAAH,EAAYp3B,CAAZ,CAA5E;AAA2F;;AAAA,WAAOne,CAAP,KAAW,MAAIojB,CAAC,CAAC/gB,MAAN,GAAarC,CAAC,CAACmE,KAAF,GAAQif,CAAC,CAAC,CAAD,CAAD,CAAKjf,KAA1B,GAAgC,IAAEif,CAAC,CAAC/gB,MAAJ,KAAarC,CAAC,CAACmE,KAAF,GAAQif,CAAC,CAACtS,GAAF,CAAM,UAAS/Q,CAAT,EAAW;AAAC,WAAOA,CAAC,CAACoE,KAAT;AAAe,GAAjC,CAArB,CAA3C;AAAqG;;AAAA,SAASyxC,CAAT,CAAW71C,CAAX,EAAaC,CAAb,EAAeojB,CAAf,EAAiB;AAAC,MAAIikB,CAAC,GAAC,IAAE71B,SAAS,CAACnP,MAAZ,IAAoB,KAAK,CAAL,KAASmP,SAAS,CAAC,CAAD,CAAtC,GAA0CA,SAAS,CAAC,CAAD,CAAnD,GAAuD,CAAC,CAA9D;AAAgE,UAAM4R,CAAN,KAAUA,CAAC,GAAC+uB,CAAC,CAAC0D,sBAAd;AAAsC,MAAI13B,CAAC,GAACiF,CAAC,CAAC9iB,OAAR;AAAgB8iB,GAAC,CAAC9iB,OAAF,GAAUkyC,CAAV;;AAAY,MAAG;AAAC,QAAItI,CAAC,GAACnmC,KAAK,EAAX;AAAchE,KAAC,CAACC,CAAD,CAAD;AAAK,GAAvB,SAA8B;AAAC,QAAIiyC,CAAC,GAACG,CAAN;AAAQA,KAAC,GAAC,EAAF;AAAKhvB,KAAC,CAAC9iB,OAAF,GAAU6d,CAAV;AAAY;;AAAAA,GAAC,GAAC2B,CAAC,CAACrb,KAAF,CAAQylC,CAAR,CAAF;AAAa,SAAO4I,CAAC,CAAC30B,CAAD,EAAG8zB,CAAH,EAAK5K,CAAL,CAAR;AAAgB;;AACre,SAASxnB,CAAT,CAAW9f,CAAX,EAAa;AAACA,GAAC,CAACa,OAAF,CAAU,UAASb,CAAT,EAAWqjB,CAAX,EAAa;AAAC,WAAOA,CAAC,CAAC2Z,aAAF,GAAgBh9B,CAAvB;AAAyB,GAAjD;AAAmD;;AAAAiQ,OAAO,CAAC8lC,YAAR,GAAqBF,CAArB;;AACjE5lC,OAAO,CAACotB,mBAAR,GAA4B,UAASr9B,CAAT,EAAWC,CAAX,EAAa;AAAC,MAAIojB,CAAC,GAAC,IAAE5R,SAAS,CAACnP,MAAZ,IAAoB,KAAK,CAAL,KAASmP,SAAS,CAAC,CAAD,CAAtC,GAA0CA,SAAS,CAAC,CAAD,CAAnD,GAAuD,CAAC,CAA9D;AAAgE,UAAMxR,CAAN,KAAUA,CAAC,GAACmyC,CAAC,CAAC0D,sBAAd;AAAsCvD,GAAC,GAACvyC,CAAF;AAAI,MAAG,MAAIA,CAAC,CAAC8pB,GAAN,IAAW,OAAK9pB,CAAC,CAAC8pB,GAAlB,IAAuB,OAAK9pB,CAAC,CAAC8pB,GAAjC,EAAqC,MAAM9lB,KAAK,CAAC,mEAAD,CAAX;AAAiFwuC,GAAC;AAAG,MAAIlL,CAAC,GAACtnC,CAAC,CAACmB,IAAR;AAAA,MAAaid,CAAC,GAACpe,CAAC,CAACmqB,aAAjB;;AAA+B,MAAGmd,CAAC,KAAGtnC,CAAC,CAACqI,WAAN,IAAmBi/B,CAAnB,IAAsBA,CAAC,CAAC0O,YAA3B,EAAwC;AAAC53B,KAAC,GAAC0pB,CAAC,CAAC,EAAD,EAAI1pB,CAAJ,CAAH;AAAU,QAAI+rB,CAAC,GAAC7C,CAAC,CAAC0O,YAAR;;AAAqB,SAAI9D,CAAJ,IAAS/H,CAAT;AAAW,WAAK,CAAL,KAAS/rB,CAAC,CAAC8zB,CAAD,CAAV,KAAgB9zB,CAAC,CAAC8zB,CAAD,CAAD,GAAK/H,CAAC,CAAC+H,CAAD,CAAtB;AAAX;AAAsC;;AAAAQ,GAAC,GAAC1yC,CAAC,CAAC6wB,aAAJ;AAAkB,MAAIqhB,CAAC,GAAC,IAAIjgC,GAAJ,EAAN;;AAAc,MAAG;AAAC,SAAIk4B,CAAC,GAACnqC,CAAN,EAAQmqC,CAAR,GAAW;AAAC,UAAG,OAAKA,CAAC,CAACrgB,GAAV,EAAc;AAAC,YAAI3S,CAAC,GAACgzB,CAAC,CAAChpC,IAAF,CAAO8oB,QAAb;AAAsBioB,SAAC,CAAC7jC,GAAF,CAAM8I,CAAN,MAC/e+6B,CAAC,CAACzwC,GAAF,CAAM0V,CAAN,EAAQA,CAAC,CAAC6lB,aAAV,GAAyB7lB,CAAC,CAAC6lB,aAAF,GAAgBmN,CAAC,CAAChgB,aAAF,CAAgB/lB,KADsb;AAC/a;;AAAA+lC,OAAC,GAACA,CAAC,CAACta,MAAJ;AAAW;;AAAA,QAAG,OAAK7vB,CAAC,CAAC8pB,GAAV,EAAc;AAAC,UAAIvP,CAAC,GAAC+sB,CAAC,CAAC1d,MAAR;AAAe0d,OAAC,GAAClpB,CAAF;AAAI,UAAI+zB,CAAC,GAACnyC,CAAC,CAACmzB,GAAR;AAAYhc,OAAC,GAAClX,CAAF;AAAI,UAAIsnC,CAAC,GAACpwB,CAAC,CAAC5W,OAAR;AAAgB4W,OAAC,CAAC5W,OAAF,GAAUkyC,CAAV;;AAAY,UAAG;AAAC,YAAI9K,CAAC,GAAC3jC,KAAK,EAAX;AAAcuW,SAAC,CAAC+sB,CAAD,EAAG6K,CAAH,CAAD;AAAO,OAAzB,SAAgC;AAAC,YAAIz3B,CAAC,GAAC23B,CAAN;AAAQA,SAAC,GAAC,EAAF;AAAKl7B,SAAC,CAAC5W,OAAF,GAAUgnC,CAAV;AAAY;;AAAA,UAAIv2B,CAAC,GAAC+O,CAAC,CAACrb,KAAF,CAAQijC,CAAR,CAAN;AAAiB,aAAOoL,CAAC,CAAC/hC,CAAD,EAAG0J,CAAH,EAAK2I,CAAL,CAAR;AAAgB;;AAAA,WAAOwyB,CAAC,CAACvO,CAAD,EAAGlpB,CAAH,EAAKne,CAAL,EAAOojB,CAAP,CAAR;AAAkB,GADoL,SAC7K;AAACqvB,KAAC,GAAC,IAAF,EAAO5yB,CAAC,CAACoyB,CAAD,CAAR;AAAY;AAAC,CAD5R,C;;;;;;;;ACtBC,WAASnkC,IAAT,EAAekoC,OAAf,EAAwB;AACrB,eADqB,CAErB;;AAEA;;AACA,MAAI,IAAJ,EAAgD;AAC5CC,qCAA6B,CAAC,uBAAD,CAAvB,oCAAuCD,OAAvC;AAAA;AAAA;AAAA,oGAAN;AACH,GAFD,MAEO,EAIN;AACJ,CAZA,EAYC,IAZD,EAYO,SAASE,gBAAT,CAA0BC,UAA1B,EAAsC;AAC1C;;AAEA,MAAIC,2BAA2B,GAAG,cAAlC;AACA,MAAIC,sBAAsB,GAAG,gCAA7B;AACA,MAAIC,yBAAyB,GAAG,6BAAhC;AAEA,SAAO;AACH;;;;;;AAMA7xC,SAAK,EAAE,SAAS8xC,uBAAT,CAAiC7xC,KAAjC,EAAwC;AAC3C,UAAI,OAAOA,KAAK,CAAC8xC,UAAb,KAA4B,WAA5B,IAA2C,OAAO9xC,KAAK,CAAC,iBAAD,CAAZ,KAAoC,WAAnF,EAAgG;AAC5F,eAAO,KAAK+xC,UAAL,CAAgB/xC,KAAhB,CAAP;AACH,OAFD,MAEO,IAAIA,KAAK,CAACgpB,KAAN,IAAehpB,KAAK,CAACgpB,KAAN,CAAY/nB,KAAZ,CAAkB0wC,sBAAlB,CAAnB,EAA8D;AACjE,eAAO,KAAKK,WAAL,CAAiBhyC,KAAjB,CAAP;AACH,OAFM,MAEA,IAAIA,KAAK,CAACgpB,KAAV,EAAiB;AACpB,eAAO,KAAKipB,eAAL,CAAqBjyC,KAArB,CAAP;AACH,OAFM,MAEA;AACH,cAAM,IAAIX,KAAJ,CAAU,iCAAV,CAAN;AACH;AACJ,KAjBE;AAmBH;AACA6yC,mBAAe,EAAE,SAASC,iCAAT,CAA2CC,OAA3C,EAAoD;AACjE;AACA,UAAIA,OAAO,CAACrxC,OAAR,CAAgB,GAAhB,MAAyB,CAAC,CAA9B,EAAiC;AAC7B,eAAO,CAACqxC,OAAD,CAAP;AACH;;AAED,UAAIC,MAAM,GAAG,8BAAb;AACA,UAAIC,KAAK,GAAGD,MAAM,CAAC/zB,IAAP,CAAY8zB,OAAO,CAACpoC,OAAR,CAAgB,OAAhB,EAAyB,EAAzB,CAAZ,CAAZ;AACA,aAAO,CAACsoC,KAAK,CAAC,CAAD,CAAN,EAAWA,KAAK,CAAC,CAAD,CAAL,IAAY90C,SAAvB,EAAkC80C,KAAK,CAAC,CAAD,CAAL,IAAY90C,SAA9C,CAAP;AACH,KA7BE;AA+BHw0C,eAAW,EAAE,SAASO,6BAAT,CAAuCvyC,KAAvC,EAA8C;AACvD,UAAIwyC,QAAQ,GAAGxyC,KAAK,CAACgpB,KAAN,CAAYzc,KAAZ,CAAkB,IAAlB,EAAwBiN,MAAxB,CAA+B,UAASi5B,IAAT,EAAe;AACzD,eAAO,CAAC,CAACA,IAAI,CAACxxC,KAAL,CAAW0wC,sBAAX,CAAT;AACH,OAFc,EAEZ,IAFY,CAAf;AAIA,aAAOa,QAAQ,CAACpmC,GAAT,CAAa,UAASqmC,IAAT,EAAe;AAC/B,YAAIA,IAAI,CAAC1xC,OAAL,CAAa,QAAb,IAAyB,CAAC,CAA9B,EAAiC;AAC7B;AACA0xC,cAAI,GAAGA,IAAI,CAACzoC,OAAL,CAAa,YAAb,EAA2B,MAA3B,EAAmCA,OAAnC,CAA2C,8BAA3C,EAA2E,EAA3E,CAAP;AACH;;AACD,YAAI0oC,aAAa,GAAGD,IAAI,CAACzoC,OAAL,CAAa,MAAb,EAAqB,EAArB,EAAyBA,OAAzB,CAAiC,cAAjC,EAAiD,GAAjD,CAApB,CAL+B,CAO/B;AACA;;AACA,YAAI2oC,QAAQ,GAAGD,aAAa,CAACzxC,KAAd,CAAoB,0BAApB,CAAf,CAT+B,CAW/B;;AACAyxC,qBAAa,GAAGC,QAAQ,GAAGD,aAAa,CAAC1oC,OAAd,CAAsB2oC,QAAQ,CAAC,CAAD,CAA9B,EAAmC,EAAnC,CAAH,GAA4CD,aAApE;AAEA,YAAIjgC,MAAM,GAAGigC,aAAa,CAACnmC,KAAd,CAAoB,KAApB,EAA2B/N,KAA3B,CAAiC,CAAjC,CAAb,CAd+B,CAe/B;;AACA,YAAIo0C,aAAa,GAAG,KAAKV,eAAL,CAAqBS,QAAQ,GAAGA,QAAQ,CAAC,CAAD,CAAX,GAAiBlgC,MAAM,CAACvR,GAAP,EAA9C,CAApB;AACA,YAAIyvC,YAAY,GAAGl+B,MAAM,CAACvT,IAAP,CAAY,GAAZ,KAAoB1B,SAAvC;AACA,YAAIktB,QAAQ,GAAG,CAAC,MAAD,EAAS,aAAT,EAAwB3pB,OAAxB,CAAgC6xC,aAAa,CAAC,CAAD,CAA7C,IAAoD,CAAC,CAArD,GAAyDp1C,SAAzD,GAAqEo1C,aAAa,CAAC,CAAD,CAAjG;AAEA,eAAO,IAAInB,UAAJ,CAAe;AAClBd,sBAAY,EAAEA,YADI;AAElBjmB,kBAAQ,EAAEA,QAFQ;AAGlBqmB,oBAAU,EAAE6B,aAAa,CAAC,CAAD,CAHP;AAIlB5B,sBAAY,EAAE4B,aAAa,CAAC,CAAD,CAJT;AAKlBlmC,gBAAM,EAAE+lC;AALU,SAAf,CAAP;AAOH,OA3BM,EA2BJ,IA3BI,CAAP;AA4BH,KAhEE;AAkEHR,mBAAe,EAAE,SAASY,iCAAT,CAA2C7yC,KAA3C,EAAkD;AAC/D,UAAIwyC,QAAQ,GAAGxyC,KAAK,CAACgpB,KAAN,CAAYzc,KAAZ,CAAkB,IAAlB,EAAwBiN,MAAxB,CAA+B,UAASi5B,IAAT,EAAe;AACzD,eAAO,CAACA,IAAI,CAACxxC,KAAL,CAAW2wC,yBAAX,CAAR;AACH,OAFc,EAEZ,IAFY,CAAf;AAIA,aAAOY,QAAQ,CAACpmC,GAAT,CAAa,UAASqmC,IAAT,EAAe;AAC/B;AACA,YAAIA,IAAI,CAAC1xC,OAAL,CAAa,SAAb,IAA0B,CAAC,CAA/B,EAAkC;AAC9B0xC,cAAI,GAAGA,IAAI,CAACzoC,OAAL,CAAa,kDAAb,EAAiE,KAAjE,CAAP;AACH;;AAED,YAAIyoC,IAAI,CAAC1xC,OAAL,CAAa,GAAb,MAAsB,CAAC,CAAvB,IAA4B0xC,IAAI,CAAC1xC,OAAL,CAAa,GAAb,MAAsB,CAAC,CAAvD,EAA0D;AACtD;AACA,iBAAO,IAAI0wC,UAAJ,CAAe;AAClBd,wBAAY,EAAE8B;AADI,WAAf,CAAP;AAGH,SALD,MAKO;AACH,cAAIK,iBAAiB,GAAG,4BAAxB;AACA,cAAI9xC,OAAO,GAAGyxC,IAAI,CAACxxC,KAAL,CAAW6xC,iBAAX,CAAd;AACA,cAAInC,YAAY,GAAG3vC,OAAO,IAAIA,OAAO,CAAC,CAAD,CAAlB,GAAwBA,OAAO,CAAC,CAAD,CAA/B,GAAqCxD,SAAxD;AACA,cAAIo1C,aAAa,GAAG,KAAKV,eAAL,CAAqBO,IAAI,CAACzoC,OAAL,CAAa8oC,iBAAb,EAAgC,EAAhC,CAArB,CAApB;AAEA,iBAAO,IAAIrB,UAAJ,CAAe;AAClBd,wBAAY,EAAEA,YADI;AAElBjmB,oBAAQ,EAAEkoB,aAAa,CAAC,CAAD,CAFL;AAGlB7B,sBAAU,EAAE6B,aAAa,CAAC,CAAD,CAHP;AAIlB5B,wBAAY,EAAE4B,aAAa,CAAC,CAAD,CAJT;AAKlBlmC,kBAAM,EAAE+lC;AALU,WAAf,CAAP;AAOH;AACJ,OAzBM,EAyBJ,IAzBI,CAAP;AA0BH,KAjGE;AAmGHV,cAAU,EAAE,SAASgB,4BAAT,CAAsCr0B,CAAtC,EAAyC;AACjD,UAAI,CAACA,CAAC,CAACozB,UAAH,IAAkBpzB,CAAC,CAACqJ,OAAF,CAAUhnB,OAAV,CAAkB,IAAlB,IAA0B,CAAC,CAA3B,IAClB2d,CAAC,CAACqJ,OAAF,CAAUxb,KAAV,CAAgB,IAAhB,EAAsB5O,MAAtB,GAA+B+gB,CAAC,CAACozB,UAAF,CAAavlC,KAAb,CAAmB,IAAnB,EAAyB5O,MAD5D,EACqE;AACjE,eAAO,KAAKq1C,WAAL,CAAiBt0B,CAAjB,CAAP;AACH,OAHD,MAGO,IAAI,CAACA,CAAC,CAACsK,KAAP,EAAc;AACjB,eAAO,KAAKiqB,YAAL,CAAkBv0B,CAAlB,CAAP;AACH,OAFM,MAEA;AACH,eAAO,KAAKw0B,YAAL,CAAkBx0B,CAAlB,CAAP;AACH;AACJ,KA5GE;AA8GHs0B,eAAW,EAAE,SAASG,6BAAT,CAAuCz0B,CAAvC,EAA0C;AACnD,UAAI00B,MAAM,GAAG,mCAAb;AACA,UAAIC,KAAK,GAAG30B,CAAC,CAACqJ,OAAF,CAAUxb,KAAV,CAAgB,IAAhB,CAAZ;AACA,UAAIgO,MAAM,GAAG,EAAb;;AAEA,WAAK,IAAI3c,CAAC,GAAG,CAAR,EAAWqhC,GAAG,GAAGoU,KAAK,CAAC11C,MAA5B,EAAoCC,CAAC,GAAGqhC,GAAxC,EAA6CrhC,CAAC,IAAI,CAAlD,EAAqD;AACjD,YAAIqD,KAAK,GAAGmyC,MAAM,CAAC90B,IAAP,CAAY+0B,KAAK,CAACz1C,CAAD,CAAjB,CAAZ;;AACA,YAAIqD,KAAJ,EAAW;AACPsZ,gBAAM,CAAC9b,IAAP,CAAY,IAAIgzC,UAAJ,CAAe;AACvB/mB,oBAAQ,EAAEzpB,KAAK,CAAC,CAAD,CADQ;AAEvB8vC,sBAAU,EAAE9vC,KAAK,CAAC,CAAD,CAFM;AAGvByL,kBAAM,EAAE2mC,KAAK,CAACz1C,CAAD;AAHU,WAAf,CAAZ;AAKH;AACJ;;AAED,aAAO2c,MAAP;AACH,KA/HE;AAiIH04B,gBAAY,EAAE,SAASK,8BAAT,CAAwC50B,CAAxC,EAA2C;AACrD,UAAI00B,MAAM,GAAG,4DAAb;AACA,UAAIC,KAAK,GAAG30B,CAAC,CAACozB,UAAF,CAAavlC,KAAb,CAAmB,IAAnB,CAAZ;AACA,UAAIgO,MAAM,GAAG,EAAb;;AAEA,WAAK,IAAI3c,CAAC,GAAG,CAAR,EAAWqhC,GAAG,GAAGoU,KAAK,CAAC11C,MAA5B,EAAoCC,CAAC,GAAGqhC,GAAxC,EAA6CrhC,CAAC,IAAI,CAAlD,EAAqD;AACjD,YAAIqD,KAAK,GAAGmyC,MAAM,CAAC90B,IAAP,CAAY+0B,KAAK,CAACz1C,CAAD,CAAjB,CAAZ;;AACA,YAAIqD,KAAJ,EAAW;AACPsZ,gBAAM,CAAC9b,IAAP,CACI,IAAIgzC,UAAJ,CAAe;AACXd,wBAAY,EAAE1vC,KAAK,CAAC,CAAD,CAAL,IAAYzD,SADf;AAEXktB,oBAAQ,EAAEzpB,KAAK,CAAC,CAAD,CAFJ;AAGX8vC,sBAAU,EAAE9vC,KAAK,CAAC,CAAD,CAHN;AAIXyL,kBAAM,EAAE2mC,KAAK,CAACz1C,CAAD;AAJF,WAAf,CADJ;AAQH;AACJ;;AAED,aAAO2c,MAAP;AACH,KArJE;AAuJH;AACA24B,gBAAY,EAAE,SAASK,8BAAT,CAAwCvzC,KAAxC,EAA+C;AACzD,UAAIwyC,QAAQ,GAAGxyC,KAAK,CAACgpB,KAAN,CAAYzc,KAAZ,CAAkB,IAAlB,EAAwBiN,MAAxB,CAA+B,UAASi5B,IAAT,EAAe;AACzD,eAAO,CAAC,CAACA,IAAI,CAACxxC,KAAL,CAAWywC,2BAAX,CAAF,IAA6C,CAACe,IAAI,CAACxxC,KAAL,CAAW,mBAAX,CAArD;AACH,OAFc,EAEZ,IAFY,CAAf;AAIA,aAAOuxC,QAAQ,CAACpmC,GAAT,CAAa,UAASqmC,IAAT,EAAe;AAC/B,YAAIhgC,MAAM,GAAGggC,IAAI,CAAClmC,KAAL,CAAW,GAAX,CAAb;AACA,YAAIqmC,aAAa,GAAG,KAAKV,eAAL,CAAqBz/B,MAAM,CAACvR,GAAP,EAArB,CAApB;AACA,YAAIsyC,YAAY,GAAI/gC,MAAM,CAACpI,KAAP,MAAkB,EAAtC;AACA,YAAIsmC,YAAY,GAAG6C,YAAY,CAC1BxpC,OADc,CACN,gCADM,EAC4B,IAD5B,EAEdA,OAFc,CAEN,YAFM,EAEQ,EAFR,KAEexM,SAFlC;AAGA,YAAIi2C,OAAJ;;AACA,YAAID,YAAY,CAACvyC,KAAb,CAAmB,aAAnB,CAAJ,EAAuC;AACnCwyC,iBAAO,GAAGD,YAAY,CAACxpC,OAAb,CAAqB,oBAArB,EAA2C,IAA3C,CAAV;AACH;;AACD,YAAIF,IAAI,GAAI2pC,OAAO,KAAKj2C,SAAZ,IAAyBi2C,OAAO,KAAK,2BAAtC,GACPj2C,SADO,GACKi2C,OAAO,CAAClnC,KAAR,CAAc,GAAd,CADhB;AAGA,eAAO,IAAIklC,UAAJ,CAAe;AAClBd,sBAAY,EAAEA,YADI;AAElB7mC,cAAI,EAAEA,IAFY;AAGlB4gB,kBAAQ,EAAEkoB,aAAa,CAAC,CAAD,CAHL;AAIlB7B,oBAAU,EAAE6B,aAAa,CAAC,CAAD,CAJP;AAKlB5B,sBAAY,EAAE4B,aAAa,CAAC,CAAD,CALT;AAMlBlmC,gBAAM,EAAE+lC;AANU,SAAf,CAAP;AAQH,OAtBM,EAsBJ,IAtBI,CAAP;AAuBH;AApLE,GAAP;AAsLH,CAzMA,CAAD,C;;;;;;;;ACAC,WAASrpC,IAAT,EAAekoC,OAAf,EAAwB;AACrB,eADqB,CAErB;;AAEA;;AACA,MAAI,IAAJ,EAAgD;AAC5CC,qCAAqB,EAAf,oCAAmBD,OAAnB;AAAA;AAAA;AAAA,oGAAN;AACH,GAFD,MAEO,EAIN;AACJ,CAZA,EAYC,IAZD,EAYO,YAAW;AACf;;AACA,WAASoC,SAAT,CAAmBrnC,CAAnB,EAAsB;AAClB,WAAO,CAACpJ,KAAK,CAACqH,UAAU,CAAC+B,CAAD,CAAX,CAAN,IAAyBnJ,QAAQ,CAACmJ,CAAD,CAAxC;AACH;;AAED,WAASsnC,WAAT,CAAqBxjB,GAArB,EAA0B;AACtB,WAAOA,GAAG,CAACyjB,MAAJ,CAAW,CAAX,EAAcC,WAAd,KAA8B1jB,GAAG,CAACqN,SAAJ,CAAc,CAAd,CAArC;AACH;;AAED,WAASsW,OAAT,CAAiB14B,CAAjB,EAAoB;AAChB,WAAO,YAAW;AACd,aAAO,KAAKA,CAAL,CAAP;AACH,KAFD;AAGH;;AAED,MAAI24B,YAAY,GAAG,CAAC,eAAD,EAAkB,QAAlB,EAA4B,UAA5B,EAAwC,YAAxC,CAAnB;AACA,MAAIC,YAAY,GAAG,CAAC,cAAD,EAAiB,YAAjB,CAAnB;AACA,MAAIC,WAAW,GAAG,CAAC,UAAD,EAAa,cAAb,EAA6B,QAA7B,CAAlB;AACA,MAAIC,UAAU,GAAG,CAAC,MAAD,CAAjB;AAEA,MAAIpoB,KAAK,GAAGioB,YAAY,CAACljC,MAAb,CAAoBmjC,YAApB,EAAkCC,WAAlC,EAA+CC,UAA/C,CAAZ;;AAEA,WAASzC,UAAT,CAAoBh2C,GAApB,EAAyB;AACrB,QAAI,CAACA,GAAL,EAAU;;AACV,SAAK,IAAImC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkuB,KAAK,CAACnuB,MAA1B,EAAkCC,CAAC,EAAnC,EAAuC;AACnC,UAAInC,GAAG,CAACqwB,KAAK,CAACluB,CAAD,CAAN,CAAH,KAAkBJ,SAAtB,EAAiC;AAC7B,aAAK,QAAQm2C,WAAW,CAAC7nB,KAAK,CAACluB,CAAD,CAAN,CAAxB,EAAoCnC,GAAG,CAACqwB,KAAK,CAACluB,CAAD,CAAN,CAAvC;AACH;AACJ;AACJ;;AAED6zC,YAAU,CAACluC,SAAX,GAAuB;AACnB4wC,WAAO,EAAE,mBAAW;AAChB,aAAO,KAAKrqC,IAAZ;AACH,KAHkB;AAInBsqC,WAAO,EAAE,iBAASx+B,CAAT,EAAY;AACjB,UAAI9Z,MAAM,CAACyH,SAAP,CAAiBhI,QAAjB,CAA0BwG,IAA1B,CAA+B6T,CAA/B,MAAsC,gBAA1C,EAA4D;AACxD,cAAM,IAAIhK,SAAJ,CAAc,uBAAd,CAAN;AACH;;AACD,WAAK9B,IAAL,GAAY8L,CAAZ;AACH,KATkB;AAWnBy+B,iBAAa,EAAE,yBAAW;AACtB,aAAO,KAAKC,UAAZ;AACH,KAbkB;AAcnBC,iBAAa,EAAE,uBAAS3+B,CAAT,EAAY;AACvB,UAAIA,CAAC,YAAY67B,UAAjB,EAA6B;AACzB,aAAK6C,UAAL,GAAkB1+B,CAAlB;AACH,OAFD,MAEO,IAAIA,CAAC,YAAY9Z,MAAjB,EAAyB;AAC5B,aAAKw4C,UAAL,GAAkB,IAAI7C,UAAJ,CAAe77B,CAAf,CAAlB;AACH,OAFM,MAEA;AACH,cAAM,IAAIhK,SAAJ,CAAc,6CAAd,CAAN;AACH;AACJ,KAtBkB;AAwBnBrQ,YAAQ,EAAE,oBAAW;AACjB,UAAImvB,QAAQ,GAAG,KAAK8pB,WAAL,MAAsB,EAArC;AACA,UAAIzD,UAAU,GAAG,KAAK0D,aAAL,MAAwB,EAAzC;AACA,UAAIzD,YAAY,GAAG,KAAK0D,eAAL,MAA0B,EAA7C;AACA,UAAI/D,YAAY,GAAG,KAAKgE,eAAL,MAA0B,EAA7C;;AACA,UAAI,KAAKC,SAAL,EAAJ,EAAsB;AAClB,YAAIlqB,QAAJ,EAAc;AACV,iBAAO,aAAaA,QAAb,GAAwB,GAAxB,GAA8BqmB,UAA9B,GAA2C,GAA3C,GAAiDC,YAAjD,GAAgE,GAAvE;AACH;;AACD,eAAO,YAAYD,UAAZ,GAAyB,GAAzB,GAA+BC,YAAtC;AACH;;AACD,UAAIL,YAAJ,EAAkB;AACd,eAAOA,YAAY,GAAG,IAAf,GAAsBjmB,QAAtB,GAAiC,GAAjC,GAAuCqmB,UAAvC,GAAoD,GAApD,GAA0DC,YAA1D,GAAyE,GAAhF;AACH;;AACD,aAAOtmB,QAAQ,GAAG,GAAX,GAAiBqmB,UAAjB,GAA8B,GAA9B,GAAoCC,YAA3C;AACH;AAvCkB,GAAvB;;AA0CAS,YAAU,CAACoD,UAAX,GAAwB,SAASC,sBAAT,CAAgC3kB,GAAhC,EAAqC;AACzD,QAAI4kB,cAAc,GAAG5kB,GAAG,CAACpvB,OAAJ,CAAY,GAAZ,CAArB;AACA,QAAIi0C,YAAY,GAAG7kB,GAAG,CAACsN,WAAJ,CAAgB,GAAhB,CAAnB;AAEA,QAAIkT,YAAY,GAAGxgB,GAAG,CAACqN,SAAJ,CAAc,CAAd,EAAiBuX,cAAjB,CAAnB;AACA,QAAIjrC,IAAI,GAAGqmB,GAAG,CAACqN,SAAJ,CAAcuX,cAAc,GAAG,CAA/B,EAAkCC,YAAlC,EAAgDzoC,KAAhD,CAAsD,GAAtD,CAAX;AACA,QAAI0oC,cAAc,GAAG9kB,GAAG,CAACqN,SAAJ,CAAcwX,YAAY,GAAG,CAA7B,CAArB;;AAEA,QAAIC,cAAc,CAACl0C,OAAf,CAAuB,GAAvB,MAAgC,CAApC,EAAuC;AACnC,UAAIuxC,KAAK,GAAG,gCAAgCh0B,IAAhC,CAAqC22B,cAArC,EAAqD,EAArD,CAAZ;AACA,UAAIvqB,QAAQ,GAAG4nB,KAAK,CAAC,CAAD,CAApB;AACA,UAAIvB,UAAU,GAAGuB,KAAK,CAAC,CAAD,CAAtB;AACA,UAAItB,YAAY,GAAGsB,KAAK,CAAC,CAAD,CAAxB;AACH;;AAED,WAAO,IAAIb,UAAJ,CAAe;AAClBd,kBAAY,EAAEA,YADI;AAElB7mC,UAAI,EAAEA,IAAI,IAAItM,SAFI;AAGlBktB,cAAQ,EAAEA,QAHQ;AAIlBqmB,gBAAU,EAAEA,UAAU,IAAIvzC,SAJR;AAKlBwzC,kBAAY,EAAEA,YAAY,IAAIxzC;AALZ,KAAf,CAAP;AAOH,GAtBD;;AAwBA,OAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGm2C,YAAY,CAACp2C,MAAjC,EAAyCC,CAAC,EAA1C,EAA8C;AAC1C6zC,cAAU,CAACluC,SAAX,CAAqB,QAAQowC,WAAW,CAACI,YAAY,CAACn2C,CAAD,CAAb,CAAxC,IAA6Dk2C,OAAO,CAACC,YAAY,CAACn2C,CAAD,CAAb,CAApE;;AACA6zC,cAAU,CAACluC,SAAX,CAAqB,QAAQowC,WAAW,CAACI,YAAY,CAACn2C,CAAD,CAAb,CAAxC,IAA8D,UAASwd,CAAT,EAAY;AACtE,aAAO,UAASxF,CAAT,EAAY;AACf,aAAKwF,CAAL,IAAU8a,OAAO,CAACtgB,CAAD,CAAjB;AACH,OAFD;AAGH,KAJ4D,CAI1Dm+B,YAAY,CAACn2C,CAAD,CAJ8C,CAA7D;AAKH;;AAED,OAAK,IAAIyxB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2kB,YAAY,CAACr2C,MAAjC,EAAyC0xB,CAAC,EAA1C,EAA8C;AAC1CoiB,cAAU,CAACluC,SAAX,CAAqB,QAAQowC,WAAW,CAACK,YAAY,CAAC3kB,CAAD,CAAb,CAAxC,IAA6DykB,OAAO,CAACE,YAAY,CAAC3kB,CAAD,CAAb,CAApE;;AACAoiB,cAAU,CAACluC,SAAX,CAAqB,QAAQowC,WAAW,CAACK,YAAY,CAAC3kB,CAAD,CAAb,CAAxC,IAA8D,UAASjU,CAAT,EAAY;AACtE,aAAO,UAASxF,CAAT,EAAY;AACf,YAAI,CAAC89B,SAAS,CAAC99B,CAAD,CAAd,EAAmB;AACf,gBAAM,IAAIhK,SAAJ,CAAcwP,CAAC,GAAG,mBAAlB,CAAN;AACH;;AACD,aAAKA,CAAL,IAAUpY,MAAM,CAAC4S,CAAD,CAAhB;AACH,OALD;AAMH,KAP4D,CAO1Do+B,YAAY,CAAC3kB,CAAD,CAP8C,CAA7D;AAQH;;AAED,OAAK,IAAI8T,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8Q,WAAW,CAACt2C,MAAhC,EAAwCwlC,CAAC,EAAzC,EAA6C;AACzCsO,cAAU,CAACluC,SAAX,CAAqB,QAAQowC,WAAW,CAACM,WAAW,CAAC9Q,CAAD,CAAZ,CAAxC,IAA4D2Q,OAAO,CAACG,WAAW,CAAC9Q,CAAD,CAAZ,CAAnE;;AACAsO,cAAU,CAACluC,SAAX,CAAqB,QAAQowC,WAAW,CAACM,WAAW,CAAC9Q,CAAD,CAAZ,CAAxC,IAA6D,UAAS/nB,CAAT,EAAY;AACrE,aAAO,UAASxF,CAAT,EAAY;AACf,aAAKwF,CAAL,IAAUje,MAAM,CAACyY,CAAD,CAAhB;AACH,OAFD;AAGH,KAJ2D,CAIzDq+B,WAAW,CAAC9Q,CAAD,CAJ8C,CAA5D;AAKH;;AAED,SAAOsO,UAAP;AACH,CA7IA,CAAD,C;;;;;;;ACAa;;AAEb,IAAIrmC,IAAJ,EAA2C;AACzCC,QAAM,CAACC,OAAP,GAAiBC,mBAAO,CAAC,EAAD,CAAxB;AACD,CAFD,MAEO,E;;;;;;;ACJP;;;;;;;;AAQa;;;;AAAA,IAAIi6B,CAAC,GAACj6B,mBAAO,CAAC,CAAD,CAAb;AAAA,IAA+BwK,CAAC,GAAC,KAAjC;AAAA,IAAuCqF,CAAC,GAAC,KAAzC;;AAA+C9P,OAAO,CAACvH,QAAR,GAAiB,KAAjB;AAAuBuH,OAAO,CAAClH,UAAR,GAAmB,KAAnB;AAAyBkH,OAAO,CAACnH,QAAR,GAAiB,KAAjB;AAAuB,IAAIopC,CAAC,GAAC,KAAN;AAAA,IAAY93B,CAAC,GAAC,KAAd;AAAA,IAAoBjD,CAAC,GAAC,KAAtB;AAA4BlH,OAAO,CAACjH,QAAR,GAAiB,KAAjB;AAAuBiH,OAAO,CAAChH,YAAR,GAAqB,KAArB;AAA2B,IAAIkpC,CAAC,GAAC,KAAN;AAAA,IAAY53B,CAAC,GAAC,KAAd;AAAoBtK,OAAO,CAAC4pC,yBAAR,GAAkC,KAAlC;AAAwC5pC,OAAO,CAAC6pC,kBAAR,GAA2B,KAA3B;AAAiC7pC,OAAO,CAAC8pC,qBAAR,GAA8B,KAA9B;AAAoC9pC,OAAO,CAAC+pC,cAAR,GAAuB,KAAvB;;AAClV,IAAG,eAAa,OAAO/6C,MAApB,IAA4BA,MAAM,CAACC,GAAtC,EAA0C;AAAC,MAAIkzC,CAAC,GAACnzC,MAAM,CAACC,GAAb;AAAiBwb,GAAC,GAAC03B,CAAC,CAAC,eAAD,CAAH;AAAqBryB,GAAC,GAACqyB,CAAC,CAAC,cAAD,CAAH;AAAoBniC,SAAO,CAACvH,QAAR,GAAiB0pC,CAAC,CAAC,gBAAD,CAAlB;AAAqCniC,SAAO,CAAClH,UAAR,GAAmBqpC,CAAC,CAAC,mBAAD,CAApB;AAA0CniC,SAAO,CAACnH,QAAR,GAAiBspC,CAAC,CAAC,gBAAD,CAAlB;AAAqCF,GAAC,GAACE,CAAC,CAAC,gBAAD,CAAH;AAAsBh4B,GAAC,GAACg4B,CAAC,CAAC,eAAD,CAAH;AAAqBj7B,GAAC,GAACi7B,CAAC,CAAC,mBAAD,CAAH;AAAyBniC,SAAO,CAACjH,QAAR,GAAiBopC,CAAC,CAAC,gBAAD,CAAlB;AAAqCniC,SAAO,CAAChH,YAAR,GAAqBmpC,CAAC,CAAC,qBAAD,CAAtB;AAA8CD,GAAC,GAACC,CAAC,CAAC,YAAD,CAAH;AAAkB73B,GAAC,GAAC63B,CAAC,CAAC,YAAD,CAAH;AAAkBniC,SAAO,CAAC4pC,yBAAR,GAAkCzH,CAAC,CAAC,wBAAD,CAAnC;AAA8DniC,SAAO,CAAC6pC,kBAAR,GAA2B1H,CAAC,CAAC,iBAAD,CAA5B;AACldniC,SAAO,CAAC8pC,qBAAR,GAA8B3H,CAAC,CAAC,qBAAD,CAA/B;AAAuDniC,SAAO,CAAC+pC,cAAR,GAAuB5H,CAAC,CAAC,aAAD,CAAxB;AAAwC;;AAAA,IAAIzrB,CAAC,GAAC,eAAa,OAAO1nB,MAApB,IAA4BA,MAAM,CAACI,QAAzC;;AAAkD,SAASunB,CAAT,CAAW5mB,CAAX,EAAa;AAAC,MAAG,SAAOA,CAAP,IAAU,qBAAkBA,CAAlB,CAAb,EAAiC,OAAO,IAAP;AAAYA,GAAC,GAAC2mB,CAAC,IAAE3mB,CAAC,CAAC2mB,CAAD,CAAJ,IAAS3mB,CAAC,CAAC,YAAD,CAAZ;AAA2B,SAAM,eAAa,OAAOA,CAApB,GAAsBA,CAAtB,GAAwB,IAA9B;AAAmC;;AAC1Q,SAASqyC,CAAT,CAAWryC,CAAX,EAAa;AAAC,OAAI,IAAIC,CAAC,GAAC,2DAAyDD,CAA/D,EAAiEoe,CAAC,GAAC,CAAvE,EAAyEA,CAAC,GAAC3M,SAAS,CAACnP,MAArF,EAA4F8b,CAAC,EAA7F;AAAgGne,KAAC,IAAE,aAAW8zC,kBAAkB,CAACtiC,SAAS,CAAC2M,CAAD,CAAV,CAAhC;AAAhG;;AAA+I,SAAM,2BAAyBpe,CAAzB,GAA2B,UAA3B,GAAsCC,CAAtC,GAAwC,gHAA9C;AAA+J;;AAAA,IAAIqyC,CAAC,GAAC;AAACjY,WAAS,EAAC,qBAAU;AAAC,WAAM,CAAC,CAAP;AAAS,GAA/B;AAAgC4f,oBAAkB,EAAC,8BAAU,CAAE,CAA/D;AAAgEC,qBAAmB,EAAC,+BAAU,CAAE,CAAhG;AAAiGC,iBAAe,EAAC,2BAAU,CAAE;AAA7H,CAAN;AAAA,IAAqI5H,CAAC,GAAC,EAAvI;;AAC5T,SAASC,CAAT,CAAWxyC,CAAX,EAAaC,CAAb,EAAeme,CAAf,EAAiB;AAAC,OAAKqS,KAAL,GAAWzwB,CAAX;AAAa,OAAKkqB,OAAL,GAAajqB,CAAb;AAAe,OAAKm6C,IAAL,GAAU7H,CAAV;AAAY,OAAK8H,OAAL,GAAaj8B,CAAC,IAAEk0B,CAAhB;AAAkB;;AAAAE,CAAC,CAACtqC,SAAF,CAAYglC,gBAAZ,GAA6B,EAA7B;;AAAgCsF,CAAC,CAACtqC,SAAF,CAAYoyC,QAAZ,GAAqB,UAASt6C,CAAT,EAAWC,CAAX,EAAa;AAAC,MAAG,qBAAkBD,CAAlB,KAAqB,eAAa,OAAOA,CAAzC,IAA4C,QAAMA,CAArD,EAAuD,MAAMgE,KAAK,CAACquC,CAAC,CAAC,EAAD,CAAF,CAAX;AAAmB,OAAKgI,OAAL,CAAaF,eAAb,CAA6B,IAA7B,EAAkCn6C,CAAlC,EAAoCC,CAApC,EAAsC,UAAtC;AAAkD,CAA/J;;AAAgKuyC,CAAC,CAACtqC,SAAF,CAAY63B,WAAZ,GAAwB,UAAS//B,CAAT,EAAW;AAAC,OAAKq6C,OAAL,CAAaJ,kBAAb,CAAgC,IAAhC,EAAqCj6C,CAArC,EAAuC,aAAvC;AAAsD,CAA1F;;AAA2F,SAASyyC,CAAT,GAAY,CAAE;;AAAAA,CAAC,CAACvqC,SAAF,GAAYsqC,CAAC,CAACtqC,SAAd;;AAAwB,SAASwqC,CAAT,CAAW1yC,CAAX,EAAaC,CAAb,EAAeme,CAAf,EAAiB;AAAC,OAAKqS,KAAL,GAAWzwB,CAAX;AAAa,OAAKkqB,OAAL,GAAajqB,CAAb;AAAe,OAAKm6C,IAAL,GAAU7H,CAAV;AAAY,OAAK8H,OAAL,GAAaj8B,CAAC,IAAEk0B,CAAhB;AAAkB;;AAAA,IAAIK,CAAC,GAACD,CAAC,CAACxqC,SAAF,GAAY,IAAIuqC,CAAJ,EAAlB;AACzdE,CAAC,CAAC3qC,WAAF,GAAc0qC,CAAd;AAAgBvI,CAAC,CAACwI,CAAD,EAAGH,CAAC,CAACtqC,SAAL,CAAD;AAAiByqC,CAAC,CAAC4H,oBAAF,GAAuB,CAAC,CAAxB;AAA0B,IAAI3H,CAAC,GAACvwC,KAAK,CAAC0E,OAAZ;AAAA,IAAoB8rC,CAAC,GAACpyC,MAAM,CAACyH,SAAP,CAAiBzB,cAAvC;AAAA,IAAsDqsC,CAAC,GAAC;AAACvyC,SAAO,EAAC;AAAT,CAAxD;AAAA,IAAuEwyC,CAAC,GAAC;AAACjyC,KAAG,EAAC,CAAC,CAAN;AAAQqyB,KAAG,EAAC,CAAC,CAAb;AAAeqnB,QAAM,EAAC,CAAC,CAAvB;AAAyBC,UAAQ,EAAC,CAAC;AAAnC,CAAzE;;AAC3D,SAAS7E,CAAT,CAAW51C,CAAX,EAAaC,CAAb,EAAeme,CAAf,EAAiB;AAAC,MAAIiF,CAAJ;AAAA,MAAMkkB,CAAC,GAAC,EAAR;AAAA,MAAWO,CAAC,GAAC,IAAb;AAAA,MAAkBH,CAAC,GAAC,IAApB;AAAyB,MAAG,QAAM1nC,CAAT,EAAW,KAAIojB,CAAJ,IAAS,KAAK,CAAL,KAASpjB,CAAC,CAACkzB,GAAX,KAAiBwU,CAAC,GAAC1nC,CAAC,CAACkzB,GAArB,GAA0B,KAAK,CAAL,KAASlzB,CAAC,CAACa,GAAX,KAAiBgnC,CAAC,GAAC,KAAG7nC,CAAC,CAACa,GAAxB,CAA1B,EAAuDb,CAAhE;AAAkE4yC,KAAC,CAACnsC,IAAF,CAAOzG,CAAP,EAASojB,CAAT,KAAa,CAAC0vB,CAAC,CAACtsC,cAAF,CAAiB4c,CAAjB,CAAd,KAAoCkkB,CAAC,CAAClkB,CAAD,CAAD,GAAKpjB,CAAC,CAACojB,CAAD,CAA1C;AAAlE;AAAiH,MAAIF,CAAC,GAAC1R,SAAS,CAACnP,MAAV,GAAiB,CAAvB;AAAyB,MAAG,MAAI6gB,CAAP,EAASokB,CAAC,CAAC3jC,QAAF,GAAWwa,CAAX,CAAT,KAA2B,IAAG,IAAE+E,CAAL,EAAO;AAAC,SAAI,IAAImkB,CAAC,GAACjlC,KAAK,CAAC8gB,CAAD,CAAX,EAAenS,CAAC,GAAC,CAArB,EAAuBA,CAAC,GAACmS,CAAzB,EAA2BnS,CAAC,EAA5B;AAA+Bs2B,OAAC,CAACt2B,CAAD,CAAD,GAAKS,SAAS,CAACT,CAAC,GAAC,CAAH,CAAd;AAA/B;;AAAmDu2B,KAAC,CAAC3jC,QAAF,GAAW0jC,CAAX;AAAa;AAAA,MAAGtnC,CAAC,IAAEA,CAAC,CAACg2C,YAAR,EAAqB,KAAI3yB,CAAJ,IAASF,CAAC,GAACnjB,CAAC,CAACg2C,YAAJ,EAAiB7yB,CAA1B;AAA4B,SAAK,CAAL,KAASokB,CAAC,CAAClkB,CAAD,CAAV,KAAgBkkB,CAAC,CAAClkB,CAAD,CAAD,GAAKF,CAAC,CAACE,CAAD,CAAtB;AAA5B;AAAuD,SAAM;AAACoG,YAAQ,EAAC/O,CAAV;AAAYvZ,QAAI,EAACnB,CAAjB;AAAmBc,OAAG,EAACgnC,CAAvB;AAAyB3U,OAAG,EAACwU,CAA7B;AAA+BlX,SAAK,EAAC8W,CAArC;AAAuCmT,UAAM,EAAC5H,CAAC,CAACvyC;AAAhD,GAAN;AAA+D;;AAC9a,SAASs1C,CAAT,CAAW71C,CAAX,EAAaC,CAAb,EAAe;AAAC,SAAM;AAACwpB,YAAQ,EAAC/O,CAAV;AAAYvZ,QAAI,EAACnB,CAAC,CAACmB,IAAnB;AAAwBL,OAAG,EAACb,CAA5B;AAA8BkzB,OAAG,EAACnzB,CAAC,CAACmzB,GAApC;AAAwC1C,SAAK,EAACzwB,CAAC,CAACywB,KAAhD;AAAsDiqB,UAAM,EAAC16C,CAAC,CAAC06C;AAA/D,GAAN;AAA6E;;AAAA,SAAS56B,CAAT,CAAW9f,CAAX,EAAa;AAAC,SAAM,qBAAkBA,CAAlB,KAAqB,SAAOA,CAA5B,IAA+BA,CAAC,CAACypB,QAAF,KAAa/O,CAAlD;AAAoD;;AAAA,SAASigC,MAAT,CAAgB36C,CAAhB,EAAkB;AAAC,MAAIC,CAAC,GAAC;AAAC,SAAI,IAAL;AAAU,SAAI;AAAd,GAAN;AAA0B,SAAM,MAAID,CAAC,CAAC2O,OAAF,CAAU,OAAV,EAAkB,UAAS3O,CAAT,EAAW;AAAC,WAAOC,CAAC,CAACD,CAAD,CAAR;AAAY,GAA1C,CAAV;AAAsD;;AAAA,IAAI46C,CAAC,GAAC,MAAN;;AAAa,SAASC,CAAT,CAAW76C,CAAX,EAAaC,CAAb,EAAe;AAAC,SAAM,qBAAkBD,CAAlB,KAAqB,SAAOA,CAA5B,IAA+B,QAAMA,CAAC,CAACc,GAAvC,GAA2C65C,MAAM,CAAC,KAAG36C,CAAC,CAACc,GAAN,CAAjD,GAA4Db,CAAC,CAACC,QAAF,CAAW,EAAX,CAAlE;AAAiF;;AAChX,SAAS46C,CAAT,CAAW96C,CAAX,EAAaC,CAAb,EAAeme,CAAf,EAAiBiF,CAAjB,EAAmBkkB,CAAnB,EAAqB;AAAC,MAAIO,CAAC,WAAQ9nC,CAAR,CAAL;;AAAe,MAAG,gBAAc8nC,CAAd,IAAiB,cAAYA,CAAhC,EAAkC9nC,CAAC,GAAC,IAAF;AAAO,MAAI2nC,CAAC,GAAC,CAAC,CAAP;AAAS,MAAG,SAAO3nC,CAAV,EAAY2nC,CAAC,GAAC,CAAC,CAAH,CAAZ,KAAsB,QAAOG,CAAP;AAAU,SAAK,QAAL;AAAc,SAAK,QAAL;AAAcH,OAAC,GAAC,CAAC,CAAH;AAAK;;AAAM,SAAK,QAAL;AAAc,cAAO3nC,CAAC,CAACypB,QAAT;AAAmB,aAAK/O,CAAL;AAAO,aAAKqF,CAAL;AAAO4nB,WAAC,GAAC,CAAC,CAAH;AAAjC;;AAA/D;AAAsG,MAAGA,CAAH,EAAK,OAAOA,CAAC,GAAC3nC,CAAF,EAAIunC,CAAC,GAACA,CAAC,CAACI,CAAD,CAAP,EAAW3nC,CAAC,GAAC,OAAKqjB,CAAL,GAAO,MAAIw3B,CAAC,CAAClT,CAAD,EAAG,CAAH,CAAZ,GAAkBtkB,CAA/B,EAAiCuvB,CAAC,CAACrL,CAAD,CAAD,IAAMnpB,CAAC,GAAC,EAAF,EAAK,QAAMpe,CAAN,KAAUoe,CAAC,GAACpe,CAAC,CAAC2O,OAAF,CAAUisC,CAAV,EAAY,KAAZ,IAAmB,GAA/B,CAAL,EAAyCE,CAAC,CAACvT,CAAD,EAAGtnC,CAAH,EAAKme,CAAL,EAAO,EAAP,EAAU,UAASpe,CAAT,EAAW;AAAC,WAAOA,CAAP;AAAS,GAA/B,CAAhD,IAAkF,QAAMunC,CAAN,KAAUznB,CAAC,CAACynB,CAAD,CAAD,KAAOA,CAAC,GAACsO,CAAC,CAACtO,CAAD,EAAGnpB,CAAC,IAAE,CAACmpB,CAAC,CAACzmC,GAAH,IAAQ6mC,CAAC,IAAEA,CAAC,CAAC7mC,GAAF,KAAQymC,CAAC,CAACzmC,GAArB,GAAyB,EAAzB,GAA4B,CAAC,KAAGymC,CAAC,CAACzmC,GAAN,EAAW6N,OAAX,CAAmBisC,CAAnB,EAAqB,KAArB,IAA4B,GAA1D,CAAD,GAAgE56C,CAAnE,CAAV,GAAiFC,CAAC,CAACmD,IAAF,CAAOmkC,CAAP,CAA3F,CAAnH,EAAyN,CAAhO;AAAkOI,GAAC,GAAC,CAAF;AAAItkB,GAAC,GAAC,OAAKA,CAAL,GAAO,GAAP,GAAWA,CAAC,GAAC,GAAf;AAAmB,MAAGuvB,CAAC,CAAC5yC,CAAD,CAAJ,EAAQ,KAAI,IAAImjB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACnjB,CAAC,CAACsC,MAAhB,EAAuB6gB,CAAC,EAAxB,EAA2B;AAAC2kB,KAAC,GACtf9nC,CAAC,CAACmjB,CAAD,CADof;AAChf,QAAImkB,CAAC,GAACjkB,CAAC,GAACw3B,CAAC,CAAC/S,CAAD,EAAG3kB,CAAH,CAAT;AAAewkB,KAAC,IAAEmT,CAAC,CAAChT,CAAD,EAAG7nC,CAAH,EAAKme,CAAL,EAAOkpB,CAAP,EAASC,CAAT,CAAJ;AAAgB,GAD6a,MACxa,IAAGD,CAAC,GAAC1gB,CAAC,CAAC5mB,CAAD,CAAH,EAAO,eAAa,OAAOsnC,CAA9B,EAAgC,KAAItnC,CAAC,GAACsnC,CAAC,CAAC5gC,IAAF,CAAO1G,CAAP,CAAF,EAAYmjB,CAAC,GAAC,CAAlB,EAAoB,CAAC,CAAC2kB,CAAC,GAAC9nC,CAAC,CAACiG,IAAF,EAAH,EAAa80C,IAAlC;AAAwCjT,KAAC,GAACA,CAAC,CAAC1jC,KAAJ,EAAUkjC,CAAC,GAACjkB,CAAC,GAACw3B,CAAC,CAAC/S,CAAD,EAAG3kB,CAAC,EAAJ,CAAf,EAAuBwkB,CAAC,IAAEmT,CAAC,CAAChT,CAAD,EAAG7nC,CAAH,EAAKme,CAAL,EAAOkpB,CAAP,EAASC,CAAT,CAA3B;AAAxC,GAAhC,MAAoH,IAAG,aAAWO,CAAd,EAAgB,MAAM7nC,CAAC,GAAC,KAAGD,CAAL,EAAOgE,KAAK,CAACquC,CAAC,CAAC,EAAD,EAAI,sBAAoBpyC,CAApB,GAAsB,uBAAqBQ,MAAM,CAACJ,IAAP,CAAYL,CAAZ,EAAe6D,IAAf,CAAoB,IAApB,CAArB,GAA+C,GAArE,GAAyE5D,CAA7E,CAAF,CAAlB;AAAqG,SAAO0nC,CAAP;AAAS;;AAAA,SAASqT,CAAT,CAAWh7C,CAAX,EAAaC,CAAb,EAAeme,CAAf,EAAiB;AAAC,MAAG,QAAMpe,CAAT,EAAW,OAAOA,CAAP;AAAS,MAAIqjB,CAAC,GAAC,EAAN;AAAA,MAASkkB,CAAC,GAAC,CAAX;AAAauT,GAAC,CAAC96C,CAAD,EAAGqjB,CAAH,EAAK,EAAL,EAAQ,EAAR,EAAW,UAASrjB,CAAT,EAAW;AAAC,WAAOC,CAAC,CAACyG,IAAF,CAAO0X,CAAP,EAASpe,CAAT,EAAWunC,CAAC,EAAZ,CAAP;AAAuB,GAA9C,CAAD;AAAiD,SAAOlkB,CAAP;AAAS;;AACxY,SAAShM,CAAT,CAAWrX,CAAX,EAAa;AAAC,MAAG,CAAC,CAAD,KAAKA,CAAC,CAACi7C,OAAV,EAAkB;AAAC,QAAIh7C,CAAC,GAACD,CAAC,CAACk7C,OAAR;AAAgBj7C,KAAC,GAACA,CAAC,EAAH;AAAMA,KAAC,CAACynC,IAAF,CAAO,UAASznC,CAAT,EAAW;AAAC,UAAG,MAAID,CAAC,CAACi7C,OAAN,IAAe,CAAC,CAAD,KAAKj7C,CAAC,CAACi7C,OAAzB,EAAiCj7C,CAAC,CAACi7C,OAAF,GAAU,CAAV,EAAYj7C,CAAC,CAACk7C,OAAF,GAAUj7C,CAAtB;AAAwB,KAA5E,EAA6E,UAASA,CAAT,EAAW;AAAC,UAAG,MAAID,CAAC,CAACi7C,OAAN,IAAe,CAAC,CAAD,KAAKj7C,CAAC,CAACi7C,OAAzB,EAAiCj7C,CAAC,CAACi7C,OAAF,GAAU,CAAV,EAAYj7C,CAAC,CAACk7C,OAAF,GAAUj7C,CAAtB;AAAwB,KAAlJ;AAAoJ,KAAC,CAAD,KAAKD,CAAC,CAACi7C,OAAP,KAAiBj7C,CAAC,CAACi7C,OAAF,GAAU,CAAV,EAAYj7C,CAAC,CAACk7C,OAAF,GAAUj7C,CAAvC;AAA0C;;AAAA,MAAG,MAAID,CAAC,CAACi7C,OAAT,EAAiB,OAAOj7C,CAAC,CAACk7C,OAAF,CAAUC,OAAjB;AAAyB,QAAMn7C,CAAC,CAACk7C,OAAR;AAAiB;;AAAA,IAAIE,CAAC,GAAC;AAAC76C,SAAO,EAAC;AAAT,CAAN;AAAA,IAAqB86C,CAAC,GAAC;AAACC,YAAU,EAAC;AAAZ,CAAvB;AAAA,IAAsCC,CAAC,GAAC;AAACzF,wBAAsB,EAACsF,CAAxB;AAA0BI,yBAAuB,EAACH,CAAlD;AAAoDI,mBAAiB,EAAC3I,CAAtE;AAAwEriC,QAAM,EAAC05B;AAA/E,CAAxC;AAChTl6B,OAAO,CAACyrC,QAAR,GAAiB;AAAC3qC,KAAG,EAACiqC,CAAL;AAAOn6C,SAAO,EAAC,iBAASb,CAAT,EAAWC,CAAX,EAAame,CAAb,EAAe;AAAC48B,KAAC,CAACh7C,CAAD,EAAG,YAAU;AAACC,OAAC,CAAC2W,KAAF,CAAQ,IAAR,EAAanF,SAAb;AAAwB,KAAtC,EAAuC2M,CAAvC,CAAD;AAA2C,GAA1E;AAA2EyO,OAAK,EAAC,eAAS7sB,CAAT,EAAW;AAAC,QAAIC,CAAC,GAAC,CAAN;AAAQ+6C,KAAC,CAACh7C,CAAD,EAAG,YAAU;AAACC,OAAC;AAAG,KAAlB,CAAD;AAAqB,WAAOA,CAAP;AAAS,GAAnI;AAAoI4pC,SAAO,EAAC,iBAAS7pC,CAAT,EAAW;AAAC,WAAOg7C,CAAC,CAACh7C,CAAD,EAAG,UAASA,CAAT,EAAW;AAAC,aAAOA,CAAP;AAAS,KAAxB,CAAD,IAA4B,EAAnC;AAAsC,GAA9L;AAA+L27C,MAAI,EAAC,cAAS37C,CAAT,EAAW;AAAC,QAAG,CAAC8f,CAAC,CAAC9f,CAAD,CAAL,EAAS,MAAMgE,KAAK,CAACquC,CAAC,CAAC,GAAD,CAAF,CAAX;AAAoB,WAAOryC,CAAP;AAAS;AAAtP,CAAjB;AAAyQiQ,OAAO,CAACg9B,SAAR,GAAkBuF,CAAlB;AAAoBviC,OAAO,CAAC2rC,aAAR,GAAsBlJ,CAAtB;AAAwBziC,OAAO,CAAC+jC,kDAAR,GAA2DuH,CAA3D;;AACrTtrC,OAAO,CAAC4rC,YAAR,GAAqB,UAAS77C,CAAT,EAAWC,CAAX,EAAame,CAAb,EAAe;AAAC,MAAG,SAAOpe,CAAP,IAAU,KAAK,CAAL,KAASA,CAAtB,EAAwB,MAAMgE,KAAK,CAACquC,CAAC,CAAC,GAAD,EAAKryC,CAAL,CAAF,CAAX;AAAsB,MAAIqjB,CAAC,GAAC8mB,CAAC,CAAC,EAAD,EAAInqC,CAAC,CAACywB,KAAN,CAAP;AAAA,MAAoB8W,CAAC,GAACvnC,CAAC,CAACc,GAAxB;AAAA,MAA4BgnC,CAAC,GAAC9nC,CAAC,CAACmzB,GAAhC;AAAA,MAAoCwU,CAAC,GAAC3nC,CAAC,CAAC06C,MAAxC;;AAA+C,MAAG,QAAMz6C,CAAT,EAAW;AAAC,SAAK,CAAL,KAASA,CAAC,CAACkzB,GAAX,KAAiB2U,CAAC,GAAC7nC,CAAC,CAACkzB,GAAJ,EAAQwU,CAAC,GAACmL,CAAC,CAACvyC,OAA7B;AAAsC,SAAK,CAAL,KAASN,CAAC,CAACa,GAAX,KAAiBymC,CAAC,GAAC,KAAGtnC,CAAC,CAACa,GAAxB;AAA6B,QAAGd,CAAC,CAACmB,IAAF,IAAQnB,CAAC,CAACmB,IAAF,CAAO60C,YAAlB,EAA+B,IAAI7yB,CAAC,GAACnjB,CAAC,CAACmB,IAAF,CAAO60C,YAAb;;AAA0B,SAAI1O,CAAJ,IAASrnC,CAAT;AAAW4yC,OAAC,CAACnsC,IAAF,CAAOzG,CAAP,EAASqnC,CAAT,KAAa,CAACyL,CAAC,CAACtsC,cAAF,CAAiB6gC,CAAjB,CAAd,KAAoCjkB,CAAC,CAACikB,CAAD,CAAD,GAAK,KAAK,CAAL,KAASrnC,CAAC,CAACqnC,CAAD,CAAV,IAAe,KAAK,CAAL,KAASnkB,CAAxB,GAA0BA,CAAC,CAACmkB,CAAD,CAA3B,GAA+BrnC,CAAC,CAACqnC,CAAD,CAAzE;AAAX;AAAyF;;AAAA,MAAIA,CAAC,GAAC71B,SAAS,CAACnP,MAAV,GAAiB,CAAvB;AAAyB,MAAG,MAAIglC,CAAP,EAASjkB,CAAC,CAACzf,QAAF,GAAWwa,CAAX,CAAT,KAA2B,IAAG,IAAEkpB,CAAL,EAAO;AAACnkB,KAAC,GAAC9gB,KAAK,CAACilC,CAAD,CAAP;;AAAW,SAAI,IAAIt2B,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACs2B,CAAd,EAAgBt2B,CAAC,EAAjB;AAAoBmS,OAAC,CAACnS,CAAD,CAAD,GAAKS,SAAS,CAACT,CAAC,GAAC,CAAH,CAAd;AAApB;;AAAwCqS,KAAC,CAACzf,QAAF,GAAWuf,CAAX;AAAa;AAAA,SAAM;AAACsG,YAAQ,EAAC/O,CAAV;AAAYvZ,QAAI,EAACnB,CAAC,CAACmB,IAAnB;AACreL,OAAG,EAACymC,CADie;AAC/dpU,OAAG,EAAC2U,CAD2d;AACzdrX,SAAK,EAACpN,CADmd;AACjdq3B,UAAM,EAAC/S;AAD0c,GAAN;AACjc,CAD9B;;AAC+B13B,OAAO,CAAC6rC,aAAR,GAAsB,UAAS97C,CAAT,EAAW;AAACA,GAAC,GAAC;AAACypB,YAAQ,EAACrP,CAAV;AAAY4iB,iBAAa,EAACh9B,CAA1B;AAA4B+7C,kBAAc,EAAC/7C,CAA3C;AAA6Cg8C,gBAAY,EAAC,CAA1D;AAA4DC,YAAQ,EAAC,IAArE;AAA0EC,YAAQ,EAAC;AAAnF,GAAF;AAA2Fl8C,GAAC,CAACi8C,QAAF,GAAW;AAACxyB,YAAQ,EAACyoB,CAAV;AAAYjoB,YAAQ,EAACjqB;AAArB,GAAX;AAAmC,SAAOA,CAAC,CAACk8C,QAAF,GAAWl8C,CAAlB;AAAoB,CAApL;;AAAqLiQ,OAAO,CAAC4gC,aAAR,GAAsB+E,CAAtB;;AAAwB3lC,OAAO,CAACksC,aAAR,GAAsB,UAASn8C,CAAT,EAAW;AAAC,MAAIC,CAAC,GAAC21C,CAAC,CAAC/iB,IAAF,CAAO,IAAP,EAAY7yB,CAAZ,CAAN;AAAqBC,GAAC,CAACkB,IAAF,GAAOnB,CAAP;AAAS,SAAOC,CAAP;AAAS,CAAzE;;AAA0EgQ,OAAO,CAACmsC,SAAR,GAAkB,YAAU;AAAC,SAAM;AAAC77C,WAAO,EAAC;AAAT,GAAN;AAAqB,CAAlD;;AAAmD0P,OAAO,CAACosC,UAAR,GAAmB,UAASr8C,CAAT,EAAW;AAAC,SAAM;AAACypB,YAAQ,EAACtS,CAAV;AAAYyS,UAAM,EAAC5pB;AAAnB,GAAN;AAA4B,CAA3D;;AAA4DiQ,OAAO,CAACqsC,cAAR,GAAuBx8B,CAAvB;;AACra7P,OAAO,CAACssC,IAAR,GAAa,UAASv8C,CAAT,EAAW;AAAC,SAAM;AAACypB,YAAQ,EAAClP,CAAV;AAAY+yB,YAAQ,EAAC;AAAC2N,aAAO,EAAC,CAAC,CAAV;AAAYC,aAAO,EAACl7C;AAApB,KAArB;AAA4CwtC,SAAK,EAACn2B;AAAlD,GAAN;AAA2D,CAApF;;AAAqFpH,OAAO,CAACusC,IAAR,GAAa,UAASx8C,CAAT,EAAWC,CAAX,EAAa;AAAC,SAAM;AAACwpB,YAAQ,EAAC0oB,CAAV;AAAYhxC,QAAI,EAACnB,CAAjB;AAAmBgb,WAAO,EAAC,KAAK,CAAL,KAAS/a,CAAT,GAAW,IAAX,GAAgBA;AAA3C,GAAN;AAAoD,CAA/E;;AAAgFgQ,OAAO,CAACwsC,eAAR,GAAwB,UAASz8C,CAAT,EAAW;AAAC,MAAIC,CAAC,GAACo7C,CAAC,CAACC,UAAR;AAAmBD,GAAC,CAACC,UAAF,GAAa,CAAb;;AAAe,MAAG;AAACt7C,KAAC;AAAG,GAAR,SAAe;AAACq7C,KAAC,CAACC,UAAF,GAAar7C,CAAb;AAAe;AAAC,CAAtG;;AAAuGgQ,OAAO,CAACysC,YAAR,GAAqB,YAAU;AAAC,QAAM14C,KAAK,CAACquC,CAAC,CAAC,GAAD,CAAF,CAAX;AAAqB,CAArD;;AAAsDpiC,OAAO,CAAC0sC,4BAAR,GAAqC,UAAS38C,CAAT,EAAWC,CAAX,EAAa;AAAC,SAAM;AAAC28C,eAAW,EAAC38C,CAAb;AAAei1C,WAAO,EAACl1C,CAAvB;AAAyB68C,iCAA6B,EAAC,IAAvD;AAA4DC,mCAA+B,EAAC;AAA5F,GAAN;AAAwG,CAA3J;;AAClU7sC,OAAO,CAAC8sC,wBAAR,GAAiC,UAAS/8C,CAAT,EAAW;AAAC,SAAOo7C,CAAC,CAAC76C,OAAF,CAAUu0C,eAAV,CAA0B90C,CAA1B,CAAP;AAAoC,CAAjF;;AAAkFiQ,OAAO,CAAC+sC,wBAAR,GAAiC,YAAU;AAAC,SAAO5B,CAAC,CAAC76C,OAAF,CAAU8zC,eAAV,EAAP;AAAmC,CAA/E;;AAAgFpkC,OAAO,CAACgtC,yBAAR,GAAkC,UAASj9C,CAAT,EAAWC,CAAX,EAAame,CAAb,EAAe;AAAC,SAAOg9B,CAAC,CAAC76C,OAAF,CAAU00C,gBAAV,CAA2Bj1C,CAA3B,EAA6BC,CAA7B,EAA+Bme,CAA/B,CAAP;AAAyC,CAA3F;;AAA4FnO,OAAO,CAACitC,4BAAR,GAAqC,YAAU;AAAC,SAAO9B,CAAC,CAAC76C,OAAF,CAAU60C,mBAAV,EAAP;AAAuC,CAAvF;;AAAwFnlC,OAAO,CAACykC,WAAR,GAAoB,UAAS10C,CAAT,EAAWC,CAAX,EAAa;AAAC,SAAOm7C,CAAC,CAAC76C,OAAF,CAAUm0C,WAAV,CAAsB10C,CAAtB,EAAwBC,CAAxB,CAAP;AAAkC,CAApE;;AAAqEgQ,OAAO,CAACgkC,UAAR,GAAmB,UAASj0C,CAAT,EAAW;AAAC,SAAOo7C,CAAC,CAAC76C,OAAF,CAAU0zC,UAAV,CAAqBj0C,CAArB,CAAP;AAA+B,CAA9D;;AAA+DiQ,OAAO,CAACwkC,aAAR,GAAsB,YAAU,CAAE,CAAlC;;AAC1dxkC,OAAO,CAACklC,gBAAR,GAAyB,UAASn1C,CAAT,EAAW;AAAC,SAAOo7C,CAAC,CAAC76C,OAAF,CAAU40C,gBAAV,CAA2Bn1C,CAA3B,CAAP;AAAqC,CAA1E;;AAA2EiQ,OAAO,CAACskC,SAAR,GAAkB,UAASv0C,CAAT,EAAWC,CAAX,EAAa;AAAC,SAAOm7C,CAAC,CAAC76C,OAAF,CAAUg0C,SAAV,CAAoBv0C,CAApB,EAAsBC,CAAtB,CAAP;AAAgC,CAAhE;;AAAiEgQ,OAAO,CAACukC,mBAAR,GAA4B,UAASx0C,CAAT,EAAWC,CAAX,EAAame,CAAb,EAAe;AAAC,SAAOg9B,CAAC,CAAC76C,OAAF,CAAUi0C,mBAAV,CAA8Bx0C,CAA9B,EAAgCC,CAAhC,EAAkCme,CAAlC,CAAP;AAA4C,CAAxF;;AAAyFnO,OAAO,CAACqkC,eAAR,GAAwB,UAASt0C,CAAT,EAAWC,CAAX,EAAa;AAAC,SAAOm7C,CAAC,CAAC76C,OAAF,CAAU+zC,eAAV,CAA0Bt0C,CAA1B,EAA4BC,CAA5B,CAAP;AAAsC,CAA5E;;AAA6EgQ,OAAO,CAAC0kC,OAAR,GAAgB,UAAS30C,CAAT,EAAWC,CAAX,EAAa;AAAC,SAAOm7C,CAAC,CAAC76C,OAAF,CAAUo0C,OAAV,CAAkB30C,CAAlB,EAAoBC,CAApB,CAAP;AAA8B,CAA5D;;AAA6DgQ,OAAO,CAACkkC,UAAR,GAAmB,UAASn0C,CAAT,EAAWC,CAAX,EAAame,CAAb,EAAe;AAAC,SAAOg9B,CAAC,CAAC76C,OAAF,CAAU4zC,UAAV,CAAqBn0C,CAArB,EAAuBC,CAAvB,EAAyBme,CAAzB,CAAP;AAAmC,CAAtE;;AAAuEnO,OAAO,CAACmkC,MAAR,GAAe,UAASp0C,CAAT,EAAW;AAAC,SAAOo7C,CAAC,CAAC76C,OAAF,CAAU6zC,MAAV,CAAiBp0C,CAAjB,CAAP;AAA2B,CAAtD;;AACtbiQ,OAAO,CAACikC,QAAR,GAAiB,UAASl0C,CAAT,EAAW;AAAC,SAAOo7C,CAAC,CAAC76C,OAAF,CAAU2zC,QAAV,CAAmBl0C,CAAnB,CAAP;AAA6B,CAA1D;;AAA2DiQ,OAAO,CAAC+kC,aAAR,GAAsB,YAAU;AAAC,SAAOoG,CAAC,CAAC76C,OAAF,CAAUy0C,aAAV,EAAP;AAAiC,CAAlE;;AAAmE/kC,OAAO,CAACgD,OAAR,GAAgB,wCAAhB,C;;;;;;;;;;;;;;;;;;;;;;ACzB9H;;;;;;;;IASqBkqC,Y;;;;0CAC0B,IAAIlrC,GAAJ,E;;;;;gCAG3Ci+B,K,EACAkN,Q,EACM;AACN,UAAMxY,SAAS,GAAG,KAAKyY,YAAL,CAAkB/7C,GAAlB,CAAsB4uC,KAAtB,CAAlB;;AACA,UAAItL,SAAS,KAAKziC,SAAlB,EAA6B;AAC3B,aAAKk7C,YAAL,CAAkB57C,GAAlB,CAAsByuC,KAAtB,EAA6B,CAACkN,QAAD,CAA7B;AACD,OAFD,MAEO;AACL,YAAM5vC,KAAK,GAAGo3B,SAAS,CAACl/B,OAAV,CAAkB03C,QAAlB,CAAd;;AACA,YAAI5vC,KAAK,GAAG,CAAZ,EAAe;AACbo3B,mBAAS,CAACxhC,IAAV,CAAeg6C,QAAf;AACD;AACF;AACF;;;yBAGClN,K,EAEM;AACN,UAAMtL,SAAS,GAAG,KAAKyY,YAAL,CAAkB/7C,GAAlB,CAAsB4uC,KAAtB,CAAlB;;AACA,UAAItL,SAAS,KAAKziC,SAAlB,EAA6B;AAAA,0CAH1BsM,IAG0B;AAH1BA,cAG0B;AAAA;;AAC3B,YAAIm2B,SAAS,CAACtiC,MAAV,KAAqB,CAAzB,EAA4B;AAC1B;AACA,cAAM86C,QAAQ,GAAGxY,SAAS,CAAC,CAAD,CAA1B;AACAwY,kBAAQ,CAACxmC,KAAT,CAAe,IAAf,EAAqBnI,IAArB;AACD,SAJD,MAIO;AACL,cAAI6uC,QAAQ,GAAG,KAAf;AACA,cAAIC,WAAW,GAAG,IAAlB;AAEA,cAAMC,eAAe,GAAGn7C,KAAK,CAACsE,IAAN,CAAWi+B,SAAX,CAAxB;;AACA,eAAK,IAAIriC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGi7C,eAAe,CAACl7C,MAApC,EAA4CC,CAAC,EAA7C,EAAiD;AAC/C,gBAAM66C,SAAQ,GAAGI,eAAe,CAACj7C,CAAD,CAAhC;;AACA,gBAAI;AACF66C,uBAAQ,CAACxmC,KAAT,CAAe,IAAf,EAAqBnI,IAArB;AACD,aAFD,CAEE,OAAO9J,KAAP,EAAc;AACd,kBAAI44C,WAAW,KAAK,IAApB,EAA0B;AACxBD,wBAAQ,GAAG,IAAX;AACAC,2BAAW,GAAG54C,KAAd;AACD;AACF;AACF;;AAED,cAAI24C,QAAJ,EAAc;AACZ,kBAAMC,WAAN;AACD;AACF;AACF;AACF;;;yCAE0B;AACzB,WAAKF,YAAL,CAAkBzxB,KAAlB;AACD;;;mCAEcskB,K,EAAsBkN,Q,EAA0B;AAC7D,UAAMxY,SAAS,GAAG,KAAKyY,YAAL,CAAkB/7C,GAAlB,CAAsB4uC,KAAtB,CAAlB;;AACA,UAAItL,SAAS,KAAKziC,SAAlB,EAA6B;AAC3B,YAAMqL,KAAK,GAAGo3B,SAAS,CAACl/B,OAAV,CAAkB03C,QAAlB,CAAd;;AACA,YAAI5vC,KAAK,IAAI,CAAb,EAAgB;AACdo3B,mBAAS,CAAC59B,MAAV,CAAiBwG,KAAjB,EAAwB,CAAxB;AACD;AACF;AACF;;;;;;;;;;;;;;;;;;ACvEH,IAAIiwC,aAAa,GAAG,SAASA,aAAT,CAAuBz9C,CAAvB,EAA0BC,CAA1B,EAA6B;AAC/C,SAAOD,CAAC,KAAKC,CAAb;AACD,CAFD;;AAIe,kDAAUy9C,QAAV,EAAoB;AACjC,MAAIC,OAAO,GAAGlsC,SAAS,CAACnP,MAAV,GAAmB,CAAnB,IAAwBmP,SAAS,CAAC,CAAD,CAAT,KAAiBtP,SAAzC,GAAqDsP,SAAS,CAAC,CAAD,CAA9D,GAAoEgsC,aAAlF;AAEA,MAAI74B,QAAQ,GAAG,KAAK,CAApB;AACA,MAAID,QAAQ,GAAG,EAAf;AACA,MAAIi5B,UAAU,GAAG,KAAK,CAAtB;AACA,MAAIC,UAAU,GAAG,KAAjB;;AAEA,MAAIC,mBAAmB,GAAG,SAASA,mBAAT,CAA6BC,MAA7B,EAAqCvwC,KAArC,EAA4C;AACpE,WAAOmwC,OAAO,CAACI,MAAD,EAASp5B,QAAQ,CAACnX,KAAD,CAAjB,CAAd;AACD,GAFD;;AAIA,MAAI0R,MAAM,GAAG,SAASA,MAAT,GAAkB;AAC7B,SAAK,IAAI8+B,IAAI,GAAGvsC,SAAS,CAACnP,MAArB,EAA6B27C,OAAO,GAAG57C,KAAK,CAAC27C,IAAD,CAA5C,EAAoDE,IAAI,GAAG,CAAhE,EAAmEA,IAAI,GAAGF,IAA1E,EAAgFE,IAAI,EAApF,EAAwF;AACtFD,aAAO,CAACC,IAAD,CAAP,GAAgBzsC,SAAS,CAACysC,IAAD,CAAzB;AACD;;AAED,QAAIL,UAAU,IAAIj5B,QAAQ,KAAK,IAA3B,IAAmCq5B,OAAO,CAAC37C,MAAR,KAAmBqiB,QAAQ,CAACriB,MAA/D,IAAyE27C,OAAO,CAACn/B,KAAR,CAAcg/B,mBAAd,CAA7E,EAAiH;AAC/G,aAAOF,UAAP;AACD;;AAEDC,cAAU,GAAG,IAAb;AACAj5B,YAAQ,GAAG,IAAX;AACAD,YAAQ,GAAGs5B,OAAX;AACAL,cAAU,GAAGF,QAAQ,CAAC9mC,KAAT,CAAe,IAAf,EAAqBqnC,OAArB,CAAb;AACA,WAAOL,UAAP;AACD,GAdD;;AAgBA,SAAO1+B,MAAP;AACD,C;;;;;;ACnCD;;;;;;;;AAmBA;AACA;AACA;AACO,SAASi/B,cAAT,CAAwBjoC,IAAxB,EAAiE;AACtE,MAAI,CAACA,IAAI,CAACkoC,aAAV,EAAyB;AACvB,WAAO,IAAP;AACD;;AACD,SAAOloC,IAAI,CAACkoC,aAAL,CAAmBC,WAA1B;AACD,C,CAED;AACA;;AACO,SAASC,cAAT,CAAwBpoC,IAAxB,EAA+D;AACpE,MAAMqoC,UAAU,GAAGJ,cAAc,CAACjoC,IAAD,CAAjC;;AACA,MAAIqoC,UAAJ,EAAgB;AACd,WAAOA,UAAU,CAACC,YAAlB;AACD;;AACD,SAAO,IAAP;AACD,C,CAED;AACA;;AACO,SAASC,qCAAT,CAA+CvoC,IAA/C,EAAkE;AACvE,MAAMwoC,UAAU,GAAGC,oBAAoB,CAACzoC,IAAD,CAAvC;AACA,SAAO0oC,gBAAgB,CAAC,CACtB1oC,IAAI,CAAC2oC,qBAAL,EADsB,EAEtB;AACEC,OAAG,EAAEJ,UAAU,CAACK,SADlB;AAEEC,QAAI,EAAEN,UAAU,CAACO,UAFnB;AAGEC,UAAM,EAAER,UAAU,CAACS,YAHrB;AAIEC,SAAK,EAAEV,UAAU,CAACW,WAJpB;AAKE;AACA;AACA;AACAC,SAAK,EAAE,CART;AASEC,UAAM,EAAE;AATV,GAFsB,CAAD,CAAvB;AAcD,C,CAED;AACA;;AACO,SAASX,gBAAT,CAA0BY,KAA1B,EAAoD;AACzD,SAAOA,KAAK,CAACl5C,MAAN,CAAa,UAACm5C,YAAD,EAAeC,IAAf,EAAwB;AAC1C,QAAID,YAAY,IAAI,IAApB,EAA0B;AACxB,aAAOC,IAAP;AACD;;AAED,WAAO;AACLZ,SAAG,EAAEW,YAAY,CAACX,GAAb,GAAmBY,IAAI,CAACZ,GADxB;AAELE,UAAI,EAAES,YAAY,CAACT,IAAb,GAAoBU,IAAI,CAACV,IAF1B;AAGLM,WAAK,EAAEG,YAAY,CAACH,KAHf;AAILC,YAAM,EAAEE,YAAY,CAACF,MAJhB;AAKLL,YAAM,EAAEO,YAAY,CAACP,MAAb,GAAsBQ,IAAI,CAACR,MAL9B;AAMLE,WAAK,EAAEK,YAAY,CAACL,KAAb,GAAqBM,IAAI,CAACN;AAN5B,KAAP;AAQD,GAbM,CAAP;AAcD,C,CAED;AACA;;AACO,SAASO,2BAAT,CACLzpC,IADK,EAEL0pC,cAFK,EAGC;AACN,MAAMC,WAAW,GAAGvB,cAAc,CAACpoC,IAAD,CAAlC;;AACA,MAAI2pC,WAAW,IAAIA,WAAW,KAAKD,cAAnC,EAAmD;AACjD,QAAMJ,KAAK,GAAG,CAACtpC,IAAI,CAAC2oC,qBAAL,EAAD,CAAd;AACA,QAAIiB,aAAa,GAAGD,WAApB;AACA,QAAIE,WAAW,GAAG,KAAlB;;AACA,WAAOD,aAAP,EAAsB;AACpB,UAAMJ,IAAI,GAAGjB,qCAAqC,CAACqB,aAAD,CAAlD;AACAN,WAAK,CAACp8C,IAAN,CAAWs8C,IAAX;AACAI,mBAAa,GAAGxB,cAAc,CAACwB,aAAD,CAA9B;;AAEA,UAAIC,WAAJ,EAAiB;AACf;AACD,OAPmB,CAQpB;AACA;AACA;;;AACA,UAAID,aAAa,IAAI3B,cAAc,CAAC2B,aAAD,CAAd,KAAkCF,cAAvD,EAAuE;AACrEG,mBAAW,GAAG,IAAd;AACD;AACF;;AAED,WAAOnB,gBAAgB,CAACY,KAAD,CAAvB;AACD,GArBD,MAqBO;AACL,WAAOtpC,IAAI,CAAC2oC,qBAAL,EAAP;AACD;AACF;AAEM,SAASF,oBAAT,CAA8BqB,UAA9B,EAAmD;AACxD,MAAMC,eAAe,GAAG/yC,MAAM,CAACgzC,gBAAP,CAAwBF,UAAxB,CAAxB;AACA,SAAO;AACLf,cAAU,EAAEniD,QAAQ,CAACmjD,eAAe,CAACE,eAAjB,EAAkC,EAAlC,CADf;AAELd,eAAW,EAAEviD,QAAQ,CAACmjD,eAAe,CAACG,gBAAjB,EAAmC,EAAnC,CAFhB;AAGLrB,aAAS,EAAEjiD,QAAQ,CAACmjD,eAAe,CAACI,cAAjB,EAAiC,EAAjC,CAHd;AAILlB,gBAAY,EAAEriD,QAAQ,CAACmjD,eAAe,CAACK,iBAAjB,EAAoC,EAApC,CAJjB;AAKLC,cAAU,EAAEzjD,QAAQ,CAACmjD,eAAe,CAACM,UAAjB,EAA6B,EAA7B,CALf;AAMLC,eAAW,EAAE1jD,QAAQ,CAACmjD,eAAe,CAACO,WAAjB,EAA8B,EAA9B,CANhB;AAOLC,aAAS,EAAE3jD,QAAQ,CAACmjD,eAAe,CAACQ,SAAjB,EAA4B,EAA5B,CAPd;AAQLC,gBAAY,EAAE5jD,QAAQ,CAACmjD,eAAe,CAACS,YAAjB,EAA+B,EAA/B,CARjB;AASLC,eAAW,EAAE7jD,QAAQ,CAACmjD,eAAe,CAACU,WAAjB,EAA8B,EAA9B,CAThB;AAULC,gBAAY,EAAE9jD,QAAQ,CAACmjD,eAAe,CAACW,YAAjB,EAA+B,EAA/B,CAVjB;AAWLC,cAAU,EAAE/jD,QAAQ,CAACmjD,eAAe,CAACY,UAAjB,EAA6B,EAA7B,CAXf;AAYLC,iBAAa,EAAEhkD,QAAQ,CAACmjD,eAAe,CAACa,aAAjB,EAAgC,EAAhC;AAZlB,GAAP;AAcD,C;;;;;;;;;;;;;;AC/HD;;;;;;;;AASA;AACA;;AAOA;AACA;AACA;IAEMC,mB;AAMJ,uBAAY9R,GAAZ,EAA2B+R,SAA3B,EAAmD;AAAA;;AACjD,SAAK9qC,IAAL,GAAY+4B,GAAG,CAAC4B,aAAJ,CAAkB,KAAlB,CAAZ;AACA,SAAKoQ,MAAL,GAAchS,GAAG,CAAC4B,aAAJ,CAAkB,KAAlB,CAAd;AACA,SAAKqQ,OAAL,GAAejS,GAAG,CAAC4B,aAAJ,CAAkB,KAAlB,CAAf;AACA,SAAKsQ,OAAL,GAAelS,GAAG,CAAC4B,aAAJ,CAAkB,KAAlB,CAAf;AAEA,SAAKoQ,MAAL,CAAY7kB,KAAZ,CAAkBglB,WAAlB,GAAgCC,aAAa,CAACJ,MAA9C;AACA,SAAKC,OAAL,CAAa9kB,KAAb,CAAmBglB,WAAnB,GAAiCC,aAAa,CAACH,OAA/C;AACA,SAAKC,OAAL,CAAa/kB,KAAb,CAAmBklB,eAAnB,GAAqCD,aAAa,CAACE,UAAnD;AAEA9wC,2BAAM,CAAC,KAAKyF,IAAL,CAAUkmB,KAAX,EAAkB;AACtBglB,iBAAW,EAAEC,aAAa,CAACG,MADL;AAEtBC,mBAAa,EAAE,MAFO;AAGtBC,cAAQ,EAAE;AAHY,KAAlB,CAAN;AAMA,SAAKxrC,IAAL,CAAUkmB,KAAV,CAAgBulB,MAAhB,GAAyB,UAAzB;AAEA,SAAKzrC,IAAL,CAAU86B,WAAV,CAAsB,KAAKiQ,MAA3B;AACA,SAAKA,MAAL,CAAYjQ,WAAZ,CAAwB,KAAKkQ,OAA7B;AACA,SAAKA,OAAL,CAAalQ,WAAb,CAAyB,KAAKmQ,OAA9B;AACAH,aAAS,CAAChQ,WAAV,CAAsB,KAAK96B,IAA3B;AACD;;;;6BAEQ;AACP,UAAI,KAAKA,IAAL,CAAU0rC,UAAd,EAA0B;AACxB,aAAK1rC,IAAL,CAAU0rC,UAAV,CAAqB7Q,WAArB,CAAiC,KAAK76B,IAAtC;AACD;AACF;;;2BAEM2rC,G,EAAWC,I,EAAW;AAC3BC,aAAO,CAACD,IAAD,EAAO,QAAP,EAAiB,KAAK5rC,IAAtB,CAAP;AACA6rC,aAAO,CAACD,IAAD,EAAO,QAAP,EAAiB,KAAKb,MAAtB,CAAP;AACAc,aAAO,CAACD,IAAD,EAAO,SAAP,EAAkB,KAAKZ,OAAvB,CAAP;AAEAzwC,6BAAM,CAAC,KAAK0wC,OAAL,CAAa/kB,KAAd,EAAqB;AACzBmjB,cAAM,EACJsC,GAAG,CAACtC,MAAJ,GACAuC,IAAI,CAAC/C,SADL,GAEA+C,IAAI,CAAC3C,YAFL,GAGA2C,IAAI,CAACjB,UAHL,GAIAiB,IAAI,CAAChB,aAJL,GAKA,IAPuB;AAQzBxB,aAAK,EACHuC,GAAG,CAACvC,KAAJ,GACAwC,IAAI,CAAC7C,UADL,GAEA6C,IAAI,CAACzC,WAFL,GAGAyC,IAAI,CAACnB,WAHL,GAIAmB,IAAI,CAAClB,YAJL,GAKA;AAduB,OAArB,CAAN;AAiBAnwC,6BAAM,CAAC,KAAKyF,IAAL,CAAUkmB,KAAX,EAAkB;AACtB0iB,WAAG,EAAE+C,GAAG,CAAC/C,GAAJ,GAAUgD,IAAI,CAACrB,SAAf,GAA2B,IADV;AAEtBzB,YAAI,EAAE6C,GAAG,CAAC7C,IAAJ,GAAW8C,IAAI,CAACvB,UAAhB,GAA6B;AAFb,OAAlB,CAAN;AAID;;;;;;IAGGyB,kB;AAKJ,sBAAY/S,GAAZ,EAA2B+R,SAA3B,EAAmD;AAAA;;AACjD,SAAKiB,GAAL,GAAWhT,GAAG,CAAC4B,aAAJ,CAAkB,KAAlB,CAAX;AACApgC,2BAAM,CAAC,KAAKwxC,GAAL,CAAS7lB,KAAV,EAAiB;AACrB8lB,aAAO,EAAE,MADY;AAErBC,cAAQ,EAAE,YAFW;AAGrBb,qBAAe,EAAE,SAHI;AAIrBc,kBAAY,EAAE,KAJO;AAKrBC,gBAAU,EACR,0EANmB;AAOrBC,gBAAU,EAAE,MAPS;AAQrBpB,aAAO,EAAE,SARY;AASrBO,mBAAa,EAAE,MATM;AAUrBC,cAAQ,EAAE,OAVW;AAWrBa,cAAQ,EAAE,MAXW;AAYrBC,gBAAU,EAAE;AAZS,KAAjB,CAAN;AAeA,SAAKC,QAAL,GAAgBxT,GAAG,CAAC4B,aAAJ,CAAkB,MAAlB,CAAhB;AACA,SAAKoR,GAAL,CAASjR,WAAT,CAAqB,KAAKyR,QAA1B;AACAhyC,2BAAM,CAAC,KAAKgyC,QAAL,CAAcrmB,KAAf,EAAsB;AAC1B1nB,WAAK,EAAE,SADmB;AAE1B2qC,iBAAW,EAAE,mBAFa;AAG1BuB,kBAAY,EAAE,QAHY;AAI1BJ,iBAAW,EAAE;AAJa,KAAtB,CAAN;AAMA,SAAKkC,OAAL,GAAezT,GAAG,CAAC4B,aAAJ,CAAkB,MAAlB,CAAf;AACA,SAAKoR,GAAL,CAASjR,WAAT,CAAqB,KAAK0R,OAA1B;AACAjyC,2BAAM,CAAC,KAAKiyC,OAAL,CAAatmB,KAAd,EAAqB;AACzB1nB,WAAK,EAAE;AADkB,KAArB,CAAN;AAIA,SAAKutC,GAAL,CAAS7lB,KAAT,CAAeulB,MAAf,GAAwB,UAAxB;AACAX,aAAS,CAAChQ,WAAV,CAAsB,KAAKiR,GAA3B;AACD;;;;6BAEQ;AACP,UAAI,KAAKA,GAAL,CAASL,UAAb,EAAyB;AACvB,aAAKK,GAAL,CAASL,UAAT,CAAoB7Q,WAApB,CAAgC,KAAKkR,GAArC;AACD;AACF;;;+BAEUzgD,I,EAAc89C,K,EAAeC,M,EAAgB;AACtD,WAAKkD,QAAL,CAAcE,WAAd,GAA4BnhD,IAA5B;AACA,WAAKkhD,OAAL,CAAaC,WAAb,GACEv+B,IAAI,CAACw+B,KAAL,CAAWtD,KAAX,IAAoB,OAApB,GAA8Bl7B,IAAI,CAACw+B,KAAL,CAAWrD,MAAX,CAA9B,GAAmD,IADrD;AAED;;;mCAEcuC,I,EAAWe,M,EAAa;AACrC,UAAMC,OAAO,GAAG,KAAKb,GAAL,CAASpD,qBAAT,EAAhB;AACA,UAAMkE,MAAM,GAAGC,UAAU,CAAClB,IAAD,EAAOe,MAAP,EAAe;AACtCvD,aAAK,EAAEwD,OAAO,CAACxD,KADuB;AAEtCC,cAAM,EAAEuD,OAAO,CAACvD;AAFsB,OAAf,CAAzB;AAIA9uC,6BAAM,CAAC,KAAKwxC,GAAL,CAAS7lB,KAAV,EAAiB2mB,MAAM,CAAC3mB,KAAxB,CAAN;AACD;;;;;;IAGkB6mB,e;AAOnB,qBAAc;AAAA;;AACZ;AACA,QAAMC,aAAa,GAAGh2C,MAAM,CAACi2C,gCAAP,IAA2Cj2C,MAAjE;AACA,SAAKA,MAAL,GAAcg2C,aAAd,CAHY,CAKZ;;AACA,QAAME,eAAe,GAAGl2C,MAAM,CAACi2C,gCAAP,IAA2Cj2C,MAAnE;AACA,SAAKk2C,eAAL,GAAuBA,eAAvB;AAEA,QAAMnU,GAAG,GAAGiU,aAAa,CAAC/zC,QAA1B;AACA,SAAK6xC,SAAL,GAAiB/R,GAAG,CAAC4B,aAAJ,CAAkB,KAAlB,CAAjB;AACA,SAAKmQ,SAAL,CAAe5kB,KAAf,CAAqBulB,MAArB,GAA8B,UAA9B;AAEA,SAAKM,GAAL,GAAW,IAAID,kBAAJ,CAAe/S,GAAf,EAAoB,KAAK+R,SAAzB,CAAX;AACA,SAAKxB,KAAL,GAAa,EAAb;AAEAvQ,OAAG,CAAC9I,IAAJ,CAAS6K,WAAT,CAAqB,KAAKgQ,SAA1B;AACD;;;;6BAEQ;AACP,WAAKiB,GAAL,CAASoB,MAAT;AACA,WAAK7D,KAAL,CAAW3+C,OAAX,CAAmB,UAAA6+C,IAAI,EAAI;AACzBA,YAAI,CAAC2D,MAAL;AACD,OAFD;AAGA,WAAK7D,KAAL,CAAWl9C,MAAX,GAAoB,CAApB;;AACA,UAAI,KAAK0+C,SAAL,CAAeY,UAAnB,EAA+B;AAC7B,aAAKZ,SAAL,CAAeY,UAAf,CAA0B7Q,WAA1B,CAAsC,KAAKiQ,SAA3C;AACD;AACF;;;4BAEOsC,K,EAA2B9hD,I,EAAgB;AAAA;;AACjD;AACA;AACA,UAAM+hD,QAAQ,GAAGD,KAAK,CAACnlC,MAAN,CAAa,UAAAjI,IAAI;AAAA,eAAIA,IAAI,CAACstC,QAAL,KAAkBhd,IAAI,CAACid,YAA3B;AAAA,OAAjB,CAAjB;;AAEA,aAAO,KAAKjE,KAAL,CAAWl9C,MAAX,GAAoBihD,QAAQ,CAACjhD,MAApC,EAA4C;AAC1C,YAAMo9C,IAAI,GAAG,KAAKF,KAAL,CAAW35C,GAAX,EAAb;AACA65C,YAAI,CAAC2D,MAAL;AACD;;AACD,UAAIE,QAAQ,CAACjhD,MAAT,KAAoB,CAAxB,EAA2B;AACzB;AACD;;AAED,aAAO,KAAKk9C,KAAL,CAAWl9C,MAAX,GAAoBihD,QAAQ,CAACjhD,MAApC,EAA4C;AAC1C,aAAKk9C,KAAL,CAAWp8C,IAAX,CAAgB,IAAI29C,mBAAJ,CAAgB,KAAK7zC,MAAL,CAAYiC,QAA5B,EAAsC,KAAK6xC,SAA3C,CAAhB;AACD;;AAED,UAAM0C,QAAQ,GAAG;AACf5E,WAAG,EAAEn3C,MAAM,CAACg8C,iBADG;AAEfvE,aAAK,EAAEz3C,MAAM,CAACi8C,iBAFC;AAGf1E,cAAM,EAAEv3C,MAAM,CAACi8C,iBAHA;AAIf5E,YAAI,EAAEr3C,MAAM,CAACg8C;AAJE,OAAjB;AAMAJ,cAAQ,CAAC1iD,OAAT,CAAiB,UAACuH,OAAD,EAAUoF,KAAV,EAAoB;AACnC,YAAMq0C,GAAG,GAAGlC,2BAA2B,CAACv3C,OAAD,EAAU,KAAI,CAAC8E,MAAf,CAAvC;AACA,YAAM40C,IAAI,GAAGnD,oBAAoB,CAACv2C,OAAD,CAAjC;AAEAs7C,gBAAQ,CAAC5E,GAAT,GAAe16B,IAAI,CAACzC,GAAL,CAAS+hC,QAAQ,CAAC5E,GAAlB,EAAuB+C,GAAG,CAAC/C,GAAJ,GAAUgD,IAAI,CAACrB,SAAtC,CAAf;AACAiD,gBAAQ,CAACtE,KAAT,GAAiBh7B,IAAI,CAACtkB,GAAL,CACf4jD,QAAQ,CAACtE,KADM,EAEfyC,GAAG,CAAC7C,IAAJ,GAAW6C,GAAG,CAACvC,KAAf,GAAuBwC,IAAI,CAACtB,WAFb,CAAjB;AAIAkD,gBAAQ,CAACxE,MAAT,GAAkB96B,IAAI,CAACtkB,GAAL,CAChB4jD,QAAQ,CAACxE,MADO,EAEhB2C,GAAG,CAAC/C,GAAJ,GAAU+C,GAAG,CAACtC,MAAd,GAAuBuC,IAAI,CAACpB,YAFZ,CAAlB;AAIAgD,gBAAQ,CAAC1E,IAAT,GAAgB56B,IAAI,CAACzC,GAAL,CAAS+hC,QAAQ,CAAC1E,IAAlB,EAAwB6C,GAAG,CAAC7C,IAAJ,GAAW8C,IAAI,CAACvB,UAAxC,CAAhB;AAEA,YAAMb,IAAI,GAAG,KAAI,CAACF,KAAL,CAAWhyC,KAAX,CAAb;AACAkyC,YAAI,CAACmE,MAAL,CAAYhC,GAAZ,EAAiBC,IAAjB;AACD,OAjBD;;AAmBA,UAAI,CAACtgD,IAAL,EAAW;AACTA,YAAI,GAAG+hD,QAAQ,CAAC,CAAD,CAAR,CAAYO,QAAZ,CAAqBn6C,WAArB,EAAP;AAEA,YAAMuM,IAAI,GAAGqtC,QAAQ,CAAC,CAAD,CAArB;AACA,YAAMl5B,IAAkB,GACtBnU,IAAI,CAACkoC,aAAL,CAAmBC,WAAnB,CAA+BlxC,8BADjC;;AAEA,YAAIkd,IAAI,IAAI,IAAR,IAAgBA,IAAI,CAAC05B,kBAAL,IAA2B,IAA/C,EAAqD;AACnD,cAAIC,SAAS,GAAG,IAAhB,CADmD,CAEnD;;AAFmD,qDAGnB35B,IAAI,CAAC05B,kBAAL,CAAwB1vC,MAAxB,EAHmB;AAAA;;AAAA;AAGnD,gEAAkE;AAAA,kBAAvD4vC,iBAAuD;AAChE,kBAAM3gD,EAAE,GAAG2gD,iBAAiB,CAAClpB,mBAAlB,CAAsC7kB,IAAtC,EAA4C,IAA5C,CAAX;;AACA,kBAAI5S,EAAE,KAAK,IAAX,EAAiB;AACf0gD,yBAAS,GAAGC,iBAAiB,CAACnpB,wBAAlB,CAA2Cx3B,EAA3C,EAA+C,IAA/C,CAAZ;AACA;AACD;AACF;AATkD;AAAA;AAAA;AAAA;AAAA;;AAWnD,cAAI0gD,SAAJ,EAAe;AACbxiD,gBAAI,IAAI,UAAUwiD,SAAV,GAAsB,GAA9B;AACD;AACF;AACF;;AAED,WAAK/B,GAAL,CAASiC,UAAT,CACE1iD,IADF,EAEEkiD,QAAQ,CAACtE,KAAT,GAAiBsE,QAAQ,CAAC1E,IAF5B,EAGE0E,QAAQ,CAACxE,MAAT,GAAkBwE,QAAQ,CAAC5E,GAH7B;AAKA,UAAMqF,SAAS,GAAGxE,2BAA2B,CAC3C,KAAKyD,eAAL,CAAqBj0C,QAArB,CAA8BwhC,eADa,EAE3C,KAAKzjC,MAFsC,CAA7C;AAKA,WAAK+0C,GAAL,CAASmC,cAAT,CACE;AACEtF,WAAG,EAAE4E,QAAQ,CAAC5E,GADhB;AAEEE,YAAI,EAAE0E,QAAQ,CAAC1E,IAFjB;AAGEO,cAAM,EAAEmE,QAAQ,CAACxE,MAAT,GAAkBwE,QAAQ,CAAC5E,GAHrC;AAIEQ,aAAK,EAAEoE,QAAQ,CAACtE,KAAT,GAAiBsE,QAAQ,CAAC1E;AAJnC,OADF,EAOE;AACEF,WAAG,EAAEqF,SAAS,CAACrF,GAAV,GAAgB,KAAKsE,eAAL,CAAqBiB,OAD5C;AAEErF,YAAI,EAAEmF,SAAS,CAACnF,IAAV,GAAiB,KAAKoE,eAAL,CAAqBkB,OAF9C;AAGE/E,cAAM,EAAE,KAAK6D,eAAL,CAAqBmB,WAH/B;AAIEjF,aAAK,EAAE,KAAK8D,eAAL,CAAqBoB;AAJ9B,OAPF;AAcD;;;;;;;;AAGH,SAASxB,UAAT,CAAoBlB,IAApB,EAA0Be,MAA1B,EAAkC4B,OAAlC,EAA2C;AACzC,MAAMC,SAAS,GAAGtgC,IAAI,CAACtkB,GAAL,CAAS2kD,OAAO,CAAClF,MAAjB,EAAyB,EAAzB,CAAlB;AACA,MAAMoF,QAAQ,GAAGvgC,IAAI,CAACtkB,GAAL,CAAS2kD,OAAO,CAACnF,KAAjB,EAAwB,EAAxB,CAAjB;AACA,MAAMkC,MAAM,GAAG,CAAf;AAEA,MAAI1C,GAAJ;;AACA,MAAIgD,IAAI,CAAChD,GAAL,GAAWgD,IAAI,CAACvC,MAAhB,GAAyBmF,SAAzB,IAAsC7B,MAAM,CAAC/D,GAAP,GAAa+D,MAAM,CAACtD,MAA9D,EAAsE;AACpE,QAAIuC,IAAI,CAAChD,GAAL,GAAWgD,IAAI,CAACvC,MAAhB,GAAyBsD,MAAM,CAAC/D,GAAP,GAAa,CAA1C,EAA6C;AAC3CA,SAAG,GAAG+D,MAAM,CAAC/D,GAAP,GAAa0C,MAAnB;AACD,KAFD,MAEO;AACL1C,SAAG,GAAGgD,IAAI,CAAChD,GAAL,GAAWgD,IAAI,CAACvC,MAAhB,GAAyBiC,MAA/B;AACD;AACF,GAND,MAMO,IAAIM,IAAI,CAAChD,GAAL,GAAW4F,SAAX,IAAwB7B,MAAM,CAAC/D,GAAP,GAAa+D,MAAM,CAACtD,MAAhD,EAAwD;AAC7D,QAAIuC,IAAI,CAAChD,GAAL,GAAW4F,SAAX,GAAuBlD,MAAvB,GAAgCqB,MAAM,CAAC/D,GAAP,GAAa0C,MAAjD,EAAyD;AACvD1C,SAAG,GAAG+D,MAAM,CAAC/D,GAAP,GAAa0C,MAAnB;AACD,KAFD,MAEO;AACL1C,SAAG,GAAGgD,IAAI,CAAChD,GAAL,GAAW4F,SAAX,GAAuBlD,MAA7B;AACD;AACF,GANM,MAMA;AACL1C,OAAG,GAAG+D,MAAM,CAAC/D,GAAP,GAAa+D,MAAM,CAACtD,MAApB,GAA6BmF,SAA7B,GAAyClD,MAA/C;AACD;;AAED,MAAIxC,IAAI,GAAG8C,IAAI,CAAC9C,IAAL,GAAYwC,MAAvB;;AACA,MAAIM,IAAI,CAAC9C,IAAL,GAAY6D,MAAM,CAAC7D,IAAvB,EAA6B;AAC3BA,QAAI,GAAG6D,MAAM,CAAC7D,IAAP,GAAcwC,MAArB;AACD;;AACD,MAAIM,IAAI,CAAC9C,IAAL,GAAY2F,QAAZ,GAAuB9B,MAAM,CAAC7D,IAAP,GAAc6D,MAAM,CAACvD,KAAhD,EAAuD;AACrDN,QAAI,GAAG6D,MAAM,CAAC7D,IAAP,GAAc6D,MAAM,CAACvD,KAArB,GAA6BqF,QAA7B,GAAwCnD,MAA/C;AACD;;AAED1C,KAAG,IAAI,IAAP;AACAE,MAAI,IAAI,IAAR;AACA,SAAO;AACL5iB,SAAK,EAAE;AAAC0iB,SAAG,EAAHA,GAAD;AAAME,UAAI,EAAJA;AAAN;AADF,GAAP;AAGD;;AAED,SAAS+C,OAAT,CAAiBD,IAAjB,EAAuB8C,IAAvB,EAA6B1uC,IAA7B,EAAmC;AACjCzF,yBAAM,CAACyF,IAAI,CAACkmB,KAAN,EAAa;AACjBikB,kBAAc,EAAEyB,IAAI,CAAC8C,IAAI,GAAG,KAAR,CAAJ,GAAqB,IADpB;AAEjBzE,mBAAe,EAAE2B,IAAI,CAAC8C,IAAI,GAAG,MAAR,CAAJ,GAAsB,IAFtB;AAGjBxE,oBAAgB,EAAE0B,IAAI,CAAC8C,IAAI,GAAG,OAAR,CAAJ,GAAuB,IAHxB;AAIjBtE,qBAAiB,EAAEwB,IAAI,CAAC8C,IAAI,GAAG,QAAR,CAAJ,GAAwB,IAJ1B;AAKjBC,eAAW,EAAE;AALI,GAAb,CAAN;AAOD;;AAED,IAAMxD,aAAa,GAAG;AACpBE,YAAU,EAAE,0BADQ;AAEpBL,SAAO,EAAE,uBAFW;AAGpBM,QAAM,EAAE,wBAHY;AAIpBP,QAAM,EAAE;AAJY,CAAtB,C;;ACpUA;;;;;;;;AASA;AAEA,IAAM6D,aAAa,GAAG,IAAtB;AAEA,IAAIC,SAA2B,GAAG,IAAlC;AACA,IAAIC,OAAuB,GAAG,IAA9B;AAEO,SAASC,WAAT,GAAuB;AAC5BF,WAAS,GAAG,IAAZ;;AAEA,MAAIC,OAAO,KAAK,IAAhB,EAAsB;AACpBA,WAAO,CAAC3B,MAAR;AACA2B,WAAO,GAAG,IAAV;AACD;AACF;AAEM,SAASE,WAAT,CACL3B,QADK,EAEL4B,aAFK,EAGLC,gBAHK,EAIL;AACA;AACA,MAAIl4C,MAAM,CAACiC,QAAP,IAAmB,IAAvB,EAA6B;AAC3B;AACD;;AAED,MAAI41C,SAAS,KAAK,IAAlB,EAAwB;AACtB9+B,gBAAY,CAAC8+B,SAAD,CAAZ;AACD;;AAED,MAAIxB,QAAQ,IAAI,IAAhB,EAAsB;AACpB;AACD;;AAED,MAAIyB,OAAO,KAAK,IAAhB,EAAsB;AACpBA,WAAO,GAAG,IAAI/B,eAAJ,EAAV;AACD;;AAED+B,SAAO,CAACK,OAAR,CAAgB9B,QAAhB,EAA0B4B,aAA1B;;AAEA,MAAIC,gBAAJ,EAAsB;AACpBL,aAAS,GAAGvwC,UAAU,CAACywC,WAAD,EAAcH,aAAd,CAAtB;AACD;AACF,C;;ACpDD;;;;;;;;AASA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAEA,IAAIQ,kBAA0C,GAAG,IAAIhlD,GAAJ,EAAjD;AAEe,SAASilD,gBAAT,CACbC,MADa,EAEbC,KAFa,EAGP;AACND,QAAM,CAACnhB,WAAP,CACE,6BADF,EAEEqhB,2BAFF;AAIAF,QAAM,CAACnhB,WAAP,CAAmB,wBAAnB,EAA6CshB,sBAA7C;AACAH,QAAM,CAACnhB,WAAP,CAAmB,UAAnB,EAA+BuhB,oBAA/B;AACAJ,QAAM,CAACnhB,WAAP,CAAmB,uBAAnB,EAA4CwhB,qBAA5C;AACAL,QAAM,CAACnhB,WAAP,CAAmB,sBAAnB,EAA2CuhB,oBAA3C;;AAEA,WAASC,qBAAT,GAAiC;AAC/BC,6BAAyB,CAAC54C,MAAD,CAAzB;AACD;;AAED,WAAS44C,yBAAT,CAAmC54C,MAAnC,EAA2C;AACzC;AACA,QAAIA,MAAM,IAAI,OAAOA,MAAM,CAACi4B,gBAAd,KAAmC,UAAjD,EAA6D;AAC3Dj4B,YAAM,CAACi4B,gBAAP,CAAwB,OAAxB,EAAiC4gB,OAAjC,EAA0C,IAA1C;AACA74C,YAAM,CAACi4B,gBAAP,CAAwB,WAAxB,EAAqC6gB,YAArC,EAAmD,IAAnD;AACA94C,YAAM,CAACi4B,gBAAP,CAAwB,WAAxB,EAAqC6gB,YAArC,EAAmD,IAAnD;AACA94C,YAAM,CAACi4B,gBAAP,CAAwB,SAAxB,EAAmC6gB,YAAnC,EAAiD,IAAjD;AACA94C,YAAM,CAACi4B,gBAAP,CAAwB,aAAxB,EAAuC8gB,aAAvC,EAAsD,IAAtD;AACA/4C,YAAM,CAACi4B,gBAAP,CAAwB,aAAxB,EAAuC+gB,aAAvC,EAAsD,IAAtD;AACAh5C,YAAM,CAACi4B,gBAAP,CAAwB,WAAxB,EAAqCghB,WAArC,EAAkD,IAAlD;AACD;AACF;;AAED,WAASP,oBAAT,GAAgC;AAC9BX,eAAW;AACXmB,2BAAuB,CAACl5C,MAAD,CAAvB;AACAo4C,sBAAkB,CAACzkD,OAAnB,CAA2B,UAAS8rC,KAAT,EAAgB;AACzC,UAAI;AACFyZ,+BAAuB,CAACzZ,KAAK,CAAC0Z,aAAP,CAAvB;AACD,OAFD,CAEE,OAAO1hD,KAAP,EAAc,CACd;AACD;AACF,KAND;AAOA2gD,sBAAkB,GAAG,IAAIhlD,GAAJ,EAArB;AACD;;AAED,WAAS8lD,uBAAT,CAAiCl5C,MAAjC,EAAyC;AACvC;AACA,QAAIA,MAAM,IAAI,OAAOA,MAAM,CAACo5C,mBAAd,KAAsC,UAApD,EAAgE;AAC9Dp5C,YAAM,CAACo5C,mBAAP,CAA2B,OAA3B,EAAoCP,OAApC,EAA6C,IAA7C;AACA74C,YAAM,CAACo5C,mBAAP,CAA2B,WAA3B,EAAwCN,YAAxC,EAAsD,IAAtD;AACA94C,YAAM,CAACo5C,mBAAP,CAA2B,WAA3B,EAAwCN,YAAxC,EAAsD,IAAtD;AACA94C,YAAM,CAACo5C,mBAAP,CAA2B,SAA3B,EAAsCN,YAAtC,EAAoD,IAApD;AACA94C,YAAM,CAACo5C,mBAAP,CAA2B,aAA3B,EAA0CL,aAA1C,EAAyD,IAAzD;AACA/4C,YAAM,CAACo5C,mBAAP,CAA2B,aAA3B,EAA0CJ,aAA1C,EAAyD,IAAzD;AACAh5C,YAAM,CAACo5C,mBAAP,CAA2B,WAA3B,EAAwCH,WAAxC,EAAqD,IAArD;AACD;AACF;;AAED,WAAST,2BAAT,GAAuC;AACrCT,eAAW;AACZ;;AAED,WAASU,sBAAT,OAeG;AAAA,QAdDpkD,WAcC,QAdDA,WAcC;AAAA,QAbD6jD,gBAaC,QAbDA,gBAaC;AAAA,QAZD9hD,EAYC,QAZDA,EAYC;AAAA,QAXDijD,uBAWC,QAXDA,uBAWC;AAAA,QAVD5jD,UAUC,QAVDA,UAUC;AAAA,QATD6jD,cASC,QATDA,cASC;AACD,QAAM7zC,QAAQ,GAAG8yC,KAAK,CAAC1B,kBAAN,CAAyBphD,UAAzB,CAAjB;;AACA,QAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB1O,aAAO,CAACoqB,IAAR,iCAAqC1rB,UAArC,8BAAiEW,EAAjE;AACD;;AAED,QAAIggD,KAA0B,GAAG,IAAjC;;AACA,QAAI3wC,QAAQ,IAAI,IAAhB,EAAsB;AACpB2wC,WAAK,GAAK3wC,QAAQ,CAACgoB,yBAAT,CACRr3B,EADQ,CAAV;AAGD;;AAED,QAAIggD,KAAK,IAAI,IAAT,IAAiBA,KAAK,CAAC,CAAD,CAAL,IAAY,IAAjC,EAAuC;AACrC,UAAMptC,IAAI,GAAGotC,KAAK,CAAC,CAAD,CAAlB;;AACA,UAAIkD,cAAc,IAAI,OAAOtwC,IAAI,CAACswC,cAAZ,KAA+B,UAArD,EAAiE;AAC/D;AACA;AACA;AACAtwC,YAAI,CAACswC,cAAL,CAAoB;AAACC,eAAK,EAAE,SAAR;AAAmBC,gBAAM,EAAE;AAA3B,SAApB;AACD;;AAEDxB,iBAAW,CAAC5B,KAAD,EAAQ/hD,WAAR,EAAqB6jD,gBAArB,CAAX;;AAEA,UAAImB,uBAAJ,EAA6B;AAC3Br5C,cAAM,CAACC,8BAAP,CAAsCsT,EAAtC,GAA2CvK,IAA3C;AACAsvC,cAAM,CAACmB,IAAP,CAAY,oCAAZ;AACD;AACF,KAfD,MAeO;AACL1B,iBAAW;AACZ;AACF;;AAED,WAASc,OAAT,CAAiB7V,KAAjB,EAAoC;AAClCA,SAAK,CAACtK,cAAN;AACAsK,SAAK,CAAC0W,eAAN;AAEAhB,wBAAoB;AAEpBJ,UAAM,CAACmB,IAAP,CAAY,sBAAZ,EAAoC,IAApC;AACD;;AAED,WAASX,YAAT,CAAsB9V,KAAtB,EAAyC;AACvCA,SAAK,CAACtK,cAAN;AACAsK,SAAK,CAAC0W,eAAN;AACD;;AAED,WAASX,aAAT,CAAuB/V,KAAvB,EAA0C;AACxCA,SAAK,CAACtK,cAAN;AACAsK,SAAK,CAAC0W,eAAN;AAEAC,sBAAkB,CAAG3W,KAAK,CAAC9+B,MAAT,CAAlB;AACD;;AAED,WAAS80C,aAAT,CAAuBhW,KAAvB,EAA0C;AACxCA,SAAK,CAACtK,cAAN;AACAsK,SAAK,CAAC0W,eAAN;AAEA,QAAMx1C,MAAM,GAAK8+B,KAAK,CAAC9+B,MAAvB;;AAEA,QAAIA,MAAM,CAAC1H,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,UAAMo9C,MAAyB,GAAI11C,MAAnC;;AACA,UAAI;AACF,YAAI,CAACk0C,kBAAkB,CAACj3C,GAAnB,CAAuBy4C,MAAvB,CAAL,EAAqC;AACnC,cAAM55C,OAAM,GAAG45C,MAAM,CAACT,aAAtB;AACAP,mCAAyB,CAAC54C,OAAD,CAAzB;AACAo4C,4BAAkB,CAACtkD,GAAnB,CAAuB8lD,MAAvB;AACD;AACF,OAND,CAME,OAAOniD,KAAP,EAAc,CACd;AACD;AACF,KAjBuC,CAmBxC;AACA;;;AACAugD,eAAW,CAAC,CAAC9zC,MAAD,CAAD,EAAW,IAAX,EAAiB,KAAjB,CAAX;AAEAy1C,sBAAkB,CAACz1C,MAAD,CAAlB;AACD;;AAED,WAAS+0C,WAAT,CAAqBjW,KAArB,EAAwC;AACtCA,SAAK,CAACtK,cAAN;AACAsK,SAAK,CAAC0W,eAAN;AACD;;AAED,MAAMC,kBAAkB,GAAGxgC,yBAAQ,CACjC0gC,GAAO,CAAC,UAAC7wC,IAAD,EAAuB;AAC7B,QAAM5S,EAAE,GAAGmiD,KAAK,CAACuB,YAAN,CAAmB9wC,IAAnB,CAAX;;AACA,QAAI5S,EAAE,KAAK,IAAX,EAAiB;AACfkiD,YAAM,CAACmB,IAAP,CAAY,aAAZ,EAA2BrjD,EAA3B;AACD;AACF,GALM,CAD0B,EAOjC,GAPiC,EAQjC;AACA;AACA;AAAC2hB,WAAO,EAAE;AAAV,GAViC,CAAnC;AAYD,C;;ACnMD;;;;;;;;AAaA,IAAMgiC,aAAa,GAAG,SAAtB,C,CAEA;;AACA,IAAMC,MAAM,GAAG,CACb,SADa,EAEb,SAFa,EAGb,SAHa,EAIb,SAJa,EAKb,SALa,EAMb,SANa,EAOb,SAPa,EAQb,SARa,EASb,SATa,EAUb,SAVa,CAAf;AAaA,IAAIC,MAAgC,GAAG,IAAvC;AAEO,SAASC,IAAT,CAAcC,UAAd,EAAuD;AAC5D,MAAIF,MAAM,KAAK,IAAf,EAAqB;AACnBG,cAAU;AACX;;AAED,MAAMC,UAA6B,GAAKJ,MAAxC;AACAI,YAAU,CAACjI,KAAX,GAAmBpyC,MAAM,CAACs3C,UAA1B;AACA+C,YAAU,CAAChI,MAAX,GAAoBryC,MAAM,CAACq3C,WAA3B;AAEA,MAAMr6B,OAAO,GAAGq9B,UAAU,CAACC,UAAX,CAAsB,IAAtB,CAAhB;AACAt9B,SAAO,CAACu9B,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBF,UAAU,CAACjI,KAAnC,EAA0CiI,UAAU,CAAChI,MAArD;AAEA8H,YAAU,CAACxmD,OAAX,CAAmB,gBAAmB;AAAA,QAAjBgsB,KAAiB,QAAjBA,KAAiB;AAAA,QAAV6yB,IAAU,QAAVA,IAAU;;AACpC,QAAIA,IAAI,KAAK,IAAb,EAAmB;AACjB,UAAMgI,UAAU,GAAGtjC,IAAI,CAACzC,GAAL,CAASulC,MAAM,CAAC5kD,MAAP,GAAgB,CAAzB,EAA4BuqB,KAAK,GAAG,CAApC,CAAnB;AACA,UAAMnY,KAAK,GAAGwyC,MAAM,CAACQ,UAAD,CAApB;AAEAC,gBAAU,CAACz9B,OAAD,EAAUw1B,IAAV,EAAgBhrC,KAAhB,CAAV;AACD;AACF,GAPD;AAQD;;AAED,SAASizC,UAAT,CACEz9B,OADF,EAEEw1B,IAFF,EAGEhrC,KAHF,EAIQ;AAAA,MACC6qC,MADD,GAC6BG,IAD7B,CACCH,MADD;AAAA,MACSP,IADT,GAC6BU,IAD7B,CACSV,IADT;AAAA,MACeF,GADf,GAC6BY,IAD7B,CACeZ,GADf;AAAA,MACoBQ,KADpB,GAC6BI,IAD7B,CACoBJ,KADpB,EAGN;;AACAp1B,SAAO,CAAC09B,SAAR,GAAoB,CAApB;AACA19B,SAAO,CAAC29B,WAAR,GAAsBZ,aAAtB;AAEA/8B,SAAO,CAAC49B,UAAR,CAAmB9I,IAAI,GAAG,CAA1B,EAA6BF,GAAG,GAAG,CAAnC,EAAsCQ,KAAK,GAAG,CAA9C,EAAiDC,MAAM,GAAG,CAA1D,EAPM,CASN;;AACAr1B,SAAO,CAAC09B,SAAR,GAAoB,CAApB;AACA19B,SAAO,CAAC29B,WAAR,GAAsBZ,aAAtB;AACA/8B,SAAO,CAAC49B,UAAR,CAAmB9I,IAAI,GAAG,CAA1B,EAA6BF,GAAG,GAAG,CAAnC,EAAsCQ,KAAK,GAAG,CAA9C,EAAiDC,MAAM,GAAG,CAA1D;AACAr1B,SAAO,CAAC29B,WAAR,GAAsBnzC,KAAtB;AAEAwV,SAAO,CAAC69B,WAAR,CAAoB,CAAC,CAAD,CAApB,EAfM,CAiBN;;AACA79B,SAAO,CAAC09B,SAAR,GAAoB,CAApB;AACA19B,SAAO,CAAC49B,UAAR,CAAmB9I,IAAnB,EAAyBF,GAAzB,EAA8BQ,KAAK,GAAG,CAAtC,EAAyCC,MAAM,GAAG,CAAlD;AAEAr1B,SAAO,CAAC69B,WAAR,CAAoB,CAAC,CAAD,CAApB;AACD;;AAEM,SAASC,OAAT,GAAyB;AAC9B,MAAIb,MAAM,KAAK,IAAf,EAAqB;AACnB,QAAIA,MAAM,CAACvF,UAAP,IAAqB,IAAzB,EAA+B;AAC7BuF,YAAM,CAACvF,UAAP,CAAkB7Q,WAAlB,CAA8BoW,MAA9B;AACD;;AACDA,UAAM,GAAG,IAAT;AACD;AACF;;AAED,SAASG,UAAT,GAA4B;AAC1BH,QAAM,GAAGj6C,MAAM,CAACiC,QAAP,CAAgB0hC,aAAhB,CAA8B,QAA9B,CAAT;AACAsW,QAAM,CAAC/qB,KAAP,CAAa6rB,OAAb;AAYA,MAAMl6C,IAAI,GAAGb,MAAM,CAACiC,QAAP,CAAgBwhC,eAA7B;AACA5iC,MAAI,CAACm6C,YAAL,CAAkBf,MAAlB,EAA0Bp5C,IAAI,CAACmoB,UAA/B;AACD,C;;;;AC1GD;;;;;;;;AASA;AACA;AACA;AAKA;AACA,IAAMiyB,gBAAgB,GAAG,GAAzB,C,CAEA;AACA;;AACA,IAAMC,oBAAoB,GAAG,IAA7B,C,CAEA;;AACA,IAAMC,4BAA4B,GAAG,GAArC,C,CAEA;;AACA,IAAMnhC,cAAc,GAClB,QAAOC,WAAP,yCAAOA,WAAP,OAAuB,QAAvB,IAAmC,OAAOA,WAAW,CAAC7C,GAAnB,KAA2B,UAA9D,GACI;AAAA,SAAM6C,WAAW,CAAC7C,GAAZ,EAAN;AAAA,CADJ,GAEI;AAAA,SAAMC,IAAI,CAACD,GAAL,EAAN;AAAA,CAHN;AAYA,IAAM+iC,UAAiC,GAAG,IAAIp1C,GAAJ,EAA1C;AAEA,IAAIwzC,kBAAY,GAAK,IAArB;AACA,IAAI6C,oBAA6C,GAAG,IAApD;AACA,IAAIjkD,SAAkB,GAAG,KAAzB;AACA,IAAIkkD,eAAiC,GAAG,IAAxC;AAEO,SAASjB,uBAAT,CAAoBkB,aAApB,EAAgD;AACrD/C,oBAAK,GAAG+C,aAAR;AACA/C,oBAAK,CAACphB,WAAN,CAAkB,cAAlB,EAAkCokB,YAAlC;AACD;AAEM,SAASC,aAAT,CAAuBtkD,KAAvB,EAA6C;AAClDC,WAAS,GAAGD,KAAZ;;AAEA,MAAI,CAACC,SAAL,EAAgB;AACdgjD,cAAU,CAACz7B,KAAX;;AAEA,QAAI08B,oBAAoB,KAAK,IAA7B,EAAmC;AACjCK,0BAAoB,CAACL,oBAAD,CAApB;AACAA,0BAAoB,GAAG,IAAvB;AACD;;AAED,QAAIC,eAAe,KAAK,IAAxB,EAA8B;AAC5BtiC,kBAAY,CAACsiC,eAAD,CAAZ;AACAA,qBAAe,GAAG,IAAlB;AACD;;AAEDK,WAAa;AACd;AACF;;AAED,SAASH,YAAT,CAAsBnF,KAAtB,EAAoD;AAClD,MAAI,CAACj/C,SAAL,EAAgB;AACd;AACD;;AAEDi/C,OAAK,CAACziD,OAAN,CAAc,UAAAqV,IAAI,EAAI;AACpB,QAAM1O,IAAI,GAAG6/C,UAAU,CAAC/lD,GAAX,CAAe4U,IAAf,CAAb;AACA,QAAMoO,GAAG,GAAG4C,cAAc,EAA1B;AAEA,QAAI2hC,cAAc,GAAGrhD,IAAI,IAAI,IAAR,GAAeA,IAAI,CAACqhD,cAApB,GAAqC,CAA1D;AACA,QAAInJ,IAAI,GAAGl4C,IAAI,IAAI,IAAR,GAAeA,IAAI,CAACk4C,IAApB,GAA2B,IAAtC;;AACA,QAAIA,IAAI,KAAK,IAAT,IAAiBmJ,cAAc,GAAGR,4BAAjB,GAAgD/jC,GAArE,EAA0E;AACxEukC,oBAAc,GAAGvkC,GAAjB;AACAo7B,UAAI,GAAGoJ,WAAW,CAAC5yC,IAAD,CAAlB;AACD;;AAEDmxC,cAAU,CAAC5lD,GAAX,CAAeyU,IAAf,EAAqB;AACnB2W,WAAK,EAAErlB,IAAI,IAAI,IAAR,GAAeA,IAAI,CAACqlB,KAAL,GAAa,CAA5B,GAAgC,CADpB;AAEnBk8B,oBAAc,EACZvhD,IAAI,IAAI,IAAR,GACI4c,IAAI,CAACzC,GAAL,CACE2C,GAAG,GAAG8jC,oBADR,EAEE5gD,IAAI,CAACuhD,cAAL,GAAsBZ,gBAFxB,CADJ,GAKI7jC,GAAG,GAAG6jC,gBARO;AASnBU,oBAAc,EAAdA,cATmB;AAUnBnJ,UAAI,EAAJA;AAVmB,KAArB;AAYD,GAvBD;;AAyBA,MAAI6I,eAAe,KAAK,IAAxB,EAA8B;AAC5BtiC,gBAAY,CAACsiC,eAAD,CAAZ;AACAA,mBAAe,GAAG,IAAlB;AACD;;AAED,MAAID,oBAAoB,KAAK,IAA7B,EAAmC;AACjCA,wBAAoB,GAAGU,qBAAqB,CAACC,aAAD,CAA5C;AACD;AACF;;AAED,SAASA,aAAT,GAA+B;AAC7BX,sBAAoB,GAAG,IAAvB;AACAC,iBAAe,GAAG,IAAlB;AAEA,MAAMjkC,GAAG,GAAG4C,cAAc,EAA1B;AACA,MAAIgiC,kBAAkB,GAAGvhD,MAAM,CAACwhD,SAAhC,CAL6B,CAO7B;;AACA9B,YAAU,CAACxmD,OAAX,CAAmB,UAAC2G,IAAD,EAAO0O,IAAP,EAAgB;AACjC,QAAI1O,IAAI,CAACuhD,cAAL,GAAsBzkC,GAA1B,EAA+B;AAC7B+iC,gBAAU,CAACn7B,MAAX,CAAkBhW,IAAlB;AACD,KAFD,MAEO;AACLgzC,wBAAkB,GAAG9kC,IAAI,CAACzC,GAAL,CAASunC,kBAAT,EAA6B1hD,IAAI,CAACuhD,cAAlC,CAArB;AACD;AACF,GAND;AAQA3B,MAAI,CAACC,UAAD,CAAJ;;AAEA,MAAI6B,kBAAkB,KAAKvhD,MAAM,CAACwhD,SAAlC,EAA6C;AAC3CZ,mBAAe,GAAG/zC,UAAU,CAACy0C,aAAD,EAAgBC,kBAAkB,GAAG5kC,GAArC,CAA5B;AACD;AACF;;AAED,SAASwkC,WAAT,CAAqB5yC,IAArB,EAAgD;AAC9C,MAAI,CAACA,IAAD,IAAS,OAAOA,IAAI,CAAC2oC,qBAAZ,KAAsC,UAAnD,EAA+D;AAC7D,WAAO,IAAP;AACD;;AAED,MAAMqE,aAAa,GAAGh2C,MAAM,CAACi2C,gCAAP,IAA2Cj2C,MAAjE;AAEA,SAAOyyC,2BAA2B,CAACzpC,IAAD,EAAOgtC,aAAP,CAAlC;AACD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9ID;;;;;;;;AASA;AAYA,IAAMkG,cAAc,GAAG,GAAvB,C,CAEA;AACA;AACA;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAMC,eAAsC,GAAG,CACpD;AACA;AACA;AACA;AACEp2C,SAAO,EAAE,CADX;AAEEq2C,eAAa,EAAE,WAFjB;AAGEC,eAAa,EAAE;AAHjB,CAJoD,EASpD;AACEt2C,SAAO,EAAE,CADX;AAEEq2C,eAAa,EAAE,QAFjB;AAGEC,eAAa,EAAE;AAHjB,CAToD,CAA/C;AAgBA,IAAMC,qBAAqC,GAChDH,eAAe,CAACA,eAAe,CAAC/mD,MAAhB,GAAyB,CAA1B,CADV;;IA6LDmnD,M;;;;;AAaJ,kBAAYC,IAAZ,EAAwB;AAAA;;AAAA;;AACtB;;AADsB,wEAND,KAMC;;AAAA,0EALI,EAKJ;;AAAA,uEAJO,IAIP;;AAAA,0EAFS,IAET;;AAAA,mEAwFf,YAAM;AACb;AACA;AACA;AAEA,UAAI,MAAKC,UAAL,KAAoB,IAAxB,EAA8B;AAC5B1jC,oBAAY,CAAC,MAAK0jC,UAAN,CAAZ;AACA,cAAKA,UAAL,GAAkB,IAAlB;AACD;;AAED,UAAI,MAAKC,aAAL,CAAmBtnD,MAAvB,EAA+B;AAC7B,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,MAAKqnD,aAAL,CAAmBtnD,MAAvC,EAA+CC,CAAC,IAAI,CAApD,EAAuD;AAAA;;AACrD,+BAAKsnD,KAAL,EAAWlD,IAAX,qBAAgB,MAAKiD,aAAL,CAAmBrnD,CAAnB,CAAhB,4BAA0C,MAAKqnD,aAAL,CAAmBrnD,CAAC,GAAG,CAAvB,CAA1C;AACD;;AACD,cAAKqnD,aAAL,CAAmBtnD,MAAnB,GAA4B,CAA5B,CAJ6B,CAM7B;AACA;AACA;;AACA,cAAKqnD,UAAL,GAAkBn1C,UAAU,CAAC,MAAKs1C,MAAN,EAAcV,cAAd,CAA5B;AACD;AACF,KA7GuB;;AAAA,gFAiHF,gBAMK;AAAA,UALzB9lD,EAKyB,QALzBA,EAKyB;AAAA,UAJzB+C,IAIyB,QAJzBA,IAIyB;AAAA,UAHzB1D,UAGyB,QAHzBA,UAGyB;AAAA,UAFzBxB,IAEyB,QAFzBA,IAEyB;AAAA,UADzBiD,KACyB,QADzBA,KACyB;;AACzB,cAAQjD,IAAR;AACE,aAAK,SAAL;AACE,gBAAKwlD,IAAL,CAAU,iBAAV,EAA6B;AAC3BrjD,cAAE,EAAFA,EAD2B;AAE3B+C,gBAAI,EAAJA,IAF2B;AAG3B1D,sBAAU,EAAVA,UAH2B;AAI3BonD,wBAAY,EAAE,IAJa;AAK3B3lD,iBAAK,EAALA;AAL2B,WAA7B;;AAOA;;AACF,aAAK,OAAL;AACE,gBAAKuiD,IAAL,CAAU,mBAAV,EAA+B;AAC7BrjD,cAAE,EAAFA,EAD6B;AAE7B+C,gBAAI,EAAJA,IAF6B;AAG7B1D,sBAAU,EAAVA,UAH6B;AAI7BonD,wBAAY,EAAE,IAJe;AAK7B3lD,iBAAK,EAALA;AAL6B,WAA/B;;AAOA;;AACF,aAAK,OAAL;AACE,gBAAKuiD,IAAL,CAAU,eAAV,EAA2B;AACzBrjD,cAAE,EAAFA,EADyB;AAEzB+C,gBAAI,EAAJA,IAFyB;AAGzB1D,sBAAU,EAAVA,UAHyB;AAIzBonD,wBAAY,EAAE,IAJW;AAKzB3lD,iBAAK,EAALA;AALyB,WAA3B;;AAOA;;AACF,aAAK,OAAL;AACE,gBAAKuiD,IAAL,CAAU,eAAV,EAA2B;AACzBrjD,cAAE,EAAFA,EADyB;AAEzB+C,gBAAI,EAAJA,IAFyB;AAGzB1D,sBAAU,EAAVA,UAHyB;AAIzBonD,wBAAY,EAAE,IAJW;AAKzB3lD,iBAAK,EAALA;AALyB,WAA3B;;AAOA;AApCJ;AAsCD,KA9JuB;;AAGtB,UAAKylD,KAAL,GAAaH,IAAb;AAEA,UAAKM,aAAL,GACEN,IAAI,CAACO,MAAL,CAAY,UAACv9B,OAAD,EAAsB;AAChC,oCAAYvB,IAAZ,CAAiBuB,OAAO,CAACwjB,KAAzB,EAAgCxjB,OAAO,CAAC2gB,OAAxC;AACD,KAFD,KAEM,IAHR,CALsB,CAUtB;AACA;AACA;;AACA,UAAKhJ,WAAL,CAAiB,qBAAjB,EAAwC,MAAKnE,mBAA7C;;AAbsB;AAcvB,G,CAED;AACA;;;;;yBAMEgQ,K,EAEA;AACA,UAAI,KAAKga,WAAT,EAAsB;AACpBjmD,eAAO,CAACoqB,IAAR,iCAC0B6hB,KAD1B;AAGA;AACD,OAND,CAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAfA,wCADG7C,OACH;AADGA,eACH;AAAA;;AAgBA,WAAKuc,aAAL,CAAmBxmD,IAAnB,CAAwB8sC,KAAxB,EAA+B7C,OAA/B;;AACA,UAAI,CAAC,KAAKsc,UAAV,EAAsB;AACpB,aAAKA,UAAL,GAAkBn1C,UAAU,CAAC,KAAKs1C,MAAN,EAAc,CAAd,CAA5B;AACD;AACF;;;+BAEU;AACT,UAAI,KAAKI,WAAT,EAAsB;AACpBjmD,eAAO,CAACoqB,IAAR,CAAa,8BAAb;AACA;AACD,OAJQ,CAMT;;;AACA,WAAKs4B,IAAL,CAAU,UAAV,EAPS,CAST;;AACA,WAAKuD,WAAL,GAAmB,IAAnB,CAVS,CAYT;AACA;;AACA,WAAK7lB,WAAL,GAAmB,YAAW,CAAE,CAAhC,CAdS,CAeT;;;AACA,WAAKlZ,IAAL,GAAY,YAAW,CAAE,CAAzB,CAhBS,CAiBT;AAEA;;;AACA,WAAKsZ,kBAAL,GApBS,CAsBT;;AACA,UAAM0lB,YAAY,GAAG,KAAKH,aAA1B;;AACA,UAAIG,YAAJ,EAAkB;AAChBA,oBAAY;AACb,OA1BQ,CA4BT;AACA;;;AACA,SAAG;AACD,aAAKL,MAAL;AACD,OAFD,QAES,KAAKF,aAAL,CAAmBtnD,MAF5B,EA9BS,CAkCT;;;AACA,UAAI,KAAKqnD,UAAL,KAAoB,IAAxB,EAA8B;AAC5B1jC,oBAAY,CAAC,KAAK0jC,UAAN,CAAZ;AACA,aAAKA,UAAL,GAAkB,IAAlB;AACD;AACF;;;wBApEgB;AACf,aAAO,KAAKE,KAAZ;AACD;;;;EA9BO1M,Y;;AA8KKsM,qDAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7aA;;;;;;;;AASA;AACA;AACA;AAMA;AAKA;AACA;AAIA;AACA;AAaA;;AAGA,IAAMhzC,WAAK,GAAG,SAARA,KAAQ,CAAC2zC,UAAD,EAAyB;AACrC,MAAIlvD,8BAAJ,EAAe;AAAA;;AAAA,sCADauT,IACb;AADaA,UACb;AAAA;;AACb,gBAAAxK,OAAO,EAACC,GAAR,sCACekmD,UADf,GAEE,mCAFF,EAGE,oBAHF,SAIK37C,IAJL;AAMD;AACF,CATD;;IAkGqB47C,W;;;;;AAcnB,iBAAY7E,MAAZ,EAAmC;AAAA;;AAAA;;AACjC;;AADiC,6EAPX,KAOW;;AAAA,0FANE,KAMF;;AAAA,oFALgC,EAKhC;;AAAA,oFAJc,IAId;;AAAA,yFAHU,IAGV;;AAAA,qFAFH,KAEG;;AAAA,uFAwFV,gBAA8C;AAAA,UAA5C7iD,UAA4C,QAA5CA,UAA4C;AACrE,UAAMgQ,QAAQ,GAAG,MAAK23C,mBAAL,CAAyB3nD,UAAzB,CAAjB;;AACA,UAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB1O,eAAO,CAACoqB,IAAR,iCAAqC1rB,UAArC;AACD,OAFD,MAEO;AACLgQ,gBAAQ,CAAC8Y,sBAAT;AACD;AACF,KA/FkC;;AAAA,sFAiGX,iBAA4C;AAAA,UAA1CnoB,EAA0C,SAA1CA,EAA0C;AAAA,UAAtCX,UAAsC,SAAtCA,UAAsC;AAClE,UAAMgQ,QAAQ,GAAG,MAAK23C,mBAAL,CAAyB3nD,UAAzB,CAAjB;;AACA,UAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB1O,eAAO,CAACoqB,IAAR,iCAAqC1rB,UAArC;AACD,OAFD,MAEO;AACLgQ,gBAAQ,CAACwZ,qBAAT,CAA+B7oB,EAA/B;AACD;AACF,KAxGkC;;AAAA,wFA0GT,iBAA4C;AAAA,UAA1CA,EAA0C,SAA1CA,EAA0C;AAAA,UAAtCX,UAAsC,SAAtCA,UAAsC;AACpE,UAAMgQ,QAAQ,GAAG,MAAK23C,mBAAL,CAAyB3nD,UAAzB,CAAjB;;AACA,UAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB1O,eAAO,CAACoqB,IAAR,iCAAqC1rB,UAArC;AACD,OAFD,MAEO;AACLgQ,gBAAQ,CAACyZ,uBAAT,CAAiC9oB,EAAjC;AACD;AACF,KAjHkC;;AAAA,gFAmHjB,iBAA+C;AAAA,UAA7CA,EAA6C,SAA7CA,EAA6C;AAAA,UAAzC+C,IAAyC,SAAzCA,IAAyC;AAAA,UAAnC1D,UAAmC,SAAnCA,UAAmC;AAC/D,UAAMgQ,QAAQ,GAAG,MAAK23C,mBAAL,CAAyB3nD,UAAzB,CAAjB;;AACA,UAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB1O,eAAO,CAACoqB,IAAR,iCAAqC1rB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACLqP,gBAAQ,CAACusB,eAAT,CAAyB57B,EAAzB,EAA6B+C,IAA7B;AACD;AACF,KA1HkC;;AAAA,2EA4HtB,iBAA4D;AAAA,UAA1Dy5B,MAA0D,SAA1DA,MAA0D;AAAA,UAAlDx8B,EAAkD,SAAlDA,EAAkD;AAAA,UAA9C+C,IAA8C,SAA9CA,IAA8C;AAAA,UAAxC1D,UAAwC,SAAxCA,UAAwC;AAAA,UAA5BxB,IAA4B,SAA5BA,IAA4B;AACvE,UAAMwR,QAAQ,GAAG,MAAK23C,mBAAL,CAAyB3nD,UAAzB,CAAjB;;AACA,UAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB1O,eAAO,CAACoqB,IAAR,iCAAqC1rB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACLqP,gBAAQ,CAACktB,UAAT,CAAoB1+B,IAApB,EAA0BmC,EAA1B,EAA8Bw8B,MAA9B,EAAsCz5B,IAAtC;AACD;AACF,KAnIkC;;AAAA,kFAoKf,YAAM;AACxB,YAAKkkD,OAAL,CAAa5D,IAAb,CAAkB,gBAAlB,EAAoC6C,qBAApC;AACD,KAtKkC;;AAAA,iFAwKhB,iBAA8C;AAAA,UAA5C7mD,UAA4C,SAA5CA,UAA4C;AAC/D,UAAMgQ,QAAQ,GAAG,MAAK23C,mBAAL,CAAyB3nD,UAAzB,CAAjB;;AACA,UAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB1O,eAAO,CAACoqB,IAAR,iCAAqC1rB,UAArC;AACD;;AAED,YAAK4nD,OAAL,CAAa5D,IAAb,CAAkB,eAAlB,EAAmCh0C,QAAQ,CAAC0tB,gBAAT,EAAnC;AACD,KA/KkC;;AAAA,mFAiLd,YAAM;AACzB,YAAKkqB,OAAL,CAAa5D,IAAb,CAAkB,iBAAlB,EAAqC,MAAK6D,YAA1C;AACD,KAnLkC;;AAAA,8EAqLnB,iBAA4C;AAAA,UAA1ClnD,EAA0C,SAA1CA,EAA0C;AAAA,UAAtCX,UAAsC,SAAtCA,UAAsC;AAC1D,UAAMgQ,QAAQ,GAAG,MAAK23C,mBAAL,CAAyB3nD,UAAzB,CAAjB;;AACA,UAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB1O,eAAO,CAACoqB,IAAR,iCAAqC1rB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACL,YAAM24B,MAAM,GAAGtpB,QAAQ,CAACqpB,aAAT,CAAuB14B,EAAvB,CAAf;;AACA,cAAKinD,OAAL,CAAa5D,IAAb,CAAkB,YAAlB,EAAiC;AAACrjD,YAAE,EAAFA,EAAD;AAAK24B,gBAAM,EAANA;AAAL,SAAjC;AACD;AACF,KA7LkC;;AAAA,+EA+LlB,iBAKW;AAAA,UAJ1B34B,EAI0B,SAJ1BA,EAI0B;AAAA,UAH1B+C,IAG0B,SAH1BA,IAG0B;AAAA,UAF1B1D,UAE0B,SAF1BA,UAE0B;AAAA,UAD1By8B,SAC0B,SAD1BA,SAC0B;AAC1B,UAAMzsB,QAAQ,GAAG,MAAK23C,mBAAL,CAAyB3nD,UAAzB,CAAjB;;AACA,UAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB1O,eAAO,CAACoqB,IAAR,iCAAqC1rB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACL,cAAKinD,OAAL,CAAa5D,IAAb,CACE,kBADF,EAEEh0C,QAAQ,CAACwsB,cAAT,CAAwBC,SAAxB,EAAmC97B,EAAnC,EAAuC+C,IAAvC,CAFF,EADK,CAML;AACA;;;AACA,YACE,MAAKokD,wBAAL,KAAkC,IAAlC,IACA,MAAKA,wBAAL,CAA8BnnD,EAA9B,KAAqCA,EAFvC,EAGE;AACA,gBAAKonD,mBAAL,GAA2B,IAA3B;AACA,gBAAKD,wBAAL,GAAgC,IAAhC;AACA93C,kBAAQ,CAACojB,cAAT,CAAwB,IAAxB;;AACA,gBAAK40B,0BAAL,CAAgChoD,UAAhC,EAA4CW,EAA5C;AACD,SAhBI,CAkBL;AACA;AACA;AACA;AACA;;AACD;AACF,KAhOkC;;AAAA,oFAkOb,iBAA4C;AAAA,UAA1CA,EAA0C,SAA1CA,EAA0C;AAAA,UAAtCX,UAAsC,SAAtCA,UAAsC;AAChE,UAAMgQ,QAAQ,GAAG,MAAK23C,mBAAL,CAAyB3nD,UAAzB,CAAjB;;AACA,UAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB1O,eAAO,CAACoqB,IAAR,iCAAqC1rB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACLqP,gBAAQ,CAAC4sB,mBAAT,CAA6Bj8B,EAA7B;AACD;AACF,KAzOkC;;AAAA,8EA2OnB,kBAAuD;AAAA,UAArDA,EAAqD,UAArDA,EAAqD;AAAA,UAAjDX,UAAiD,UAAjDA,UAAiD;AAAA,UAArC0+B,UAAqC,UAArCA,UAAqC;AACrE,UAAM1uB,QAAQ,GAAG,MAAK23C,mBAAL,CAAyB3nD,UAAzB,CAAjB;;AACA,UAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB1O,eAAO,CAACoqB,IAAR,iCAAqC1rB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACLqP,gBAAQ,CAACyuB,aAAT,CAAuB99B,EAAvB,EAA2B+9B,UAA3B;AACD;AACF,KAlPkC;;AAAA,iFAoPhB,kBAIW;AAAA,UAH5B/9B,EAG4B,UAH5BA,EAG4B;AAAA,UAF5BX,UAE4B,UAF5BA,UAE4B;AAAA,UAD5B8+B,aAC4B,UAD5BA,aAC4B;AAC5B,UAAM9uB,QAAQ,GAAG,MAAK23C,mBAAL,CAAyB3nD,UAAzB,CAAjB;;AACA,UAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB1O,eAAO,CAACoqB,IAAR,iCAAqC1rB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACLqP,gBAAQ,CAAC6uB,gBAAT,CAA0Bl+B,EAA1B,EAA8Bm+B,aAA9B;AACD;AACF,KA/PkC;;AAAA,oFAiQb,kBAOW;AAAA,UAN/B3B,MAM+B,UAN/BA,MAM+B;AAAA,UAL/Bx8B,EAK+B,UAL/BA,EAK+B;AAAA,UAJ/B+C,IAI+B,UAJ/BA,IAI+B;AAAA,UAH/B1D,UAG+B,UAH/BA,UAG+B;AAAA,UAF/BxB,IAE+B,UAF/BA,IAE+B;AAAA,UAD/BiD,KAC+B,UAD/BA,KAC+B;AAC/B,UAAMuO,QAAQ,GAAG,MAAK23C,mBAAL,CAAyB3nD,UAAzB,CAAjB;;AACA,UAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB1O,eAAO,CAACoqB,IAAR,iCAAqC1rB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACLqP,gBAAQ,CAACutB,mBAAT,CAA6B/+B,IAA7B,EAAmCmC,EAAnC,EAAuCw8B,MAAvC,EAA+Cz5B,IAA/C,EAAqDjC,KAArD;AACD;AACF,KA/QkC;;AAAA,gFAmRjB,kBAMC;AAAA,UALjBd,EAKiB,UALjBA,EAKiB;AAAA,UAJjB+C,IAIiB,UAJjBA,IAIiB;AAAA,UAHjB1D,UAGiB,UAHjBA,UAGiB;AAAA,UAFjBonD,YAEiB,UAFjBA,YAEiB;AAAA,UADjB3lD,KACiB,UADjBA,KACiB;;AACjB;AACA;AACA,UAAI,CAAC2lD,YAAL,EAAmB;AACjB,cAAK7pB,mBAAL,CAAyB;AACvB58B,YAAE,EAAFA,EADuB;AAEvB+C,cAAI,EAAJA,IAFuB;AAGvB1D,oBAAU,EAAVA,UAHuB;AAIvBxB,cAAI,EAAE,SAJiB;AAKvBiD,eAAK,EAALA;AALuB,SAAzB;AAOD;AACF,KArSkC;;AAAA,kFAySf,kBAOM;AAAA,UANxBd,EAMwB,UANxBA,EAMwB;AAAA,UALxBw8B,MAKwB,UALxBA,MAKwB;AAAA,UAJxBz5B,IAIwB,UAJxBA,IAIwB;AAAA,UAHxB1D,UAGwB,UAHxBA,UAGwB;AAAA,UAFxBonD,YAEwB,UAFxBA,YAEwB;AAAA,UADxB3lD,KACwB,UADxBA,KACwB;;AACxB;AACA;AACA,UAAI,CAAC2lD,YAAL,EAAmB;AACjB,cAAK7pB,mBAAL,CAAyB;AACvB58B,YAAE,EAAFA,EADuB;AAEvB+C,cAAI,EAAJA,IAFuB;AAGvB1D,oBAAU,EAAVA,UAHuB;AAIvBxB,cAAI,EAAE,OAJiB;AAKvBiD,eAAK,EAALA;AALuB,SAAzB;AAOD;AACF,KA5TkC;;AAAA,8EAgUnB,kBAMG;AAAA,UALjBd,EAKiB,UALjBA,EAKiB;AAAA,UAJjB+C,IAIiB,UAJjBA,IAIiB;AAAA,UAHjB1D,UAGiB,UAHjBA,UAGiB;AAAA,UAFjBonD,YAEiB,UAFjBA,YAEiB;AAAA,UADjB3lD,KACiB,UADjBA,KACiB;;AACjB;AACA;AACA,UAAI,CAAC2lD,YAAL,EAAmB;AACjB,cAAK7pB,mBAAL,CAAyB;AACvB58B,YAAE,EAAFA,EADuB;AAEvB+C,cAAI,EAAJA,IAFuB;AAGvB1D,oBAAU,EAAVA,UAHuB;AAIvBxB,cAAI,EAAE,OAJiB;AAKvBiD,eAAK,EAALA;AALuB,SAAzB;AAOD;AACF,KAlVkC;;AAAA,8EAsVnB,kBAMG;AAAA,UALjBd,EAKiB,UALjBA,EAKiB;AAAA,UAJjB+C,IAIiB,UAJjBA,IAIiB;AAAA,UAHjB1D,UAGiB,UAHjBA,UAGiB;AAAA,UAFjBonD,YAEiB,UAFjBA,YAEiB;AAAA,UADjB3lD,KACiB,UADjBA,KACiB;;AACjB;AACA;AACA,UAAI,CAAC2lD,YAAL,EAAmB;AACjB,cAAK7pB,mBAAL,CAAyB;AACvB58B,YAAE,EAAFA,EADuB;AAEvB+C,cAAI,EAAJA,IAFuB;AAGvB1D,oBAAU,EAAVA,UAHuB;AAIvBxB,cAAI,EAAE,OAJiB;AAKvBiD,eAAK,EAALA;AALuB,SAAzB;AAOD;AACF,KAxWkC;;AAAA,iFA0WhB,UAACuzB,wBAAD,EAAuC;AACxD7nB,sDAAqB,CAAChU,2DAAD,EAAyC,MAAzC,CAArB;AACAgU,sDAAqB,CACnBjU,mEADmB,EAEnB87B,wBAAwB,GAAG,MAAH,GAAY,OAFjB,CAArB,CAFwD,CAOxD;AACA;AACA;;AACA,YAAK4yB,OAAL,CAAa5D,IAAb,CAAkB,uBAAlB;AACD,KArXkC;;AAAA,2EAuXtB,kBAOW;AAAA,UANtB7mB,MAMsB,UANtBA,MAMsB;AAAA,UALtBx8B,EAKsB,UALtBA,EAKsB;AAAA,UAJtB6D,OAIsB,UAJtBA,OAIsB;AAAA,UAHtBD,OAGsB,UAHtBA,OAGsB;AAAA,UAFtBvE,UAEsB,UAFtBA,UAEsB;AAAA,UADtBxB,IACsB,UADtBA,IACsB;AACtB,UAAMwR,QAAQ,GAAG,MAAK23C,mBAAL,CAAyB3nD,UAAzB,CAAjB;;AACA,UAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB1O,eAAO,CAACoqB,IAAR,iCAAqC1rB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACLqP,gBAAQ,CAACstB,UAAT,CAAoB9+B,IAApB,EAA0BmC,EAA1B,EAA8Bw8B,MAA9B,EAAsC54B,OAAtC,EAA+CC,OAA/C;AACD;AACF,KArYkC;;AAAA,uFAmaV,UAAC6mB,mBAAD,EAAkC;AACzD,YAAK48B,oBAAL,GAA4B58B,mBAA5B;AAEA4U,mBAAsB,CAAC5U,mBAAD,CAAtB;;AAEA,WAAK,IAAMrrB,UAAX,IAAyB,MAAK2nD,mBAA9B,EAAmD;AACjD,YAAM33C,QAAQ,GAAK,MAAK23C,mBAAL,CAChB3nD,UADgB,CAAnB;AAGAgQ,gBAAQ,CAACiwB,sBAAT,CAAgC5U,mBAAhC;AACD;AACF,KA9akC;;AAAA,qGAgbI,YAAM;AAC3C,UAAM5c,MAAM,GAAGlE,MAAM,CAACC,8BAAP,CAAsCsT,EAArD;;AACA,UAAIrP,MAAM,IAAI,IAAd,EAAoB;AAClB;AACD;;AACD,YAAKy5C,UAAL,CAAgBz5C,MAAhB;AACD,KAtbkC;;AAAA,yEAwbxB,YAAM;AACf;AACA,YAAK+Z,IAAL,CAAU,UAAV;AACD,KA3bkC;;AAAA,+EA6blB,UAACwM,wBAAD,EAAuC;AACtD,YAAKmzB,yBAAL,GAAiCnzB,wBAAjC;AACA,YAAK6yB,YAAL,GAAoB,IAApB;;AACA,WAAK,IAAM7nD,UAAX,IAAyB,MAAK2nD,mBAA9B,EAAmD;AACjD,YAAM33C,QAAQ,GAAK,MAAK23C,mBAAL,CAChB3nD,UADgB,CAAnB;AAGAgQ,gBAAQ,CAACouB,cAAT,CAAwBpJ,wBAAxB;AACD;;AACD,YAAK4yB,OAAL,CAAa5D,IAAb,CAAkB,iBAAlB,EAAqC,MAAK6D,YAA1C;AACD,KAvckC;;AAAA,8EAycnB,YAAM;AACpB,YAAKA,YAAL,GAAoB,KAApB;AACA,YAAKM,yBAAL,GAAiC,KAAjC;;AACA,WAAK,IAAMnoD,UAAX,IAAyB,MAAK2nD,mBAA9B,EAAmD;AACjD,YAAM33C,QAAQ,GAAK,MAAK23C,mBAAL,CAChB3nD,UADgB,CAAnB;AAGAgQ,gBAAQ,CAACsuB,aAAT;AACD;;AACD,YAAKspB,OAAL,CAAa5D,IAAb,CAAkB,iBAAlB,EAAqC,MAAK6D,YAA1C;AACD,KAndkC;;AAAA,8EAqdnB,kBAAwD;AAAA,UAAtD39B,KAAsD,UAAtDA,KAAsD;AAAA,UAA/CvpB,EAA+C,UAA/CA,EAA+C;AAAA,UAA3C+C,IAA2C,UAA3CA,IAA2C;AAAA,UAArC1D,UAAqC,UAArCA,UAAqC;AACtE,UAAMgQ,QAAQ,GAAG,MAAK23C,mBAAL,CAAyB3nD,UAAzB,CAAjB;;AACA,UAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB1O,eAAO,CAACoqB,IAAR,iCAAqC1rB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACLqP,gBAAQ,CAACssB,aAAT,CAAuB37B,EAAvB,EAA2B+C,IAA3B,EAAiCwmB,KAAjC;AACD;AACF,KA5dkC;;AAAA,2FA8dN,kBAYtB;AAAA,UAXLvZ,oBAWK,UAXLA,oBAWK;AAAA,UAVLC,oBAUK,UAVLA,oBAUK;AAAA,UATLC,2BASK,UATLA,2BASK;AAAA,UARLC,2BAQK,UARLA,2BAQK;AAAA,UAPLE,YAOK,UAPLA,YAOK;AACL;AACA;AACA;AACA;AACA0Z,8CAAY,CAAC;AACX/Z,4BAAoB,EAApBA,oBADW;AAEXC,4BAAoB,EAApBA,oBAFW;AAGXC,mCAA2B,EAA3BA,2BAHW;AAIXC,mCAA2B,EAA3BA,2BAJW;AAKXE,oBAAY,EAAZA;AALW,OAAD,CAAZ;AAOD,KAtfkC;;AAAA,uFAwfV,UAAC9O,gBAAD,EAA8C;AACrE,WAAK,IAAMlC,UAAX,IAAyB,MAAK2nD,mBAA9B,EAAmD;AACjD,YAAM33C,QAAQ,GAAK,MAAK23C,mBAAL,CAChB3nD,UADgB,CAAnB;AAGAgQ,gBAAQ,CAAC4b,sBAAT,CAAgC1pB,gBAAhC;AACD;AACF,KA/fkC;;AAAA,oFAigBb,kBAA+C;AAAA,UAA7CvB,EAA6C,UAA7CA,EAA6C;AAAA,UAAzC+C,IAAyC,UAAzCA,IAAyC;AAAA,UAAnC1D,UAAmC,UAAnCA,UAAmC;AACnE,UAAMgQ,QAAQ,GAAG,MAAK23C,mBAAL,CAAyB3nD,UAAzB,CAAjB;;AACA,UAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB1O,eAAO,CAACoqB,IAAR,iCAAqC1rB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACLqP,gBAAQ,CAACgpB,0BAAT,CAAoCr4B,EAApC,EAAwC+C,IAAxC;AACD;AACF,KAxgBkC;;AAAA,kFA0gBf,kBAA4C;AAAA,UAA1C/C,EAA0C,UAA1CA,EAA0C;AAAA,UAAtCX,UAAsC,UAAtCA,UAAsC;AAC9D,UAAMgQ,QAAQ,GAAG,MAAK23C,mBAAL,CAAyB3nD,UAAzB,CAAjB;;AACA,UAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB1O,eAAO,CAACoqB,IAAR,iCAAqC1rB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACLqP,gBAAQ,CAACmpB,wBAAT,CAAkCx4B,EAAlC;AACD;AACF,KAjhBkC;;AAAA,+EAmhBlB,UAACggD,KAAD,EAA4B;AAC3C,YAAKn4B,IAAL,CAAU,cAAV,EAA0Bm4B,KAA1B;AACD,KArhBkC;;AAAA,uFAuhBV,YAAM;AAC7B,UAAIpoD,8BAAJ,EAAe;AACbub,mBAAK,CAAC,wBAAD,CAAL;AACD;;AAED,YAAK8zC,OAAL,CAAa5D,IAAb,CAAkB,sBAAlB;AACD,KA7hBkC;;AAAA,iFA+hBhB,UAACjkD,UAAD,EAA+B;AAChD,UAAIxH,8BAAJ,EAAe;AACbub,mBAAK,CACH,kBADG,aAEC/T,UAAU,CAACJ,MAFZ,gBAEwBI,UAAU,CAACmB,IAAX,CAAgB,IAAhB,CAFxB,OAAL;AAID,OAN+C,CAQhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,YAAK0mD,OAAL,CAAa5D,IAAb,CAAkB,YAAlB,EAAgCjkD,UAAhC;;AAEA,UAAI,MAAKgoD,mBAAL,KAA6B,IAAjC,EAAuC;AACrC,YAAM/nD,UAAU,GAAGD,UAAU,CAAC,CAAD,CAA7B;;AACA,YAAI,MAAKgoD,mBAAL,CAAyB/nD,UAAzB,KAAwCA,UAA5C,EAAwD;AACtD;AACA,cAAMgQ,QAAQ,GAAG,MAAK23C,mBAAL,CAAyB3nD,UAAzB,CAAjB;;AACA,cAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB1O,mBAAO,CAACoqB,IAAR,iCAAqC1rB,UAArC;AACD,WAFD,MAEO;AACL,gBAAMooD,SAAS,GAAG,MAAKN,wBAAvB;AACA,gBAAMO,SAAS,GAAGr4C,QAAQ,CAAC+vB,0BAAT,EAAlB;AACA,kBAAK+nB,wBAAL,GAAgCO,SAAhC;AACA,gBAAMC,WAAW,GAAGF,SAAS,KAAK,IAAd,GAAqBA,SAAS,CAACznD,EAA/B,GAAoC,IAAxD;AACA,gBAAM4nD,WAAW,GAAGF,SAAS,KAAK,IAAd,GAAqBA,SAAS,CAAC1nD,EAA/B,GAAoC,IAAxD;;AACA,gBAAI2nD,WAAW,KAAKC,WAApB,EAAiC;AAC/B,kBAAIA,WAAW,KAAK,IAApB,EAA0B;AACxB;AACA,sBAAKX,OAAL,CAAa5D,IAAb,CAAkB,aAAlB,EAAiCuE,WAAjC;AACD;AACF;;AACD,gBAAIF,SAAS,KAAK,IAAd,IAAsBA,SAAS,CAACroB,WAApC,EAAiD;AAC/C;AACA;AACA,oBAAK+nB,mBAAL,GAA2B,IAA3B;AACA,oBAAKD,wBAAL,GAAgC,IAAhC;AACA93C,sBAAQ,CAACojB,cAAT,CAAwB,IAAxB;AACD;AACF;AACF;AACF;AACF,KA1lBkC;;AAAA,2FAgmBN1P,yBAAQ,CAAC,UAAC1jB,UAAD,EAAqBW,EAArB,EAAoC;AACxE;AACA;AACA;AACA,UAAMqP,QAAQ,GAAG,MAAK23C,mBAAL,CAAyB3nD,UAAzB,CAAjB;AACA,UAAM0D,IAAI,GAAGsM,QAAQ,IAAI,IAAZ,GAAmBA,QAAQ,CAAC4vB,iBAAT,CAA2Bj/B,EAA3B,CAAnB,GAAoD,IAAjE;;AACA,UAAI+C,IAAI,KAAK,IAAb,EAAmB;AACjByJ,wDAAqB,CACnBnU,uDADmB,EAEnB8I,IAAI,CAACM,SAAL,CAAgB;AAACpC,oBAAU,EAAVA,UAAD;AAAa0D,cAAI,EAAJA;AAAb,SAAhB,CAFmB,CAArB;AAID,OALD,MAKO;AACLwJ,2DAAwB,CAAClU,uDAAD,CAAxB;AACD;AACF,KAdoC,EAclC,IAdkC,CAhmBF;;AAGjC,QACEgU,gDAAqB,CAAC7T,2DAAD,CAArB,KAAkE,MADpE,EAEE;AACA,YAAKgvD,yBAAL,GACEn7C,gDAAqB,CACnB9T,mEADmB,CAArB,KAEM,MAHR;AAIA,YAAK2uD,YAAL,GAAoB,IAApB;AAEA36C,yDAAwB,CAAChU,mEAAD,CAAxB;AACAgU,yDAAwB,CAAC/T,2DAAD,CAAxB;AACD;;AAED,QAAMqvD,wBAAwB,GAAGx7C,gDAAqB,CACpDhU,uDADoD,CAAtD;;AAGA,QAAIwvD,wBAAwB,IAAI,IAAhC,EAAsC;AACpC,YAAKT,mBAAL,GAA2BjmD,IAAI,CAACC,KAAL,CAAWymD,wBAAX,CAA3B;AACD;;AAED,UAAKZ,OAAL,GAAe/E,MAAf;AAEAA,UAAM,CAACnhB,WAAP,CAAmB,wBAAnB,EAA6C,MAAK5Y,sBAAlD;AACA+5B,UAAM,CAACnhB,WAAP,CAAmB,uBAAnB,EAA4C,MAAKlY,qBAAjD;AACAq5B,UAAM,CAACnhB,WAAP,CAAmB,yBAAnB,EAA8C,MAAKjY,uBAAnD;AACAo5B,UAAM,CAACnhB,WAAP,CAAmB,iBAAnB,EAAsC,MAAKnF,eAA3C;AACAsmB,UAAM,CAACnhB,WAAP,CAAmB,YAAnB,EAAiC,MAAKxE,UAAtC;AACA2lB,UAAM,CAACnhB,WAAP,CAAmB,mBAAnB,EAAwC,MAAK+mB,iBAA7C;AACA5F,UAAM,CAACnhB,WAAP,CAAmB,kBAAnB,EAAuC,MAAKhE,gBAA5C;AACAmlB,UAAM,CAACnhB,WAAP,CAAmB,oBAAnB,EAAyC,MAAKgnB,kBAA9C;AACA7F,UAAM,CAACnhB,WAAP,CAAmB,eAAnB,EAAoC,MAAKrI,aAAzC;AACAwpB,UAAM,CAACnhB,WAAP,CAAmB,gBAAnB,EAAqC,MAAKlF,cAA1C;AACAqmB,UAAM,CAACnhB,WAAP,CAAmB,qBAAnB,EAA0C,MAAK9E,mBAA/C;AACAimB,UAAM,CAACnhB,WAAP,CAAmB,eAAnB,EAAoC,MAAKjD,aAAzC;AACAokB,UAAM,CAACnhB,WAAP,CAAmB,kBAAnB,EAAuC,MAAK7C,gBAA5C;AACAgkB,UAAM,CAACnhB,WAAP,CAAmB,qBAAnB,EAA0C,MAAKnE,mBAA/C;AACAslB,UAAM,CAACnhB,WAAP,CAAmB,kBAAnB,EAAuC,MAAKinB,gBAA5C;AACA9F,UAAM,CAACnhB,WAAP,CAAmB,YAAnB,EAAiC,MAAKpE,UAAtC;AACAulB,UAAM,CAACnhB,WAAP,CAAmB,wBAAnB,EAA6C,MAAKzB,sBAAlD;AACA4iB,UAAM,CAACnhB,WAAP,CAAmB,gBAAnB,EAAqC,MAAKtD,cAA1C;AACAykB,UAAM,CAACnhB,WAAP,CAAmB,eAAnB,EAAoC,MAAKpD,aAAzC;AACAukB,UAAM,CAACnhB,WAAP,CAAmB,eAAnB,EAAoC,MAAKpF,aAAzC;AACAumB,UAAM,CAACnhB,WAAP,CACE,sCADF,EAEE,MAAKknB,oCAFP;AAIA/F,UAAM,CAACnhB,WAAP,CAAmB,UAAnB,EAA+B,MAAKmnB,QAApC;AACAhG,UAAM,CAACnhB,WAAP,CACE,4BADF,EAEE,MAAKonB,0BAFP;AAIAjG,UAAM,CAACnhB,WAAP,CAAmB,wBAAnB,EAA6C,MAAK9V,sBAAlD;AACAi3B,UAAM,CAACnhB,WAAP,CAAmB,qBAAnB,EAA0C,MAAKqnB,mBAA/C;AACAlG,UAAM,CAACnhB,WAAP,CAAmB,mBAAnB,EAAwC,MAAKsnB,iBAA7C,EAxDiC,CA0DjC;AACA;AACA;;AACAnG,UAAM,CAACnhB,WAAP,CAAmB,iBAAnB,EAAsC,MAAKunB,eAA3C;AACApG,UAAM,CAACnhB,WAAP,CAAmB,mBAAnB,EAAwC,MAAK9Z,iBAA7C;AACAi7B,UAAM,CAACnhB,WAAP,CAAmB,eAAnB,EAAoC,MAAK3Z,aAAzC;AACA86B,UAAM,CAACnhB,WAAP,CAAmB,eAAnB,EAAoC,MAAKwnB,aAAzC;;AAEA,QAAI,MAAKrB,YAAT,EAAuB;AACrBhF,YAAM,CAACmB,IAAP,CAAY,iBAAZ,EAA+B,IAA/B;AACD,KApEgC,CAsEjC;AACA;;;AACA,QAAImF,4BAA4B,GAAG,KAAnC;;AACA,QAAI;AACFx8C,kBAAY,CAACC,OAAb,CAAqB,MAArB;AACAu8C,kCAA4B,GAAG,IAA/B;AACD,KAHD,CAGE,OAAOnnD,KAAP,EAAc,CAAE;;AAClB6gD,UAAM,CAACmB,IAAP,CAAY,8BAAZ,EAA4CmF,4BAA5C;AACAtG,UAAM,CAACmB,IAAP,CAAY,2BAAZ,EAAyCz3C,kDAAyB,EAAlE;AAEAq2C,oBAAgB,CAACC,MAAD,qCAAhB;AACAuG,2BAAiB,CAAC,mCAAlB;AAjFiC;AAkFlC;;;;gDAsDiD;AAAA,UAFhDzoD,EAEgD,UAFhDA,EAEgD;AAAA,UADhDX,UACgD,UADhDA,UACgD;AAChD,UAAMgQ,QAAQ,GAAG,KAAK23C,mBAAL,CAAyB3nD,UAAzB,CAAjB;;AACA,UAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB1O,eAAO,CAACoqB,IAAR,iCAAqC1rB,UAArC;AACA,eAAO,IAAP;AACD;;AACD,aAAOgQ,QAAQ,CAACwpB,mBAAT,CAA6B74B,EAA7B,CAAP;AACD;;;iCAEY4S,I,EAA6B;AACxC,WAAK,IAAMvT,UAAX,IAAyB,KAAK2nD,mBAA9B,EAAmD;AACjD,YAAM33C,QAAQ,GAAK,KAAK23C,mBAAL,CAChB3nD,UADgB,CAAnB;;AAIA,YAAI;AACF,cAAMW,EAAE,GAAGqP,QAAQ,CAACooB,mBAAT,CAA6B7kB,IAA7B,EAAmC,IAAnC,CAAX;;AACA,cAAI5S,EAAE,KAAK,IAAX,EAAiB;AACf,mBAAOA,EAAP;AACD;AACF,SALD,CAKE,OAAOqB,KAAP,EAAc,CACd;AACA;AACD;AACF;;AACD,aAAO,IAAP;AACD;;;+BAqOUyM,M,EAAsB;AAC/B,UAAM9N,EAAE,GAAG,KAAK0jD,YAAL,CAAkB51C,MAAlB,CAAX;;AACA,UAAI9N,EAAE,KAAK,IAAX,EAAiB;AACf,aAAKinD,OAAL,CAAa5D,IAAb,CAAkB,aAAlB,EAAiCrjD,EAAjC;AACD;AACF;;;yCAGCX,U,EACAshD,iB,EACA;AACA,WAAKqG,mBAAL,CAAyB3nD,UAAzB,IAAuCshD,iBAAvC;;AAEA,UAAI,KAAKuG,YAAT,EAAuB;AACrBvG,yBAAiB,CAACljB,cAAlB,CAAiC,KAAK+pB,yBAAtC;AACD;;AAED7G,uBAAiB,CAACrhB,sBAAlB,CAAyC,KAAKgoB,oBAA9C,EAPA,CASA;AACA;AACA;;AACA,UAAMoB,SAAS,GAAG,KAAKtB,mBAAvB;;AACA,UAAIsB,SAAS,KAAK,IAAd,IAAsBA,SAAS,CAACrpD,UAAV,KAAyBA,UAAnD,EAA+D;AAC7DshD,yBAAiB,CAACluB,cAAlB,CAAiCi2B,SAAS,CAAC3lD,IAA3C;AACD;AACF;;;0CA2LqB1D,U,EAAoB;AACxC,WAAK4nD,OAAL,CAAa5D,IAAb,CAAkB,4BAAlB,EAAgDhkD,UAAhD;AACD;;;wBA1gBqE;AACpE,aAAO,KAAK2nD,mBAAZ;AACD;;;;EApGgCnN,Y;;;;;;;;;AC9InC;;;;;;;;;AAcA;AAIA;AAMO,SAAS8O,WAAT,CAAqB76C,MAArB,EAAuD;AAC5D,MAAIA,MAAM,CAAC3K,cAAP,CAAsB,gCAAtB,CAAJ,EAA6D;AAC3D,WAAO,IAAP;AACD;;AAED,WAASylD,oBAAT,CAA8Bv5C,QAA9B,EAAwC;AACtC,QAAI;AACF,UAAI,OAAOA,QAAQ,CAACM,OAAhB,KAA4B,QAAhC,EAA0C;AACxC;AACA,YAAIN,QAAQ,CAACw5C,UAAT,GAAsB,CAA1B,EAA6B;AAC3B;AACA;AACA;AACA,iBAAO,aAAP;AACD,SAPuC,CASxC;AACA;;;AACA,eAAO,YAAP,CAXwC,CAYxC;AACA;AACA;AACA;AACA;AACD;;AAED,UAAMjsD,SAAQ,GAAGkjB,QAAQ,CAAClb,SAAT,CAAmBhI,QAApC;;AACA,UAAIyS,QAAQ,CAACy5C,KAAT,IAAkBz5C,QAAQ,CAACy5C,KAAT,CAAeC,uBAArC,EAA8D;AAC5D;AACA,YAAMC,cAAc,GAAGpsD,SAAQ,CAACwG,IAAT,CACrBiM,QAAQ,CAACy5C,KAAT,CAAeC,uBADM,CAAvB,CAF4D,CAK5D;;;AACA,YAAIC,cAAc,CAAC5mD,OAAf,CAAuB,UAAvB,MAAuC,CAA3C,EAA8C;AAC5C;AACA,iBAAO,YAAP;AACD,SAT2D,CAU5D;AACA;AACA;;;AACA,YAAI4mD,cAAc,CAAC5mD,OAAf,CAAuB,eAAvB,MAA4C,CAAC,CAAjD,EAAoD;AAClD,iBAAO,aAAP;AACD,SAf2D,CAgB5D;AACA;AACA;AACA;;;AACA,YAAI4mD,cAAc,CAAC5mD,OAAf,CAAuB,2BAAvB,MAAwD,CAAC,CAA7D,EAAgE;AAC9D;AACA;AACA;AACA,cAAI4mD,cAAc,CAAC5mD,OAAf,CAAuB,UAAvB,MAAuC,CAAC,CAA5C,EAA+C;AAC7C,mBAAO,aAAP;AACD,WAN6D,CAO9D;AACA;;;AACA,cAAI4mD,cAAc,CAAC5mD,OAAf,CAAuB,aAAvB,MAA0C,CAAC,CAA/C,EAAkD;AAChD,mBAAO,aAAP;AACD,WAX6D,CAY9D;AACA;AACA;AACA;;;AACA,cAAI4mD,cAAc,CAAC5mD,OAAf,CAAuB,MAAvB,MAAmC,CAAC,CAAxC,EAA2C;AACzC,mBAAO,aAAP;AACD,WAlB6D,CAmB9D;AACA;AACA;AACA;;;AACA,eACE;AACA4mD,wBAAc,CAAC5mD,OAAf,CAAuB,aAAvB,MAA0C,CAAC,CAA3C,IACA;AACA4mD,wBAAc,CAAC5mD,OAAf,CAAuB,eAAvB,MAA4C,CAAC,CAJ/C,EAKE;AACA;AACA;AACA,mBAAO,YAAP;AACD,WATD,MASO;AACL;AACA,mBAAO,aAAP;AACD;AACF,SAxD2D,CAyD5D;AACA;AACA;;;AACA,aACE;AACA4mD,sBAAc,CAAC5mD,OAAf,CAAuB,aAAvB,MAA0C,CAAC,CAA3C,IACA;AACA4mD,sBAAc,CAAC5mD,OAAf,CAAuB,eAAvB,MAA4C,CAAC,CAJ/C,EAKE;AACA,iBAAO,YAAP;AACD,SAnE2D,CAoE5D;AACA;;;AACA,eAAO,UAAP;AACD;AACF,KA7FD,CA6FE,OAAO2H,GAAP,EAAY,CACZ;AACA;AACA;AACA;AACD;;AACD,WAAO,YAAP;AACD;;AAED,WAASk/C,QAAT,CAAkBhjB,EAAlB,EAAgC;AAC9B;AACA;AACA,QAAI;AACF,UAAMrpC,UAAQ,GAAGkjB,QAAQ,CAAClb,SAAT,CAAmBhI,QAApC;;AACA,UAAMssD,IAAI,GAAGtsD,UAAQ,CAACwG,IAAT,CAAc6iC,EAAd,CAAb,CAFE,CAIF;AACA;AACA;;;AACA,UAAIijB,IAAI,CAAC9mD,OAAL,CAAa,KAAb,IAAsB,CAAC,CAA3B,EAA8B;AAC5B;AACA+mD,yBAAiB,GAAG,IAApB,CAF4B,CAI5B;AACA;;AACAj4C,kBAAU,CAAC,YAAW;AACpB,gBAAM,IAAIxQ,KAAJ,CACJ,wDACE,0DADF,GAEE,kCAFF,GAGE,oDAJE,CAAN;AAMD,SAPS,CAAV;AAQD;AACF,KAtBD,CAsBE,OAAOqJ,GAAP,EAAY,CAAE;AACjB,GAtI2D,CAwI5D;;;AACA,WAASiB,MAAT,CACEC,YADF,EAGU;AACR,QAAIkG,iFAAJ,EAA8C;AAAA,wCAF3CjG,SAE2C;AAF3CA,iBAE2C;AAAA;;AAC5C,UAAMC,IAAI,GAAGD,SAAS,CAACrL,KAAV,EAAb,CAD4C,CAG5C;;AACA,UAAI2G,SAAiB,GACnB,YAAOyE,YAAP,MAAwB,QAAxB,GACIA,YAAY,CAACrO,QAAb,EADJ,GAEI,KAAKqO,YAHX,CAJ4C,CAS5C;;AACA,UAAI,OAAOA,YAAP,KAAwB,QAA5B,EAAsC;AACpC,YAAIE,IAAI,CAACnM,MAAT,EAAiB;AACf,cAAMoM,MAAM,GAAG,iBAAf;AAEA5E,mBAAS,GAAGA,SAAS,CAAC6E,OAAV,CAAkBD,MAAlB,EAA0B,UAAC9I,KAAD,EAAQgJ,OAAR,EAAiBC,GAAjB,EAAsBC,IAAtB,EAA+B;AACnE,gBAAIC,GAAG,GAAGN,IAAI,CAACO,KAAL,EAAV;;AACA,oBAAQF,IAAR;AACE,mBAAK,GAAL;AACEC,mBAAG,IAAI,EAAP;AACA;;AACF,mBAAK,GAAL;AACA,mBAAK,GAAL;AACEA,mBAAG,GAAGjS,QAAQ,CAACiS,GAAD,EAAM,EAAN,CAAR,CAAkB7O,QAAlB,EAAN;AACA;;AACF,mBAAK,GAAL;AACE6O,mBAAG,GAAGE,UAAU,CAACF,GAAD,CAAV,CAAgB7O,QAAhB,EAAN;AACA;AAVJ;;AAYA,gBAAI,CAAC0O,OAAL,EAAc;AACZ,qBAAOG,GAAP;AACD;;AACDN,gBAAI,CAAC3I,OAAL,CAAaiJ,GAAb;AACA,mBAAOnJ,KAAP;AACD,WAnBW,CAAZ;AAoBD;AACF,OAnC2C,CAqC5C;;;AACA,UAAI6I,IAAI,CAACnM,MAAT,EAAiB;AACf,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkM,IAAI,CAACnM,MAAzB,EAAiCC,CAAC,EAAlC,EAAsC;AACpC,cAAMwM,GAAG,GAAGN,IAAI,CAAClM,CAAD,CAAhB,CADoC,CAGpC;;AACAuH,mBAAS,IAAI,OAAO,YAAOiF,GAAP,MAAe,QAAf,GAA0BA,GAAG,CAAC7O,QAAJ,EAA1B,GAA2C6O,GAAlD,CAAb;AACD;AACF,OA7C2C,CA+C5C;;;AACAjF,eAAS,GAAGA,SAAS,CAAC6E,OAAV,CAAkB,SAAlB,EAA6B,GAA7B,CAAZ;AAEA,aAAO,KAAK7E,SAAZ;AACD;;AAED,WAAO,EAAP;AACD,GAnM2D,CAqM5D;;;AACA,WAAS4iD,uCAAT,CACE/5C,QADF,QAMQ;AAAA,QAHJc,2BAGI,QAHJA,2BAGI;AAAA,QAFJE,YAEI,QAFJA,YAEI;;AACN,QAAIc,iFAAJ,EAA8C;AAC5C,UAAMk4C,sBAAsB,GAAG,CAAC,OAAD,EAAU,OAAV,EAAmB,MAAnB,EAA2B,KAA3B,CAA/B;;AAEA,UAAIC,KAAJ,EAAmB,8CAkFlB;AACF;AACF;;AAED,MAAIlrD,UAAU,GAAG,CAAjB;;AAEA,WAASmrD,MAAT,CAAgBl6C,QAAhB,EAA0B;AACxB,QAAMrP,EAAE,GAAG,EAAE5B,UAAb;AACAorD,aAAS,CAACrrD,GAAV,CAAc6B,EAAd,EAAkBqP,QAAlB;AAEA,QAAMo6C,cAAc,GAAGN,iBAAiB,GACpC,UADoC,GAEpCP,oBAAoB,CAACv5C,QAAD,CAFxB,CAJwB,CAQxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,QAAI,IAAJ,EAAe;AACb,UAAI;AACF,YAAMW,oBAAoB,GACxBpG,MAAM,CAAC8f,yCAAP,KAAqD,KADvD;AAEA,YAAMzZ,oBAAoB,GACxBrG,MAAM,CAAC+f,0CAAP,KAAsD,IADxD;AAEA,YAAMzZ,2BAA2B,GAC/BtG,MAAM,CAACggB,kDAAP,KAA8D,KADhE;AAEA,YAAMzZ,2BAA2B,GAC/BvG,MAAM,CAACigB,mDAAP,KAA+D,IADjE;AAEA,YAAMxZ,YAAY,GAAGzG,MAAM,CAACkgB,gCAA5B,CATE,CAWF;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,YAAI,IAAJ,EAAoB;AAClBL,6DAA2B,CAACpa,QAAD,CAA3B;AACA0a,kDAAY,CAAC;AACX/Z,gCAAoB,EAApBA,oBADW;AAEXC,gCAAoB,EAApBA,oBAFW;AAGXC,uCAA2B,EAA3BA,2BAHW;AAIXC,uCAA2B,EAA3BA,2BAJW;AAKXE,wBAAY,EAAZA;AALW,WAAD,CAAZ;AAOD,SATD,MASO,EAON;AACF,OAnCD,CAmCE,OAAOhP,KAAP,EAAc,CAAE;AACnB,KA9DuB,CAgExB;AACA;;;AACA,QAAMylB,MAAM,GAAGhZ,MAAM,CAAC47C,yBAAtB;;AACA,QAAI,OAAO5iC,MAAP,KAAkB,UAAtB,EAAkC;AAChC,UAAM65B,iBAAiB,GAAG75B,MAAM,CAACC,IAAD,EAAO/mB,EAAP,EAAWqP,QAAX,EAAqBvB,MAArB,CAAhC;AACAiZ,UAAI,CAAC05B,kBAAL,CAAwBtiD,GAAxB,CAA4B6B,EAA5B,EAAgC2gD,iBAAhC;AACD;;AAED55B,QAAI,CAACc,IAAL,CAAU,UAAV,EAAsB;AACpB7nB,QAAE,EAAFA,EADoB;AAEpBqP,cAAQ,EAARA,QAFoB;AAGpBo6C,oBAAc,EAAdA;AAHoB,KAAtB;AAMA,WAAOzpD,EAAP;AACD;;AAED,MAAImpD,iBAAiB,GAAG,KAAxB;;AAEA,WAASQ,GAAT,CAAa/c,KAAb,EAAoB3G,EAApB,EAAwB;AACtBlf,QAAI,CAAC+Z,EAAL,CAAQ8L,KAAR,EAAe3G,EAAf;AACA,WAAO;AAAA,aAAMlf,IAAI,CAACka,GAAL,CAAS2L,KAAT,EAAgB3G,EAAhB,CAAN;AAAA,KAAP;AACD;;AAED,WAASnF,EAAT,CAAY8L,KAAZ,EAAmB3G,EAAnB,EAAuB;AACrB,QAAI,CAAC3E,SAAS,CAACsL,KAAD,CAAd,EAAuB;AACrBtL,eAAS,CAACsL,KAAD,CAAT,GAAmB,EAAnB;AACD;;AACDtL,aAAS,CAACsL,KAAD,CAAT,CAAiB9sC,IAAjB,CAAsBmmC,EAAtB;AACD;;AAED,WAAShF,GAAT,CAAa2L,KAAb,EAAoB3G,EAApB,EAAwB;AACtB,QAAI,CAAC3E,SAAS,CAACsL,KAAD,CAAd,EAAuB;AACrB;AACD;;AACD,QAAM1iC,KAAK,GAAGo3B,SAAS,CAACsL,KAAD,CAAT,CAAiBxqC,OAAjB,CAAyB6jC,EAAzB,CAAd;;AACA,QAAI/7B,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChBo3B,eAAS,CAACsL,KAAD,CAAT,CAAiBlpC,MAAjB,CAAwBwG,KAAxB,EAA+B,CAA/B;AACD;;AACD,QAAI,CAACo3B,SAAS,CAACsL,KAAD,CAAT,CAAiB5tC,MAAtB,EAA8B;AAC5B,aAAOsiC,SAAS,CAACsL,KAAD,CAAhB;AACD;AACF;;AAED,WAAS/kB,IAAT,CAAc+kB,KAAd,EAAqB1oC,IAArB,EAA2B;AACzB,QAAIo9B,SAAS,CAACsL,KAAD,CAAb,EAAsB;AACpBtL,eAAS,CAACsL,KAAD,CAAT,CAAiBn/B,GAAjB,CAAqB,UAAAw4B,EAAE;AAAA,eAAIA,EAAE,CAAC/hC,IAAD,CAAN;AAAA,OAAvB;AACD;AACF;;AAED,WAASinB,aAAT,CAAuB9rB,UAAvB,EAAmC;AACjC,QAAMuqD,KAAK,GAAGC,UAAd;;AACA,QAAI,CAACD,KAAK,CAACvqD,UAAD,CAAV,EAAwB;AACtBuqD,WAAK,CAACvqD,UAAD,CAAL,GAAoB,IAAIrC,GAAJ,EAApB;AACD;;AACD,WAAO4sD,KAAK,CAACvqD,UAAD,CAAZ;AACD;;AAED,WAASyqD,oBAAT,CAA8BzqD,UAA9B,EAA0CokB,KAA1C,EAAiD;AAC/C,QAAMk9B,iBAAiB,GAAGF,kBAAkB,CAACziD,GAAnB,CAAuBqB,UAAvB,CAA1B;;AACA,QAAIshD,iBAAiB,IAAI,IAAzB,EAA+B;AAC7BA,uBAAiB,CAACjqB,wBAAlB,CAA2CjT,KAA3C;AACD;AACF;;AAED,WAASsmC,iBAAT,CAA2B1qD,UAA3B,EAAuCoL,IAAvC,EAA6C4rB,aAA7C,EAA4D;AAC1D,QAAM2zB,YAAY,GAAGjjC,IAAI,CAACoE,aAAL,CAAmB9rB,UAAnB,CAArB;AACA,QAAMpC,OAAO,GAAGwN,IAAI,CAACxN,OAArB;AACA,QAAMgtD,WAAW,GAAGD,YAAY,CAACj/C,GAAb,CAAiBN,IAAjB,CAApB;AACA,QAAMy/C,YAAY,GAChBjtD,OAAO,CAACswB,aAAR,IAAyB,IAAzB,IAAiCtwB,OAAO,CAACswB,aAAR,CAAsBzoB,OAAtB,IAAiC,IADpE,CAJ0D,CAO1D;;AACA,QAAI,CAACmlD,WAAD,IAAgB,CAACC,YAArB,EAAmC;AACjCF,kBAAY,CAACtsD,GAAb,CAAiB+M,IAAjB;AACD,KAFD,MAEO,IAAIw/C,WAAW,IAAIC,YAAnB,EAAiC;AACtCF,kBAAY,CAACphC,MAAb,CAAoBne,IAApB;AACD;;AACD,QAAMk2C,iBAAiB,GAAGF,kBAAkB,CAACziD,GAAnB,CAAuBqB,UAAvB,CAA1B;;AACA,QAAIshD,iBAAiB,IAAI,IAAzB,EAA+B;AAC7BA,uBAAiB,CAAC/pB,qBAAlB,CAAwCnsB,IAAxC,EAA8C4rB,aAA9C;AACD;AACF;;AAED,WAAS8zB,qBAAT,CAA+B9qD,UAA/B,EAA2CoL,IAA3C,EAAiD;AAC/C,QAAMk2C,iBAAiB,GAAGF,kBAAkB,CAACziD,GAAnB,CAAuBqB,UAAvB,CAA1B;;AACA,QAAIshD,iBAAiB,IAAI,IAAzB,EAA+B;AAC7BA,uBAAiB,CAAChqB,yBAAlB,CAA4ClsB,IAA5C;AACD;AACF,GAjc2D,CAmc5D;;;AACA,MAAMo/C,UAAU,GAAG,EAAnB;AACA,MAAMpJ,kBAAkB,GAAG,IAAI9xC,GAAJ,EAA3B;AACA,MAAM2yB,SAAS,GAAG,EAAlB;AACA,MAAMkoB,SAAS,GAAG,IAAI76C,GAAJ,EAAlB;AAEA,MAAMoY,IAAkB,GAAG;AACzB05B,sBAAkB,EAAlBA,kBADyB;AAEzBnf,aAAS,EAATA,SAFyB;AAIzB;AACAkoB,aAAS,EAATA,SALyB;AAOzB3hC,QAAI,EAAJA,IAPyB;AAQzBsD,iBAAa,EAAbA,aARyB;AASzBo+B,UAAM,EAANA,MATyB;AAUzBzoB,MAAE,EAAFA,EAVyB;AAWzBG,OAAG,EAAHA,GAXyB;AAYzB0oB,OAAG,EAAHA,GAZyB;AAczB;AACA;AACAS,iBAAa,EAAE,IAhBU;AAkBzB;AACAnB,YAAQ,EAARA,QAnByB;AAoBzBa,wBAAoB,EAApBA,oBApByB;AAqBzBC,qBAAiB,EAAjBA,iBArByB;AAsBzBI,yBAAqB,EAArBA;AAtByB,GAA3B;AAyBAhtD,QAAM,CAAC6rC,cAAP,CACEl7B,MADF,EAEE,gCAFF,EAGG;AACC;AACA;AACAkF,gBAAY,EAAEqd,KAHf;AAIC5yB,cAAU,EAAE,KAJb;AAKCO,OALD,iBAKO;AACJ,aAAO+oB,IAAP;AACD;AAPF,GAHH;AAcA,SAAOA,IAAP;AACD,C;;;;;;;;;;;ACzgBD;;;;;;;;AAWO,SAASsjC,QAAT,CAAkBvnD,MAAlB,EAAkCI,IAAlC,EAAgD+iC,EAAhD,EAAwE;AAC7E,MAAMqkB,GAAG,GAAGxnD,MAAM,CAACI,IAAD,CAAlB;;AACAJ,QAAM,CAACI,IAAD,CAAN,GAAe,UAASgrB,QAAT,EAAqC;AAClD,WAAO+X,EAAE,CAAC7iC,IAAH,CAAQ,IAAR,EAAcknD,GAAd,EAAmBn8C,SAAnB,CAAP;AACD,GAFD;;AAGA,SAAOm8C,GAAP;AACD;AAEM,SAASC,YAAT,CACLx8C,MADK,EAELy8C,GAFK,EAGG;AACR,MAAMC,IAAI,GAAG,EAAb;;AACA,OAAK,IAAMvsD,IAAX,IAAmBssD,GAAnB,EAAwB;AACtBC,QAAI,CAACvsD,IAAD,CAAJ,GAAamsD,QAAQ,CAACt8C,MAAD,EAAS7P,IAAT,EAAessD,GAAG,CAACtsD,IAAD,CAAlB,CAArB;AACD;;AACD,SAAOusD,IAAP;AACD;AAEM,SAASC,WAAT,CAAqB38C,MAArB,EAAqC08C,IAArC,EAAyD;AAC9D,OAAK,IAAMvsD,IAAX,IAAmBusD,IAAnB,EAAyB;AACvB18C,UAAM,CAAC7P,IAAD,CAAN,GAAeusD,IAAI,CAACvsD,IAAD,CAAnB;AACD;AACF;AAEM,SAASu+B,WAAT,CAAqBvO,QAArB,EAAuD;AAC5D,MAAI,OAAOA,QAAQ,CAACuO,WAAhB,KAAgC,UAApC,EAAgD;AAC9CvO,YAAQ,CAACuO,WAAT;AACD,GAFD,MAEO,IACLvO,QAAQ,CAAC6oB,OAAT,IAAoB,IAApB,IACA,OAAO7oB,QAAQ,CAAC6oB,OAAT,CAAiBJ,kBAAxB,KAA+C,UAF1C,EAGL;AACAzoB,YAAQ,CAAC6oB,OAAT,CAAiBJ,kBAAjB,CAAoC,IAApC,EAA0C,YAAM,CAAE,CAAlD,EAAoD,aAApD;AACD;AACF,C;;;;;;;;;;AC7CD;;;;;;;;AASA;AAOA;AACA;AAOA;AAOA;AAMA;;AAqBA,SAASjT,OAAT,CAAiBinB,gBAAjB,EAAqD;AACnD,MAAI1sD,WAAW,GAAG,IAAlB;AACA,MAAIT,GAAG,GAAG,IAAV,CAFmD,CAInD;;AACA,MAAImtD,gBAAgB,CAACC,eAAjB,IAAoC,IAAxC,EAA8C;AAC5C,QAAID,gBAAgB,CAACC,eAAjB,CAAiCptD,GAArC,EAA0C;AACxCA,SAAG,GAAG,KAAKmtD,gBAAgB,CAACC,eAAjB,CAAiCptD,GAA5C;AACD;;AAED,QAAMuH,WAAW,GAAG4lD,gBAAgB,CAACC,eAAjB,CAAiC/sD,IAArD;;AACA,QAAI,OAAOkH,WAAP,KAAuB,QAA3B,EAAqC;AACnC9G,iBAAW,GAAG8G,WAAd;AACD,KAFD,MAEO,IAAI,OAAOA,WAAP,KAAuB,UAA3B,EAAuC;AAC5C9G,iBAAW,GAAGL,2CAAc,CAACmH,WAAD,CAA5B;AACD;AACF;;AAED,SAAO;AACL9G,eAAW,EAAXA,WADK;AAELT,OAAG,EAAHA;AAFK,GAAP;AAID;;AAED,SAASqtD,cAAT,CAAwBF,gBAAxB,EAAyE;AACvE;AACA,MAAIA,gBAAgB,CAACC,eAAjB,IAAoC,IAAxC,EAA8C;AAC5C,QAAM7lD,WAAW,GAAG4lD,gBAAgB,CAACC,eAAjB,CAAiC/sD,IAArD;;AACA,QAAI,OAAOkH,WAAP,KAAuB,UAA3B,EAAuC;AACrC,UAAM+lD,cAAc,GAAGH,gBAAgB,CAACI,iBAAjB,EAAvB;;AACA,UAAID,cAAc,KAAK,IAAvB,EAA6B;AAC3B,eAAOpxD,iCAAP;AACD,OAFD,MAEO;AACL,eAAOE,oCAAP;AACD;AACF,KAPD,MAOO,IAAI,OAAOmL,WAAP,KAAuB,QAA3B,EAAqC;AAC1C,aAAOjL,yCAAP;AACD;AACF;;AACD,SAAOE,0CAAP;AACD;;AAED,SAASgxD,WAAT,CAAqBL,gBAArB,EAA2D;AACzD,MAAMrqD,QAAQ,GAAG,EAAjB,CADyD,CAGzD;AACA;AACA;;AACA,MAAI,gBAAOqqD,gBAAP,MAA4B,QAAhC,EAA0C,CACxC;AACD,GAFD,MAEO,IACLA,gBAAgB,CAACC,eAAjB,KAAqC,IAArC,IACAD,gBAAgB,CAACC,eAAjB,KAAqC,KAFhC,EAGL,CACA;AACD,GALM,MAKA,IAAID,gBAAgB,CAACM,kBAArB,EAAyC;AAC9C,QAAM18B,KAAK,GAAGo8B,gBAAgB,CAACM,kBAA/B;;AACA,QAAIJ,cAAc,CAACt8B,KAAD,CAAd,KAA0Bv0B,0CAA9B,EAAyD;AACvDsG,cAAQ,CAACR,IAAT,CAAcyuB,KAAd;AACD;AACF,GALM,MAKA,IAAIo8B,gBAAgB,CAACO,iBAArB,EAAwC;AAC7C,QAAMC,gBAAgB,GAAGR,gBAAgB,CAACO,iBAA1C;;AACA,SAAK,IAAMhtD,IAAX,IAAmBitD,gBAAnB,EAAqC;AACnC,UAAM58B,MAAK,GAAG48B,gBAAgB,CAACjtD,IAAD,CAA9B;;AACA,UAAI2sD,cAAc,CAACt8B,MAAD,CAAd,KAA0Bv0B,0CAA9B,EAAyD;AACvDsG,gBAAQ,CAACR,IAAT,CAAcyuB,MAAd;AACD;AACF;AACF,GA1BwD,CA2BzD;AACA;;;AACA,SAAOjuB,QAAP;AACD;;AAEM,SAASwmB,eAAT,CACLC,IADK,EAEL1nB,UAFK,EAGLgQ,QAHK,EAILJ,MAJK,EAKc;AACnB,MAAMm8C,uBAAsD,GAAG,IAAIz8C,GAAJ,EAA/D;AACA,MAAM08C,uBAGL,GAAG,IAAIhvD,OAAJ,EAHJ;AAIA,MAAMivD,2BAGL,GAAG,IAAIjvD,OAAJ,EAHJ;AAKA,MAAIkvD,sBAA2C,GAAK,IAApD;AACA,MAAIC,2BAAJ;;AAEA,MAAIn8C,QAAQ,CAACo8C,aAAb,EAA4B;AAC1BF,0BAAsB,GAAG,gCAAC34C,IAAD,EAAO+kB,6BAAP,EAAyC;AAChE,UAAMgzB,gBAAgB,GAAGt7C,QAAQ,CAACo8C,aAAT,CAAuBC,0BAAvB,CACvB94C,IADuB,CAAzB;AAGA,aAAOy4C,uBAAuB,CAACrtD,GAAxB,CAA4B2sD,gBAA5B,KAAiD,IAAxD;AACD,KALD;;AAMAa,+BAA2B,GAAG,qCAACxrD,EAAD,EAAgB;AAC5C,UAAM2qD,gBAAgB,GAAGS,uBAAuB,CAACptD,GAAxB,CAA4BgC,EAA5B,CAAzB;AACA,aAAOqP,QAAQ,CAACo8C,aAAT,CAAuBE,mBAAvB,CAA2ChB,gBAA3C,CAAP;AACD,KAHD;AAID,GAXD,MAWO,IAAIt7C,QAAQ,CAACy5C,KAAT,CAAe8C,KAAf,IAAwBv8C,QAAQ,CAACy5C,KAAT,CAAe+C,OAA3C,EAAoD;AACzDN,0BAAsB,GAAG,gCAAC34C,IAAD,EAAO+kB,6BAAP,EAAyC;AAChE;AACA,aAAO,IAAP;AACD,KAHD;;AAIA6zB,+BAA2B,GAAG,qCAACxrD,EAAD,EAAgB;AAC5C;AACA,aAAO,IAAP;AACD,KAHD;AAID;;AAED,WAASw3B,wBAAT,CAAkCx3B,EAAlC,EAA6D;AAC3D,QAAM2qD,gBAAgB,GAAGS,uBAAuB,CAACptD,GAAxB,CAA4BgC,EAA5B,CAAzB;AACA,WAAO2qD,gBAAgB,GAAGjnB,OAAO,CAACinB,gBAAD,CAAP,CAA0B1sD,WAA7B,GAA2C,IAAlE;AACD;;AAED,WAAS2tD,KAAT,CAAejB,gBAAf,EAA2D;AACzD,QAAI,gBAAOA,gBAAP,MAA4B,QAA5B,IAAwCA,gBAAgB,KAAK,IAAjE,EAAuE;AACrE,YAAM,IAAIjqD,KAAJ,CAAU,gCAAgCiqD,gBAA1C,CAAN;AACD;;AACD,QAAI,CAACU,uBAAuB,CAACtgD,GAAxB,CAA4B4/C,gBAA5B,CAAL,EAAoD;AAClD,UAAM3qD,GAAE,GAAG3B,mCAAM,EAAjB;;AACAgtD,6BAAuB,CAACltD,GAAxB,CAA4BwsD,gBAA5B,EAA8C3qD,GAA9C;AACAorD,6BAAuB,CAACjtD,GAAxB,CAA4B6B,GAA5B,EAAgC2qD,gBAAhC;AACD;;AACD,WAASU,uBAAuB,CAACrtD,GAAxB,CAA4B2sD,gBAA5B,CAAT;AACD;;AAED,WAASmB,cAAT,CAAwBpvD,CAAxB,EAA2BC,CAA3B,EAA8B;AAC5B,QAAID,CAAC,CAACsC,MAAF,KAAarC,CAAC,CAACqC,MAAnB,EAA2B;AACzB,aAAO,KAAP;AACD;;AACD,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGvC,CAAC,CAACsC,MAAtB,EAA8BC,CAAC,EAA/B,EAAmC;AACjC,UAAIvC,CAAC,CAACuC,CAAD,CAAD,KAAStC,CAAC,CAACsC,CAAD,CAAd,EAAmB;AACjB,eAAO,KAAP;AACD;AACF;;AACD,WAAO,IAAP;AACD,GA/DkB,CAiEnB;;;AACA,MAAI8sD,aAAa,GAAG,EAApB;AAEA,MAAIC,oBAAoB,GAAG,IAA3B;;AACA,MAAI38C,QAAQ,CAAC48C,UAAb,EAAyB;AACvB;AACAD,wBAAoB,GAAGzB,YAAY,CAACl7C,QAAQ,CAAC48C,UAAV,EAAsB;AACvDC,oBADuD,0BACxCjmB,EADwC,EACpC96B,IADoC,EAC9B;AACvB,YAAMw/C,gBAAgB,GAAGx/C,IAAI,CAAC,CAAD,CAA7B;AACA,YAAMghD,iBAAiB,GAAGhhD,IAAI,CAAC,CAAD,CAA9B;;AACA,YAAI0/C,cAAc,CAACF,gBAAD,CAAd,KAAqC3wD,0CAAzC,EAAoE;AAClE,iBAAOisC,EAAE,CAAC3yB,KAAH,CAAS,IAAT,EAAenI,IAAf,CAAP;AACD;;AACD,YAAIghD,iBAAiB,CAACC,gBAAlB,KAAuCvtD,SAA3C,EAAsD;AACpD;AACA,iBAAOonC,EAAE,CAAC3yB,KAAH,CAAS,IAAT,EAAenI,IAAf,CAAP;AACD;;AAED,YAAMnL,EAAE,GAAG4rD,KAAK,CAACjB,gBAAD,CAAhB,CAXuB,CAYvB;;AACA,YAAM1qD,QAAQ,GACZ8rD,aAAa,CAAC/sD,MAAd,GAAuB,CAAvB,GACI+sD,aAAa,CAACA,aAAa,CAAC/sD,MAAd,GAAuB,CAAxB,CADjB,GAEI,CAHN;AAIA2yB,mBAAW,CAACg5B,gBAAD,EAAmB3qD,EAAnB,EAAuBC,QAAvB,CAAX;AACA8rD,qBAAa,CAACjsD,IAAd,CAAmBE,EAAnB,EAlBuB,CAoBvB;;AACAsrD,mCAA2B,CAACntD,GAA5B,CACEwsD,gBADF,EAEEiB,KAAK,CAACO,iBAAiB,CAACC,gBAAnB,CAFP;;AAKA,YAAI;AACF,cAAMxwC,MAAM,GAAGqqB,EAAE,CAAC3yB,KAAH,CAAS,IAAT,EAAenI,IAAf,CAAf;AACA4gD,uBAAa,CAACxpD,GAAd;AACA,iBAAOqZ,MAAP;AACD,SAJD,CAIE,OAAO7R,GAAP,EAAY;AACZgiD,uBAAa,GAAG,EAAhB;AACA,gBAAMhiD,GAAN;AACD,SAPD,SAOU;AACR,cAAIgiD,aAAa,CAAC/sD,MAAd,KAAyB,CAA7B,EAAgC;AAC9B,gBAAMM,MAAM,GAAGgsD,2BAA2B,CAACttD,GAA5B,CAAgC2sD,gBAAhC,CAAf;;AACA,gBAAIrrD,MAAM,KAAKT,SAAf,EAA0B;AACxB,oBAAM,IAAI6B,KAAJ,CAAU,2BAAV,CAAN;AACD;;AACD6nB,8BAAkB,CAACjpB,MAAD,CAAlB;AACD;AACF;AACF,OA3CsD;AA4CvD+sD,8BA5CuD,oCA4C9BpmB,EA5C8B,EA4C1B96B,IA5C0B,EA4CpB;AACjC,YAAMw/C,gBAAgB,GAAGx/C,IAAI,CAAC,CAAD,CAA7B;;AACA,YAAI0/C,cAAc,CAACF,gBAAD,CAAd,KAAqC3wD,0CAAzC,EAAoE;AAClE,iBAAOisC,EAAE,CAAC3yB,KAAH,CAAS,IAAT,EAAenI,IAAf,CAAP;AACD;;AAED,YAAMnL,EAAE,GAAG4rD,KAAK,CAACjB,gBAAD,CAAhB;AACAoB,qBAAa,CAACjsD,IAAd,CAAmBE,EAAnB;AAEA,YAAMssD,YAAY,GAAGtB,WAAW,CAACL,gBAAD,CAAhC;;AACA,YAAI;AACF,cAAM/uC,MAAM,GAAGqqB,EAAE,CAAC3yB,KAAH,CAAS,IAAT,EAAenI,IAAf,CAAf;AAEA,cAAMupB,YAAY,GAAGs2B,WAAW,CAACL,gBAAD,CAAhC;;AACA,cAAI,CAACmB,cAAc,CAACQ,YAAD,EAAe53B,YAAf,CAAnB,EAAiD;AAC/C;AACA63B,yBAAa,CAAC5B,gBAAD,EAAmB3qD,EAAnB,EAAuB00B,YAAvB,CAAb;AACD;;AAEDq3B,uBAAa,CAACxpD,GAAd;AACA,iBAAOqZ,MAAP;AACD,SAXD,CAWE,OAAO7R,GAAP,EAAY;AACZgiD,uBAAa,GAAG,EAAhB;AACA,gBAAMhiD,GAAN;AACD,SAdD,SAcU;AACR,cAAIgiD,aAAa,CAAC/sD,MAAd,KAAyB,CAA7B,EAAgC;AAC9B,gBAAMM,MAAM,GAAGgsD,2BAA2B,CAACttD,GAA5B,CAAgC2sD,gBAAhC,CAAf;;AACA,gBAAIrrD,MAAM,KAAKT,SAAf,EAA0B;AACxB,oBAAM,IAAI6B,KAAJ,CAAU,2BAAV,CAAN;AACD;;AACD6nB,8BAAkB,CAACjpB,MAAD,CAAlB;AACD;AACF;AACF,OA7EsD;AA8EvDktD,sBA9EuD,4BA8EtCvmB,EA9EsC,EA8ElC96B,IA9EkC,EA8E5B;AACzB,YAAMw/C,gBAAgB,GAAGx/C,IAAI,CAAC,CAAD,CAA7B;;AACA,YAAI0/C,cAAc,CAACF,gBAAD,CAAd,KAAqC3wD,0CAAzC,EAAoE;AAClE,iBAAOisC,EAAE,CAAC3yB,KAAH,CAAS,IAAT,EAAenI,IAAf,CAAP;AACD;;AAED,YAAMnL,EAAE,GAAG4rD,KAAK,CAACjB,gBAAD,CAAhB;AACAoB,qBAAa,CAACjsD,IAAd,CAAmBE,EAAnB;AAEA,YAAMssD,YAAY,GAAGtB,WAAW,CAACL,gBAAD,CAAhC;;AACA,YAAI;AACF,cAAM/uC,MAAM,GAAGqqB,EAAE,CAAC3yB,KAAH,CAAS,IAAT,EAAenI,IAAf,CAAf;AAEA,cAAMupB,YAAY,GAAGs2B,WAAW,CAACL,gBAAD,CAAhC;;AACA,cAAI,CAACmB,cAAc,CAACQ,YAAD,EAAe53B,YAAf,CAAnB,EAAiD;AAC/C;AACA63B,yBAAa,CAAC5B,gBAAD,EAAmB3qD,EAAnB,EAAuB00B,YAAvB,CAAb;AACD;;AAEDq3B,uBAAa,CAACxpD,GAAd;AACA,iBAAOqZ,MAAP;AACD,SAXD,CAWE,OAAO7R,GAAP,EAAY;AACZgiD,uBAAa,GAAG,EAAhB;AACA,gBAAMhiD,GAAN;AACD,SAdD,SAcU;AACR,cAAIgiD,aAAa,CAAC/sD,MAAd,KAAyB,CAA7B,EAAgC;AAC9B,gBAAMM,MAAM,GAAGgsD,2BAA2B,CAACttD,GAA5B,CAAgC2sD,gBAAhC,CAAf;;AACA,gBAAIrrD,MAAM,KAAKT,SAAf,EAA0B;AACxB,oBAAM,IAAI6B,KAAJ,CAAU,2BAAV,CAAN;AACD;;AACD6nB,8BAAkB,CAACjpB,MAAD,CAAlB;AACD;AACF;AACF,OA/GsD;AAgHvDmtD,sBAhHuD,4BAgHtCxmB,EAhHsC,EAgHlC96B,IAhHkC,EAgH5B;AACzB,YAAMw/C,gBAAgB,GAAGx/C,IAAI,CAAC,CAAD,CAA7B;;AACA,YAAI0/C,cAAc,CAACF,gBAAD,CAAd,KAAqC3wD,0CAAzC,EAAoE;AAClE,iBAAOisC,EAAE,CAAC3yB,KAAH,CAAS,IAAT,EAAenI,IAAf,CAAP;AACD;;AAED,YAAMnL,EAAE,GAAG4rD,KAAK,CAACjB,gBAAD,CAAhB;AACAoB,qBAAa,CAACjsD,IAAd,CAAmBE,EAAnB;;AACA,YAAI;AACF,cAAM4b,MAAM,GAAGqqB,EAAE,CAAC3yB,KAAH,CAAS,IAAT,EAAenI,IAAf,CAAf;AACA4gD,uBAAa,CAACxpD,GAAd,GAFE,CAIF;;AACA+vB,uBAAa,CAACq4B,gBAAD,EAAmB3qD,EAAnB,CAAb;AAEA,iBAAO4b,MAAP;AACD,SARD,CAQE,OAAO7R,GAAP,EAAY;AACZgiD,uBAAa,GAAG,EAAhB;AACA,gBAAMhiD,GAAN;AACD,SAXD,SAWU;AACR,cAAIgiD,aAAa,CAAC/sD,MAAd,KAAyB,CAA7B,EAAgC;AAC9B,gBAAMM,MAAM,GAAGgsD,2BAA2B,CAACttD,GAA5B,CAAgC2sD,gBAAhC,CAAf;;AACA,gBAAIrrD,MAAM,KAAKT,SAAf,EAA0B;AACxB,oBAAM,IAAI6B,KAAJ,CAAU,2BAAV,CAAN;AACD;;AACD6nB,8BAAkB,CAACjpB,MAAD,CAAlB;AACD;AACF;AACF;AA5IsD,KAAtB,CAAnC;AA8ID;;AAED,WAASs2B,OAAT,GAAmB;AACjB,QAAIo2B,oBAAoB,KAAK,IAA7B,EAAmC;AACjC,UAAI38C,QAAQ,CAACs6B,SAAb,EAAwB;AACtB+gB,mBAAW,CAACr7C,QAAQ,CAACs6B,SAAT,CAAmB+iB,KAApB,EAA2BV,oBAA3B,CAAX;AACD,OAFD,MAEO;AACLtB,mBAAW,CAACr7C,QAAQ,CAAC48C,UAAV,EAAsBD,oBAAtB,CAAX;AACD;AACF;;AACDA,wBAAoB,GAAG,IAAvB;AACD;;AAED,WAASr6B,WAAT,CACEg5B,gBADF,EAEE3qD,EAFF,EAGEC,QAHF,EAIE;AACA,QAAM2xB,MAAM,GAAG3xB,QAAQ,KAAK,CAA5B;;AAEA,QAAIrI,8BAAJ,EAAe;AACb+I,aAAO,CAACC,GAAR,CACE,iBADF,EAEE,kCAFF,EAGEZ,EAHF,EAIE0jC,OAAO,CAACinB,gBAAD,CAAP,CAA0B1sD,WAJ5B;AAMD;;AAED,QAAI2zB,MAAJ,EAAY;AACV;AACA,UAAMC,gBAAgB,GACpB84B,gBAAgB,CAACC,eAAjB,IAAoC,IAApC,IACAD,gBAAgB,CAACC,eAAjB,CAAiCxT,MAAjC,IAA2C,IAF7C;AAIA9rB,mBAAa,CAACxzB,uCAAD,CAAb;AACAwzB,mBAAa,CAACtrB,EAAD,CAAb;AACAsrB,mBAAa,CAACpxB,gCAAD,CAAb;AACAoxB,mBAAa,CAAC,CAAD,CAAb,CATU,CASQ;;AAClBA,mBAAa,CAACuG,gBAAgB,GAAG,CAAH,GAAO,CAAxB,CAAb;AACD,KAXD,MAWO;AACL,UAAMh0B,IAAI,GAAGgtD,cAAc,CAACF,gBAAD,CAA3B;;AADK,qBAEsBjnB,OAAO,CAACinB,gBAAD,CAF7B;AAAA,UAEE1sD,WAFF,YAEEA,WAFF;AAAA,UAEeT,GAFf,YAEeA,GAFf;;AAIL,UAAM00B,OAAO,GACXy4B,gBAAgB,CAACC,eAAjB,IAAoC,IAApC,IACAD,gBAAgB,CAACC,eAAjB,CAAiCxT,MAAjC,IAA2C,IAD3C,GAEIwU,KAAK,CAACjB,gBAAgB,CAACC,eAAjB,CAAiCxT,MAAlC,CAFT,GAGI,CAJN;AAMA,UAAMl3C,mBAAmB,GAAGqxB,WAAW,CAACtzB,WAAD,CAAvC;AACA,UAAMm0B,WAAW,GAAGb,WAAW,CAAC/zB,GAAD,CAA/B;AACA8tB,mBAAa,CAACxzB,uCAAD,CAAb;AACAwzB,mBAAa,CAACtrB,EAAD,CAAb;AACAsrB,mBAAa,CAACztB,IAAD,CAAb;AACAytB,mBAAa,CAACrrB,QAAD,CAAb;AACAqrB,mBAAa,CAAC4G,OAAD,CAAb;AACA5G,mBAAa,CAACprB,mBAAD,CAAb;AACAorB,mBAAa,CAAC8G,WAAD,CAAb;AACD;AACF;;AAED,WAASm6B,aAAT,CACE5B,gBADF,EAEE3qD,EAFF,EAGE00B,YAHF,EAIE;AACApJ,iBAAa,CAACtzB,oDAAD,CAAb;AACAszB,iBAAa,CAACtrB,EAAD,CAAb;AACA,QAAM2sD,YAAY,GAAGj4B,YAAY,CAACjnB,GAAb,CAAiBm+C,KAAjB,CAArB;AACAtgC,iBAAa,CAACqhC,YAAY,CAAC3tD,MAAd,CAAb;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0tD,YAAY,CAAC3tD,MAAjC,EAAyCC,CAAC,EAA1C,EAA8C;AAC5CqsB,mBAAa,CAACqhC,YAAY,CAAC1tD,CAAD,CAAb,CAAb;AACD;AACF;;AAED,WAASqzB,aAAT,CAAuBq4B,gBAAvB,EAA2D3qD,EAA3D,EAAuE;AACrE4sD,uBAAmB,CAAC9sD,IAApB,CAAyBE,EAAzB;AACAorD,2BAAuB,CAACxiC,MAAxB,CAA+B5oB,EAA/B;AACD;;AAED,WAAS6sD,2BAAT,CACE7sD,EADF,EAEEC,QAFF,EAGEX,MAHF,EAIE;AACA,QAAI1H,8BAAJ,EAAe;AACb+I,aAAO,CAACunC,KAAR,CAAc,mCAAd,EAAmDloC,EAAnD;AACD;;AAED,QAAM2qD,gBAAgB,GAAGS,uBAAuB,CAACptD,GAAxB,CAA4BgC,EAA5B,CAAzB;;AACA,QAAI2qD,gBAAgB,IAAI,IAAxB,EAA8B;AAC5BW,iCAA2B,CAACntD,GAA5B,CAAgCwsD,gBAAhC,EAAkDrrD,MAAlD;AACAqyB,iBAAW,CAACg5B,gBAAD,EAAmB3qD,EAAnB,EAAuBC,QAAvB,CAAX;AACA+qD,iBAAW,CAACL,gBAAD,CAAX,CAA8BptD,OAA9B,CAAsC,UAAAgxB,KAAK;AAAA,eACzCs+B,2BAA2B,CAACjB,KAAK,CAACr9B,KAAD,CAAN,EAAevuB,EAAf,EAAmBV,MAAnB,CADc;AAAA,OAA3C;AAGD;;AAED,QAAI1H,8BAAJ,EAAe;AACb+I,aAAO,CAAC2pB,QAAR;AACD;AACF;;AAED,WAASyL,sBAAT,GAAkC;AAChC;AAEA,QAAM6zB,KAAK,GACTv6C,QAAQ,CAACy5C,KAAT,CAAegE,uBAAf,IACAz9C,QAAQ,CAACy5C,KAAT,CAAeiE,uBAFjB;;AAIA,SAAK,IAAMvvD,GAAX,IAAkBosD,KAAlB,EAAyB;AACvB,UAAMe,gBAAgB,GAAGf,KAAK,CAACpsD,GAAD,CAA9B;;AACA,UAAMwC,IAAE,GAAG4rD,KAAK,CAACjB,gBAAD,CAAhB;;AACAkC,iCAA2B,CAAC7sD,IAAD,EAAK,CAAL,EAAQA,IAAR,CAA3B;AACAuoB,wBAAkB,CAACvoB,IAAD,CAAlB;AACD;AACF;;AAED,MAAM8vB,iBAAgC,GAAG,EAAzC;AACA,MAAMI,kBAAuC,GAAG,IAAIvhB,GAAJ,EAAhD;AACA,MAAIi+C,mBAAkC,GAAG,EAAzC;AACA,MAAIz8B,wBAAgC,GAAG,CAAvC;AACA,MAAIC,sBAAqC,GAAG,IAA5C;;AAEA,WAAS7H,kBAAT,CAA4BjpB,MAA5B,EAA4C;AAC1C,QACEwwB,iBAAiB,CAAC9wB,MAAlB,KAA6B,CAA7B,IACA4tD,mBAAmB,CAAC5tD,MAApB,KAA+B,CAD/B,IAEAoxB,sBAAsB,KAAK,IAH7B,EAIE;AACA;AACD;;AAED,QAAMiB,aAAa,GACjBu7B,mBAAmB,CAAC5tD,MAApB,IAA8BoxB,sBAAsB,KAAK,IAA3B,GAAkC,CAAlC,GAAsC,CAApE,CADF;AAGA,QAAMhxB,UAAU,GAAG,IAAIL,KAAJ,EACjB;AACA,QAAI;AACJ;AACA,KAFA,GAEI;AACF;AACAoxB,4BAJF,KAKE;AACA;AACCkB,iBAAa,GAAG,CAAhB,GAAoB,IAAIA,aAAxB,GAAwC,CAP3C,IAQE;AACAvB,qBAAiB,CAAC9wB,MAXH,CAAnB,CAZ0C,CA0B1C;AACA;AACA;;AACA,QAAIC,CAAC,GAAG,CAAR;AACAG,cAAU,CAACH,CAAC,EAAF,CAAV,GAAkBI,UAAlB;AACAD,cAAU,CAACH,CAAC,EAAF,CAAV,GAAkBK,MAAlB,CA/B0C,CAiC1C;AACA;;AACAF,cAAU,CAACH,CAAC,EAAF,CAAV,GAAkBkxB,wBAAlB;AACAD,sBAAkB,CAAC3yB,OAAnB,CAA2B,UAACuD,KAAD,EAAQtD,GAAR,EAAgB;AACzC4B,gBAAU,CAACH,CAAC,EAAF,CAAV,GAAkBzB,GAAG,CAACwB,MAAtB;AACA,UAAMsyB,UAAU,GAAG5yB,4CAAe,CAAClB,GAAD,CAAlC;;AACA,WAAK,IAAIkzB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGY,UAAU,CAACtyB,MAA/B,EAAuC0xB,CAAC,EAAxC,EAA4C;AAC1CtxB,kBAAU,CAACH,CAAC,GAAGyxB,CAAL,CAAV,GAAoBY,UAAU,CAACZ,CAAD,CAA9B;AACD;;AACDzxB,OAAC,IAAIzB,GAAG,CAACwB,MAAT;AACD,KAPD;;AASA,QAAIqyB,aAAa,GAAG,CAApB,EAAuB;AACrB;AACAjyB,gBAAU,CAACH,CAAC,EAAF,CAAV,GAAkBlH,0CAAlB,CAFqB,CAGrB;;AACAqH,gBAAU,CAACH,CAAC,EAAF,CAAV,GAAkBoyB,aAAlB,CAJqB,CAKrB;;AACA,WAAK,IAAIX,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGk8B,mBAAmB,CAAC5tD,MAAxC,EAAgD0xB,CAAC,EAAjD,EAAqD;AACnDtxB,kBAAU,CAACH,CAAC,EAAF,CAAV,GAAkB2tD,mBAAmB,CAACl8B,CAAD,CAArC;AACD,OARoB,CASrB;;;AACA,UAAIN,sBAAsB,KAAK,IAA/B,EAAqC;AACnChxB,kBAAU,CAACH,CAAD,CAAV,GAAgBmxB,sBAAhB;AACAnxB,SAAC;AACF;AACF,KA3DyC,CA6D1C;;;AACA,SAAK,IAAIyxB,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGZ,iBAAiB,CAAC9wB,MAAtC,EAA8C0xB,EAAC,EAA/C,EAAmD;AACjDtxB,gBAAU,CAACH,CAAC,GAAGyxB,EAAL,CAAV,GAAoBZ,iBAAiB,CAACY,EAAD,CAArC;AACD;;AACDzxB,KAAC,IAAI6wB,iBAAiB,CAAC9wB,MAAvB;;AAEA,QAAIpH,8BAAJ,EAAe;AACbuH,uDAAoB,CAACC,UAAD,CAApB;AACD,KArEyC,CAuE1C;;;AACA2nB,QAAI,CAACc,IAAL,CAAU,YAAV,EAAwBzoB,UAAxB;AAEA0wB,qBAAiB,CAAC9wB,MAAlB,GAA2B,CAA3B;AACA4tD,uBAAmB,GAAG,EAAtB;AACAx8B,0BAAsB,GAAG,IAAzB;AACAF,sBAAkB,CAAC5H,KAAnB;AACA6H,4BAAwB,GAAG,CAA3B;AACD;;AAED,WAAS7E,aAAT,CAAuB3R,EAAvB,EAAyC;AACvC,QAAI0W,KAAJ,EAAa,EAOZ;;AACDP,qBAAiB,CAAChwB,IAAlB,CAAuB6Z,EAAvB;AACD;;AAED,WAAS4X,WAAT,CAAqBC,GAArB,EAAiD;AAC/C,QAAIA,GAAG,KAAK,IAAZ,EAAkB;AAChB,aAAO,CAAP;AACD;;AACD,QAAMC,UAAU,GAAGvB,kBAAkB,CAAClyB,GAAnB,CAAuBwzB,GAAvB,CAAnB;;AACA,QAAIC,UAAU,KAAK5yB,SAAnB,EAA8B;AAC5B,aAAO4yB,UAAP;AACD;;AACD,QAAMC,QAAQ,GAAGxB,kBAAkB,CAACzpB,IAAnB,GAA0B,CAA3C;AACAypB,sBAAkB,CAAC/xB,GAAnB,CAAuBqzB,GAAvB,EAA4BE,QAA5B,EAT+C,CAU/C;AACA;AACA;;AACAvB,4BAAwB,IAAIqB,GAAG,CAACxyB,MAAJ,GAAa,CAAzC;AACA,WAAO0yB,QAAP;AACD;;AAED,MAAIs7B,2BAA0C,GAAG,IAAjD;AACA,MAAI7xB,uBAA+B,GAAG,EAAtC,CAjcmB,CAmcnB;AACA;;AACA,WAASE,mBAAT,CAA6Bt4B,IAA7B,EAA2D;AACzD,QAAI9F,OAAO,GAAGk+B,uBAAd;AACAp4B,QAAI,CAACxF,OAAL,CAAa,UAAAC,GAAG,EAAI;AAClB,UAAI,CAACP,OAAO,CAACO,GAAD,CAAZ,EAAmB;AACjBP,eAAO,CAACO,GAAD,CAAP,GAAe,EAAf;AACD;;AACDP,aAAO,GAAGA,OAAO,CAACO,GAAD,CAAjB;AACD,KALD;AAMD;;AAED,WAAS89B,mBAAT,CAA6B99B,GAA7B,EAA0C;AACxC;AACA;AACA,WAAO,SAASwL,aAAT,CAAuBjG,IAAvB,EAA8D;AACnE,UAAI9F,OAAO,GAAGk+B,uBAAuB,CAAC39B,GAAD,CAArC;;AACA,UAAI,CAACP,OAAL,EAAc;AACZ,eAAO,KAAP;AACD;;AACD,WAAK,IAAIgC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8D,IAAI,CAAC/D,MAAzB,EAAiCC,CAAC,EAAlC,EAAsC;AACpChC,eAAO,GAAGA,OAAO,CAAC8F,IAAI,CAAC9D,CAAD,CAAL,CAAjB;;AACA,YAAI,CAAChC,OAAL,EAAc;AACZ,iBAAO,KAAP;AACD;AACF;;AACD,aAAO,IAAP;AACD,KAZD;AAaD,GA/dkB,CAienB;;;AACA,WAAS47B,mBAAT,CAA6B74B,EAA7B,EAA2D;AACzD,QAAIkuB,QAAQ,GAAG,IAAf;AACA,QAAI4K,KAAK,GAAG,IAAZ;AAEA,QAAM6xB,gBAAgB,GAAGS,uBAAuB,CAACptD,GAAxB,CAA4BgC,EAA5B,CAAzB;;AACA,QAAI2qD,gBAAgB,IAAI,IAAxB,EAA8B;AAC5Bz8B,cAAQ,GAAGy8B,gBAAgB,CAACsC,SAAjB,IAA8B,IAAzC;AAEA,UAAMnoD,OAAO,GAAG6lD,gBAAgB,CAACC,eAAjC;;AACA,UAAI9lD,OAAO,IAAI,IAAX,IAAmBA,OAAO,CAACqoB,KAAR,IAAiB,IAAxC,EAA8C;AAC5C2L,aAAK,GAAGh0B,OAAO,CAACqoB,KAAR,CAAc2L,KAAd,IAAuB,IAA/B;AACD;AACF;;AAED,WAAO;AACL5K,cAAQ,EAARA,QADK;AAEL4K,WAAK,EAALA;AAFK,KAAP;AAID;;AAED,WAAS0C,qBAAT,CAA+Bx7B,EAA/B,EAAiD;AAC/C,QAAM2qD,gBAAgB,GAAGS,uBAAuB,CAACptD,GAAxB,CAA4BgC,EAA5B,CAAzB;;AACA,QAAI2qD,gBAAgB,IAAI,IAAxB,EAA8B;AAC5BhqD,aAAO,CAACoqB,IAAR,6CAAiD/qB,EAAjD;AACA;AACD;;AAED,YAAQ6qD,cAAc,CAACF,gBAAD,CAAtB;AACE,WAAKjxD,iCAAL;AACEuV,cAAM,CAACysB,EAAP,GAAYivB,gBAAgB,CAACsC,SAA7B;AACA;;AACF,WAAKrzD,oCAAL;AACE,YAAMkL,OAAO,GAAG6lD,gBAAgB,CAACC,eAAjC;;AACA,YAAI9lD,OAAO,IAAI,IAAf,EAAqB;AACnBnE,iBAAO,CAACoqB,IAAR,4CAAgD/qB,EAAhD;AACA;AACD;;AAEDiP,cAAM,CAACysB,EAAP,GAAY;AACVvO,eAAK,EAAEroB,OAAO,CAACqoB,KADL;AAEVtvB,cAAI,EAAEiH,OAAO,CAACjH;AAFJ,SAAZ;AAIA;;AACF;AACEoR,cAAM,CAACysB,EAAP,GAAY,IAAZ;AACA;AAlBJ;AAoBD;;AAED,WAASC,aAAT,CACE37B,EADF,EAEE+C,IAFF,EAGEwmB,KAHF,EAIQ;AACN,QAAMkS,gBAAgB,GAAGtC,iBAAiB,CAACn5B,EAAD,CAA1C;;AACA,QAAIy7B,gBAAgB,KAAK,IAAzB,EAA+B;AAC7B,UAAM36B,KAAK,GAAG+B,wCAAW,CAAC44B,gBAAD,EAAmB14B,IAAnB,CAAzB;AACA,UAAMvF,GAAG,uBAAgB+rB,KAAhB,CAAT;AAEA3f,YAAM,CAACpM,GAAD,CAAN,GAAcsD,KAAd;AAEAH,aAAO,CAACC,GAAR,CAAYpD,GAAZ;AACAmD,aAAO,CAACC,GAAR,CAAYE,KAAZ;AACD;AACF;;AAED,WAAS86B,eAAT,CAAyB57B,EAAzB,EAAqC+C,IAArC,EAAyE;AACvE,QAAM04B,gBAAgB,GAAGtC,iBAAiB,CAACn5B,EAAD,CAA1C;;AACA,QAAIy7B,gBAAgB,KAAK,IAAzB,EAA+B;AAC7BlyB,8CAAe,CAAC1G,wCAAW,CAAC44B,gBAAD,EAAmB14B,IAAnB,CAAZ,CAAf;AACD;AACF;;AAED,WAAS84B,cAAT,CACEC,SADF,EAEE97B,EAFF,EAGE+C,IAHF,EAI2B;AACzB,QAAIiqD,2BAA2B,KAAKhtD,EAApC,EAAwC;AACtCgtD,iCAA2B,GAAGhtD,EAA9B;AACAm7B,6BAAuB,GAAG,EAA1B;AACD;;AAED,QAAMM,gBAAgB,GAAGtC,iBAAiB,CAACn5B,EAAD,CAA1C;;AACA,QAAIy7B,gBAAgB,KAAK,IAAzB,EAA+B;AAC7B,aAAO;AACLz7B,UAAE,EAAFA,EADK;AAEL+7B,kBAAU,EAAED,SAFP;AAGLj+B,YAAI,EAAE;AAHD,OAAP;AAKD;;AAED,QAAIkF,IAAI,KAAK,IAAb,EAAmB;AACjBs4B,yBAAmB,CAACt4B,IAAD,CAAnB;AACD,KAjBwB,CAmBzB;AACA;AACA;;;AACAy4B,yBAAqB,CAACx7B,EAAD,CAArB;AAEAy7B,oBAAgB,CAAC7U,OAAjB,GAA2B7d,uCAAc,CACvC0yB,gBAAgB,CAAC7U,OADsB,EAEvC0U,mBAAmB,CAAC,SAAD,CAFoB,CAAzC;AAIAG,oBAAgB,CAACtO,KAAjB,GAAyBpkB,uCAAc,CACrC0yB,gBAAgB,CAACtO,KADoB,EAErCmO,mBAAmB,CAAC,OAAD,CAFkB,CAAvC;AAIAG,oBAAgB,CAACrO,KAAjB,GAAyBrkB,uCAAc,CACrC0yB,gBAAgB,CAACrO,KADoB,EAErCkO,mBAAmB,CAAC,OAAD,CAFkB,CAAvC;AAKA,WAAO;AACLt7B,QAAE,EAAFA,EADK;AAEL+7B,gBAAU,EAAED,SAFP;AAGLj+B,UAAI,EAAE,WAHD;AAILiD,WAAK,EAAE26B;AAJF,KAAP;AAMD;;AAED,WAAStC,iBAAT,CAA2Bn5B,EAA3B,EAAgE;AAC9D,QAAM2qD,gBAAgB,GAAGS,uBAAuB,CAACptD,GAAxB,CAA4BgC,EAA5B,CAAzB;;AAEA,QAAI2qD,gBAAgB,IAAI,IAAxB,EAA8B;AAC5B,aAAO,IAAP;AACD;;AAL6D,oBAOnCjnB,OAAO,CAACinB,gBAAD,CAP4B;AAAA,QAOvD1sD,WAPuD,aAOvDA,WAPuD;AAAA,QAO1CT,GAP0C,aAO1CA,GAP0C;;AAQ9D,QAAMK,IAAI,GAAGgtD,cAAc,CAACF,gBAAD,CAA3B;AAEA,QAAI/jC,OAAO,GAAG,IAAd;AACA,QAAI+R,MAAM,GAAG,IAAb;AACA,QAAIxL,KAAK,GAAG,IAAZ;AACA,QAAIC,KAAK,GAAG,IAAZ;AACA,QAAIrf,MAAM,GAAG,IAAb;AAEA,QAAMjJ,OAAO,GAAG6lD,gBAAgB,CAACC,eAAjC;;AACA,QAAI9lD,OAAO,KAAK,IAAhB,EAAsB;AACpBqoB,WAAK,GAAGroB,OAAO,CAACqoB,KAAhB;AACApf,YAAM,GAAGjJ,OAAO,CAAC8sC,OAAR,IAAmB,IAAnB,GAA0B9sC,OAAO,CAAC8sC,OAAlC,GAA4C,IAArD;AAEA,UAAIhZ,KAAK,GAAG9zB,OAAO,CAACsyC,MAApB;;AACA,UAAIxe,KAAJ,EAAW;AACTD,cAAM,GAAG,EAAT;;AACA,eAAOC,KAAK,IAAI,IAAhB,EAAsB;AACpBD,gBAAM,CAAC74B,IAAP,CAAY;AACV7B,uBAAW,EAAEylC,OAAO,CAAC9K,KAAD,CAAP,CAAe36B,WAAf,IAA8B,SADjC;AAEV+B,cAAE,EAAE4rD,KAAK,CAAChzB,KAAD,CAFC;AAGVp7B,eAAG,EAAEsH,OAAO,CAACtH,GAHH;AAIVK,gBAAI,EAAEgtD,cAAc,CAACjyB,KAAD;AAJV,WAAZ;;AAMA,cAAIA,KAAK,CAACgyB,eAAV,EAA2B;AACzBhyB,iBAAK,GAAGA,KAAK,CAACgyB,eAAN,CAAsBxT,MAA9B;AACD;AACF;AACF;AACF;;AAED,QAAM0T,cAAc,GAAGH,gBAAgB,CAACsC,SAAxC;;AACA,QAAInC,cAAc,IAAI,IAAtB,EAA4B;AAC1BlkC,aAAO,GAAGkkC,cAAc,CAAClkC,OAAf,IAA0B,IAApC;AACAwG,WAAK,GAAG09B,cAAc,CAAC19B,KAAf,IAAwB,IAAhC;AACD,KA1C6D,CA4C9D;;;AACA,QAAM+M,MAAM,GAAG,EAAf;AACA,QAAMC,QAAQ,GAAG,EAAjB;AAEA,WAAO;AACLp6B,QAAE,EAAFA,EADK;AAGL;AACAu6B,kBAAY,EAAE,KAJT;AAKLC,0BAAoB,EAAE,KALjB;AAOL;AACAC,gCAA0B,EAAE,KARvB;AASLC,gCAA0B,EAAE,KATvB;AAULC,qCAA+B,EAAE,KAV5B;AAWLC,qCAA+B,EAAE,KAX5B;AAaL;AACAC,oBAAc,EAAE,KAdX;AAeLR,eAAS,EAAE,KAfN;AAgBLC,2BAAqB,EAAE,IAhBlB;AAkBL;AACAQ,uBAAiB,EAAE,KAnBd;AAqBL;AACAxB,mBAAa,EAAEz7B,IAAI,KAAKnE,iCAAT,IAA6BmE,IAAI,KAAKjE,oCAtBhD;AAwBL;AACAkgC,sBAAgB,EAAE,IAzBb;AA2BL77B,iBAAW,EAAEA,WA3BR;AA6BLJ,UAAI,EAAEA,IA7BD;AA+BLL,SAAG,EAAEA,GAAG,IAAI,IAAP,GAAcA,GAAd,GAAoB,IA/BpB;AAiCL;AACAopB,aAAO,EAAPA,OAlCK;AAmCL8G,WAAK,EAAE,IAnCF;AAoCLP,WAAK,EAALA,KApCK;AAqCLC,WAAK,EAALA,KArCK;AAsCL+M,YAAM,EAANA,MAtCK;AAuCLC,cAAQ,EAARA,QAvCK;AAyCL;AACAzB,YAAM,EAANA,MA1CK;AA4CL;AACA5qB,YAAM,EAANA,MA7CK;AA+CLisB,cAAQ,EAAE,IA/CL;AAgDLiB,yBAAmB,EAAE,IAhDhB;AAiDLC,qBAAe,EAAE;AAjDZ,KAAP;AAmDD;;AAED,WAASe,mBAAT,CAA6Bj8B,EAA7B,EAA+C;AAC7C,QAAM4b,MAAM,GAAGud,iBAAiB,CAACn5B,EAAD,CAAhC;;AACA,QAAI4b,MAAM,KAAK,IAAf,EAAqB;AACnBjb,aAAO,CAACoqB,IAAR,4CAAgD/qB,EAAhD;AACA;AACD;;AAED,QAAMk8B,aAAa,GAAG,OAAOv7B,OAAO,CAACypB,cAAf,KAAkC,UAAxD;;AACA,QAAI8R,aAAJ,EAAmB;AACjBv7B,aAAO,CAACypB,cAAR,gCAC0BxO,MAAM,CAAC3d,WAAP,IAAsB,WADhD,UAEE;AACA,8DAHF;AAKD;;AACD,QAAI2d,MAAM,CAACuR,KAAP,KAAiB,IAArB,EAA2B;AACzBxsB,aAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBgb,MAAM,CAACuR,KAA7B;AACD;;AACD,QAAIvR,MAAM,CAACwR,KAAP,KAAiB,IAArB,EAA2B;AACzBzsB,aAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBgb,MAAM,CAACwR,KAA7B;AACD;;AACD,QAAIxR,MAAM,CAACgL,OAAP,KAAmB,IAAvB,EAA6B;AAC3BjmB,aAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBgb,MAAM,CAACgL,OAA/B;AACD;;AACD,QAAMsmC,UAAU,GAAG1B,2BAA2B,CAACxrD,EAAD,CAA9C;;AACA,QAAIktD,UAAU,KAAK,IAAnB,EAAyB;AACvBvsD,aAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBssD,UAArB;AACD;;AACD,QAAItjD,MAAM,CAACwyB,MAAP,IAAiB,WAAW3tB,IAAX,CAAgB4tB,SAAS,CAACC,SAA1B,CAArB,EAA2D;AACzD37B,aAAO,CAACC,GAAR,CACE,+EADF;AAGD;;AACD,QAAIs7B,aAAJ,EAAmB;AACjBv7B,aAAO,CAAC2pB,QAAR;AACD;AACF;;AAED,WAAS+N,0BAAT,CACEr4B,EADF,EAEE+C,IAFF,EAGQ;AACN,QAAM04B,gBAAgB,GAAGtC,iBAAiB,CAACn5B,EAAD,CAA1C;;AACA,QAAIy7B,gBAAgB,KAAK,IAAzB,EAA+B;AAC7B7xB,YAAM,CAAC2uB,UAAP,GAAoB11B,wCAAW,CAAC44B,gBAAD,EAAmB14B,IAAnB,CAA/B;AACD;AACF;;AAED,WAASy1B,wBAAT,CAAkCx4B,EAAlC,EAAoD;AAClD,QAAM2qD,gBAAgB,GAAGS,uBAAuB,CAACptD,GAAxB,CAA4BgC,EAA5B,CAAzB;;AACA,QAAI2qD,gBAAgB,IAAI,IAAxB,EAA8B;AAC5BhqD,aAAO,CAACoqB,IAAR,6CAAiD/qB,EAAjD;AACA;AACD;;AAED,QAAM8E,OAAO,GAAG6lD,gBAAgB,CAACC,eAAjC;;AACA,QAAI9lD,OAAO,IAAI,IAAf,EAAqB;AACnBnE,aAAO,CAACoqB,IAAR,4CAAgD/qB,EAAhD;AACA;AACD;;AAEDiP,UAAM,CAACwpB,KAAP,GAAe3zB,OAAO,CAACjH,IAAvB;AACD;;AAED,WAAS0+B,UAAT,CACE1+B,IADF,EAEEmC,EAFF,EAGEw8B,MAHF,EAIEz5B,IAJF,EAKQ;AACN,QAAM4nD,gBAAgB,GAAGS,uBAAuB,CAACptD,GAAxB,CAA4BgC,EAA5B,CAAzB;;AACA,QAAI2qD,gBAAgB,IAAI,IAAxB,EAA8B;AAC5B,UAAMG,cAAc,GAAGH,gBAAgB,CAACsC,SAAxC;;AACA,UAAInC,cAAc,IAAI,IAAtB,EAA4B;AAC1B,gBAAQjtD,IAAR;AACE,eAAK,SAAL;AACEyF,2DAAkB,CAACwnD,cAAc,CAAClkC,OAAhB,EAAyB7jB,IAAzB,CAAlB;AACA05B,uBAAW,CAACquB,cAAD,CAAX;AACA;;AACF,eAAK,OAAL;AACE,kBAAM,IAAIpqD,KAAJ,CAAU,sCAAV,CAAN;;AACF,eAAK,OAAL;AACE,gBAAMoE,OAAO,GAAG6lD,gBAAgB,CAACC,eAAjC;AACAD,4BAAgB,CAACC,eAAjB,mCACK9lD,OADL;AAEEqoB,mBAAK,EAAEljB,uCAAc,CAACnF,OAAO,CAACqoB,KAAT,EAAgBpqB,IAAhB;AAFvB;AAIA05B,uBAAW,CAACquB,cAAD,CAAX;AACA;;AACF,eAAK,OAAL;AACExnD,2DAAkB,CAACwnD,cAAc,CAAC19B,KAAhB,EAAuBrqB,IAAvB,CAAlB;AACA05B,uBAAW,CAACquB,cAAD,CAAX;AACA;AAlBJ;AAoBD;AACF;AACF;;AAED,WAASnuB,UAAT,CACE9+B,IADF,EAEEmC,EAFF,EAGEw8B,MAHF,EAIE54B,OAJF,EAKEC,OALF,EAMQ;AACN,QAAM8mD,gBAAgB,GAAGS,uBAAuB,CAACptD,GAAxB,CAA4BgC,EAA5B,CAAzB;;AACA,QAAI2qD,gBAAgB,IAAI,IAAxB,EAA8B;AAC5B,UAAMG,cAAc,GAAGH,gBAAgB,CAACsC,SAAxC;;AACA,UAAInC,cAAc,IAAI,IAAtB,EAA4B;AAC1B,gBAAQjtD,IAAR;AACE,eAAK,SAAL;AACE8F,2DAAkB,CAACmnD,cAAc,CAAClkC,OAAhB,EAAyBhjB,OAAzB,EAAkCC,OAAlC,CAAlB;AACA44B,uBAAW,CAACquB,cAAD,CAAX;AACA;;AACF,eAAK,OAAL;AACE,kBAAM,IAAIpqD,KAAJ,CAAU,sCAAV,CAAN;;AACF,eAAK,OAAL;AACE,gBAAMoE,OAAO,GAAG6lD,gBAAgB,CAACC,eAAjC;AACAD,4BAAgB,CAACC,eAAjB,mCACK9lD,OADL;AAEEqoB,mBAAK,EAAE/iB,uCAAc,CAACtF,OAAO,CAACqoB,KAAT,EAAgBvpB,OAAhB,EAAyBC,OAAzB;AAFvB;AAIA44B,uBAAW,CAACquB,cAAD,CAAX;AACA;;AACF,eAAK,OAAL;AACEnnD,2DAAkB,CAACmnD,cAAc,CAAC19B,KAAhB,EAAuBxpB,OAAvB,EAAgCC,OAAhC,CAAlB;AACA44B,uBAAW,CAACquB,cAAD,CAAX;AACA;AAlBJ;AAoBD;AACF;AACF;;AAED,WAASluB,mBAAT,CACE/+B,IADF,EAEEmC,EAFF,EAGEw8B,MAHF,EAIEz5B,IAJF,EAKEjC,KALF,EAMQ;AACN,QAAM6pD,gBAAgB,GAAGS,uBAAuB,CAACptD,GAAxB,CAA4BgC,EAA5B,CAAzB;;AACA,QAAI2qD,gBAAgB,IAAI,IAAxB,EAA8B;AAC5B,UAAMG,cAAc,GAAGH,gBAAgB,CAACsC,SAAxC;;AACA,UAAInC,cAAc,IAAI,IAAtB,EAA4B;AAC1B,gBAAQjtD,IAAR;AACE,eAAK,SAAL;AACEmG,oDAAW,CAAC8mD,cAAc,CAAClkC,OAAhB,EAAyB7jB,IAAzB,EAA+BjC,KAA/B,CAAX;AACA27B,uBAAW,CAACquB,cAAD,CAAX;AACA;;AACF,eAAK,OAAL;AACE,kBAAM,IAAIpqD,KAAJ,CAAU,sCAAV,CAAN;;AACF,eAAK,OAAL;AACE,gBAAMoE,OAAO,GAAG6lD,gBAAgB,CAACC,eAAjC;AACAD,4BAAgB,CAACC,eAAjB,mCACK9lD,OADL;AAEEqoB,mBAAK,EAAE5iB,oCAAW,CAACzF,OAAO,CAACqoB,KAAT,EAAgBpqB,IAAhB,EAAsBjC,KAAtB;AAFpB;AAIA27B,uBAAW,CAACquB,cAAD,CAAX;AACA;;AACF,eAAK,OAAL;AACE9mD,oDAAW,CAAC8mD,cAAc,CAAC19B,KAAhB,EAAuBrqB,IAAvB,EAA6BjC,KAA7B,CAAX;AACA27B,uBAAW,CAACquB,cAAD,CAAX;AACA;AAlBJ;AAoBD;AACF;AACF,GAv2BkB,CAy2BnB;;;AACA,MAAM/tB,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7B,UAAM,IAAIr8B,KAAJ,CAAU,iDAAV,CAAN;AACD,GAFD;;AAGA,MAAMk2B,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;AAClC,UAAM,IAAIl2B,KAAJ,CAAU,sDAAV,CAAN;AACD,GAFD;;AAGA,MAAMg2B,wBAAwB,GAAG,SAA3BA,wBAA2B,GAAM;AACrC,UAAM,IAAIh2B,KAAJ,CAAU,yDAAV,CAAN;AACD,GAFD;;AAGA,MAAMi2B,yBAAyB,GAAG,SAA5BA,yBAA4B,GAAM;AACtC,UAAM,IAAIj2B,KAAJ,CAAU,0DAAV,CAAN;AACD,GAFD;;AAGA,MAAMo9B,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B,UAAM,IAAIp9B,KAAJ,CAAU,8CAAV,CAAN;AACD,GAFD;;AAGA,MAAMw9B,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7B,UAAM,IAAIx9B,KAAJ,CAAU,iDAAV,CAAN;AACD,GAFD;;AAGA,MAAM+8B,cAAc,GAAG,SAAjBA,cAAiB,GAAM,CAC3B;AACD,GAFD;;AAGA,MAAME,aAAa,GAAG,SAAhBA,aAAgB,GAAM,CAC1B;AACD,GAFD;;AAIA,WAASyB,0BAAT,GAAwD;AACtD;AACA,WAAO,IAAP;AACD;;AAED,WAASH,iBAAT,CAA2Bj/B,EAA3B,EAAgE;AAC9D;AACA,WAAO,IAAP;AACD;;AAED,WAASirB,sBAAT,CAAgC1pB,gBAAhC,EAA0E,CACxE;AACD;;AAED,WAAS+9B,sBAAT,CAAgC6tB,OAAhC,EAAkD,CAChD;AACD;;AAED,WAAS16B,cAAT,CAAwB1vB,IAAxB,EAAuD,CACrD;AACD;;AAED,WAAS21B,aAAT,CAAuB14B,EAAvB,EAAoE;AAClE;AACA,WAAO,IAAP;AACD;;AAED,WAASmoB,sBAAT,GAAkC,CAChC;AACD;;AAED,WAASU,qBAAT,CAA+B7oB,EAA/B,EAA2C,CACzC;AACD;;AAED,WAAS8oB,uBAAT,CAAiC9oB,EAAjC,EAA6C,CAC3C;AACD;;AAED,SAAO;AACLmoB,0BAAsB,EAAtBA,sBADK;AAELU,yBAAqB,EAArBA,qBAFK;AAGLC,2BAAuB,EAAvBA,uBAHK;AAIL8M,WAAO,EAAPA,OAJK;AAKLgG,mBAAe,EAAfA,eALK;AAMLW,cAAU,EAAVA,UANK;AAOLxG,0BAAsB,EAAtBA,sBAPK;AAQLqJ,8BAA0B,EAA1BA,0BARK;AASL5H,4BAAwB,EAAxBA,wBATK;AAULC,uBAAmB,EAAE8zB,sBAVhB;AAWL1yB,uBAAmB,EAAnBA,mBAXK;AAYLxB,6BAAyB,EAAE,mCAACr3B,EAAD,EAAgB;AACzC,UAAMktD,UAAU,GAAG1B,2BAA2B,CAACxrD,EAAD,CAA9C;AACA,aAAOktD,UAAU,IAAI,IAAd,GAAqB,IAArB,GAA4B,CAACA,UAAD,CAAnC;AACD,KAfI;AAgBLx0B,iBAAa,EAAbA,aAhBK;AAiBLuG,qBAAiB,EAAjBA,iBAjBK;AAkBLlC,oBAAgB,EAAhBA,gBAlBK;AAmBLnG,yBAAqB,EAArBA,qBAnBK;AAoBLF,4BAAwB,EAAxBA,wBApBK;AAqBLC,6BAAyB,EAAzBA,yBArBK;AAsBLkF,kBAAc,EAAdA,cAtBK;AAuBLI,uBAAmB,EAAnBA,mBAvBK;AAwBL6B,iBAAa,EAAbA,aAxBK;AAyBLI,oBAAgB,EAAhBA,gBAzBK;AA0BLtB,uBAAmB,EAAnBA,mBA1BK;AA2BLD,cAAU,EAAVA,UA3BK;AA4BLtE,8BAA0B,EAA1BA,0BA5BK;AA6BLG,4BAAwB,EAAxBA,wBA7BK;AA8BLnpB,YAAQ,EAARA,QA9BK;AA+BLiwB,0BAAsB,EAAtBA,sBA/BK;AAgCL7M,kBAAc,EAAdA,cAhCK;AAiCLgL,kBAAc,EAAdA,cAjCK;AAkCLE,iBAAa,EAAbA,aAlCK;AAmCLhC,iBAAa,EAAbA,aAnCK;AAoCL1Q,0BAAsB,EAAtBA;AApCK,GAAP;AAsCD,C;;ACzlCD;;;;;;;;AASA;AAEA;AACA;AAIO,SAASmiC,WAAT,CACLrmC,IADK,EAELo7B,KAFK,EAGLlzC,MAHK,EAIO;AACZ,MAAI8X,IAAI,IAAI,IAAZ,EAAkB;AAChB;AACA,WAAO,YAAM,CAAE,CAAf;AACD;;AACD,MAAMsmC,IAAI,GAAG,CACXtmC,IAAI,CAAC4iC,GAAL,CACE,mBADF,EAEE,gBASM;AAAA,QARJ3pD,EAQI,QARJA,EAQI;AAAA,QAPJqP,QAOI,QAPJA,QAOI;AAAA,QANJsxC,iBAMI,QANJA,iBAMI;AACJwB,SAAK,CAACmL,oBAAN,CAA2BttD,EAA3B,EAA+B2gD,iBAA/B,EADI,CAGJ;AACA;;AACAA,qBAAiB,CAAC5qB,sBAAlB;AACD,GAjBH,CADW,EAqBXhP,IAAI,CAAC4iC,GAAL,CAAS,8BAAT,EAAyC,UAAC3pD,EAAD,EAAgB;AACvDmiD,SAAK,CAACoL,qBAAN,CAA4BvtD,EAA5B;AACD,GAFD,CArBW,EAyBX+mB,IAAI,CAAC4iC,GAAL,CAAS,sBAAT,EAAiCxH,KAAK,CAACqL,sBAAvC,CAzBW,EA0BXzmC,IAAI,CAAC4iC,GAAL,CAAS,YAAT,EAAuBxH,KAAK,CAACsL,gBAA7B,CA1BW,EA2BX1mC,IAAI,CAAC4iC,GAAL,CAAS,cAAT,EAAyBxH,KAAK,CAACuL,cAA/B,CA3BW,CA6BX;AA7BW,GAAb;;AAgCA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAC3tD,EAAD,EAAaqP,QAAb,EAAyC;AAC9D,QAAIsxC,iBAAiB,GAAG55B,IAAI,CAAC05B,kBAAL,CAAwBziD,GAAxB,CAA4BgC,EAA5B,CAAxB,CAD8D,CAG9D;;AACA,QAAI2gD,iBAAiB,IAAI,IAAzB,EAA+B;AAC7B,UAAI,OAAOtxC,QAAQ,CAACK,uBAAhB,KAA4C,UAAhD,EAA4D;AAC1D;AACAixC,yBAAiB,GAAG75B,0CAAM,CAACC,IAAD,EAAO/mB,EAAP,EAAWqP,QAAX,EAAqBJ,MAArB,CAA1B;AACD,OAHD,MAGO,IAAII,QAAQ,CAACo8C,aAAb,EAA4B;AACjC;AACA9K,yBAAiB,GAAGiN,eAAY,CAAC7mC,IAAD,EAAO/mB,EAAP,EAAWqP,QAAX,EAAqBJ,MAArB,CAAhC;AACD,OAHM,MAGA,CACL;AACD;;AAED,UAAI0xC,iBAAiB,IAAI,IAAzB,EAA+B;AAC7B55B,YAAI,CAAC05B,kBAAL,CAAwBtiD,GAAxB,CAA4B6B,EAA5B,EAAgC2gD,iBAAhC;AACD;AACF,KAlB6D,CAoB9D;AACA;;;AACA,QAAIA,iBAAiB,IAAI,IAAzB,EAA+B;AAC7B55B,UAAI,CAACc,IAAL,CAAU,mBAAV,EAA+B;AAC7B7nB,UAAE,EAAFA,EAD6B;AAE7BqP,gBAAQ,EAARA,QAF6B;AAG7BsxC,yBAAiB,EAAjBA;AAH6B,OAA/B;AAKD,KAND,MAMO;AACL55B,UAAI,CAACc,IAAL,CAAU,8BAAV,EAA0C7nB,EAA1C;AACD;AACF,GA/BD,CArCY,CAsEZ;;;AACA+mB,MAAI,CAACyiC,SAAL,CAAejsD,OAAf,CAAuB,UAAC8R,QAAD,EAAWrP,EAAX,EAAkB;AACvC2tD,kBAAc,CAAC3tD,EAAD,EAAKqP,QAAL,CAAd;AACD,GAFD,EAvEY,CA2EZ;;AACAg+C,MAAI,CAACvtD,IAAL,CACEinB,IAAI,CAAC4iC,GAAL,CACE,UADF,EAEE,iBAAgE;AAAA,QAA9D3pD,EAA8D,SAA9DA,EAA8D;AAAA,QAA1DqP,QAA0D,SAA1DA,QAA0D;AAC9Ds+C,kBAAc,CAAC3tD,EAAD,EAAKqP,QAAL,CAAd;AACD,GAJH,CADF;AASA0X,MAAI,CAACc,IAAL,CAAU,gBAAV,EAA4Bs6B,KAA5B;AACAp7B,MAAI,CAAC8mC,kBAAL,GAA0B1L,KAA1B;;AACA,MAAM2L,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5BT,QAAI,CAAC9vD,OAAL,CAAa,UAAA0oC,EAAE;AAAA,aAAIA,EAAE,EAAN;AAAA,KAAf;AACAlf,QAAI,CAAC05B,kBAAL,CAAwBljD,OAAxB,CAAgC,UAAAojD,iBAAiB,EAAI;AACnDA,uBAAiB,CAAC/qB,OAAlB;AACD,KAFD;AAGA7O,QAAI,CAAC8mC,kBAAL,GAA0B,IAA1B;AACD,GAND;;AAOA1L,OAAK,CAACphB,WAAN,CAAkB,UAAlB,EAA8B+sB,eAA9B;AACAT,MAAI,CAACvtD,IAAL,CAAU,YAAM;AACdqiD,SAAK,CAACjhB,cAAN,CAAqB,UAArB,EAAiC4sB,eAAjC;AACD,GAFD;AAIA,SAAO,YAAM;AACXT,QAAI,CAAC9vD,OAAL,CAAa,UAAA0oC,EAAE;AAAA,aAAIA,EAAE,EAAN;AAAA,KAAf;AACD,GAFD;AAGD,C;;AC1HD;;;;;;;;;AAWA;;;;;;;;AAQe,SAAS8nB,eAAT,CACbt1C,MADa,EAEbqgB,KAFa,EAGI;AACjB,MAAIk1B,QAAQ,GAAG,KAAf;AACA,MAAMpyC,MAAM,GAAG;AACbggC,UAAM,EAAE,CADK;AAEbF,QAAI,EAAE,CAFO;AAGbI,SAAK,EAAE,CAHM;AAIbN,OAAG,EAAE;AAJQ,GAAf;AAOA,MAAMyS,WAAW,GAAGn1B,KAAK,CAACrgB,MAAD,CAAzB;;AACA,MAAIw1C,WAAW,IAAI,IAAnB,EAAyB;AACvB;AACA,oCAAkB9wD,MAAM,CAACJ,IAAP,CAAY6e,MAAZ,CAAlB,kCAAuC;AAAlC,UAAMpe,GAAG,mBAAT;AACHoe,YAAM,CAACpe,GAAD,CAAN,GAAcywD,WAAd;AACD;;AACDD,YAAQ,GAAG,IAAX;AACD;;AAED,MAAME,kBAAkB,GAAGp1B,KAAK,CAACrgB,MAAM,GAAG,YAAV,CAAhC;;AACA,MAAIy1C,kBAAkB,IAAI,IAA1B,EAAgC;AAC9BtyC,UAAM,CAAC8/B,IAAP,GAAcwS,kBAAd;AACAtyC,UAAM,CAACkgC,KAAP,GAAeoS,kBAAf;AACAF,YAAQ,GAAG,IAAX;AACD,GAJD,MAIO;AACL,QAAMG,YAAY,GAAGr1B,KAAK,CAACrgB,MAAM,GAAG,MAAV,CAA1B;;AACA,QAAI01C,YAAY,IAAI,IAApB,EAA0B;AACxBvyC,YAAM,CAAC8/B,IAAP,GAAcyS,YAAd;AACAH,cAAQ,GAAG,IAAX;AACD;;AAED,QAAMI,aAAa,GAAGt1B,KAAK,CAACrgB,MAAM,GAAG,OAAV,CAA3B;;AACA,QAAI21C,aAAa,IAAI,IAArB,EAA2B;AACzBxyC,YAAM,CAACkgC,KAAP,GAAesS,aAAf;AACAJ,cAAQ,GAAG,IAAX;AACD;;AAED,QAAMK,WAAW,GAAGv1B,KAAK,CAACrgB,MAAM,GAAG,KAAV,CAAzB;;AACA,QAAI41C,WAAW,IAAI,IAAnB,EAAyB;AACvB;AACAzyC,YAAM,CAACkgC,KAAP,GAAeuS,WAAf;AACAL,cAAQ,GAAG,IAAX;AACD;;AACD,QAAMM,aAAa,GAAGx1B,KAAK,CAACrgB,MAAM,GAAG,OAAV,CAA3B;;AACA,QAAI61C,aAAa,IAAI,IAArB,EAA2B;AACzB;AACA1yC,YAAM,CAAC8/B,IAAP,GAAc4S,aAAd;AACAN,cAAQ,GAAG,IAAX;AACD;AACF;;AAED,MAAMO,gBAAgB,GAAGz1B,KAAK,CAACrgB,MAAM,GAAG,UAAV,CAA9B;;AACA,MAAI81C,gBAAgB,IAAI,IAAxB,EAA8B;AAC5B3yC,UAAM,CAACggC,MAAP,GAAgB2S,gBAAhB;AACA3yC,UAAM,CAAC4/B,GAAP,GAAa+S,gBAAb;AACAP,YAAQ,GAAG,IAAX;AACD,GAJD,MAIO;AACL,QAAMQ,cAAc,GAAG11B,KAAK,CAACrgB,MAAM,GAAG,QAAV,CAA5B;;AACA,QAAI+1C,cAAc,IAAI,IAAtB,EAA4B;AAC1B5yC,YAAM,CAACggC,MAAP,GAAgB4S,cAAhB;AACAR,cAAQ,GAAG,IAAX;AACD;;AAED,QAAMS,WAAW,GAAG31B,KAAK,CAACrgB,MAAM,GAAG,KAAV,CAAzB;;AACA,QAAIg2C,WAAW,IAAI,IAAnB,EAAyB;AACvB7yC,YAAM,CAAC4/B,GAAP,GAAaiT,WAAb;AACAT,cAAQ,GAAG,IAAX;AACD;AACF;;AAED,SAAOA,QAAQ,GAAGpyC,MAAH,GAAY,IAA3B;AACD,C;;;;;;AC5FD;;;;;;;;AASA;AACA;AAQe,SAAS8yC,sBAAT,CACbxM,MADa,EAEbC,KAFa,EAGbwM,kBAHa,EAIbC,eAJa,EAKb;AACA1M,QAAM,CAACnhB,WAAP,CACE,2BADF,EAEE,gBAA8D;AAAA,QAA5D/gC,EAA4D,QAA5DA,EAA4D;AAAA,QAAxDX,UAAwD,QAAxDA,UAAwD;AAC5DwvD,gBAAY,CAAC1M,KAAD,EAAQD,MAAR,EAAgByM,kBAAhB,EAAoC3uD,EAApC,EAAwCX,UAAxC,CAAZ;AACD,GAJH;AAOA6iD,QAAM,CAACnhB,WAAP,CACE,mCADF,EAEE,iBAYO;AAAA,QAXL/gC,EAWK,SAXLA,EAWK;AAAA,QAVLX,UAUK,SAVLA,UAUK;AAAA,QATLyvD,OASK,SATLA,OASK;AAAA,QARLC,OAQK,SARLA,OAQK;AAAA,QAPLjuD,KAOK,SAPLA,KAOK;AACLkuD,eAAW,CAAC7M,KAAD,EAAQniD,EAAR,EAAYX,UAAZ,EAAwByvD,OAAxB,EAAiCC,OAAjC,EAA0CjuD,KAA1C,CAAX;AACAoQ,cAAU,CAAC;AAAA,aACT29C,YAAY,CAAC1M,KAAD,EAAQD,MAAR,EAAgByM,kBAAhB,EAAoC3uD,EAApC,EAAwCX,UAAxC,CADH;AAAA,KAAD,CAAV;AAGD,GAnBH;AAsBA6iD,QAAM,CAACnhB,WAAP,CACE,4BADF,EAEE,iBAUO;AAAA,QATL/gC,EASK,SATLA,EASK;AAAA,QARLX,UAQK,SARLA,UAQK;AAAA,QAPLnB,IAOK,SAPLA,IAOK;AAAA,QANL4C,KAMK,SANLA,KAMK;AACLmuD,YAAQ,CAAC9M,KAAD,EAAQniD,EAAR,EAAYX,UAAZ,EAAwBnB,IAAxB,EAA8B4C,KAA9B,CAAR;AACAoQ,cAAU,CAAC;AAAA,aACT29C,YAAY,CAAC1M,KAAD,EAAQD,MAAR,EAAgByM,kBAAhB,EAAoC3uD,EAApC,EAAwCX,UAAxC,CADH;AAAA,KAAD,CAAV;AAGD,GAjBH;AAoBA6iD,QAAM,CAACmB,IAAP,CAAY,8BAAZ,EAA4C;AAC1C6L,eAAW,EAAE,IAD6B;AAE1CN,mBAAe,EAAfA;AAF0C,GAA5C;AAID;AAED,IAAMO,eAAe,GAAG;AACtB3T,KAAG,EAAE,CADiB;AAEtBE,MAAI,EAAE,CAFgB;AAGtBI,OAAK,EAAE,CAHe;AAItBF,QAAM,EAAE;AAJc,CAAxB;AAOA,IAAMwT,2BAAgD,GAAG,IAAIzgD,GAAJ,EAAzD;;AAEA,SAASkgD,YAAT,CACE1M,KADF,EAEED,MAFF,EAGEyM,kBAHF,EAIE3uD,EAJF,EAKEX,UALF,EAME;AACA,MAAM6E,IAAI,GAAGi+C,KAAK,CAACtpB,mBAAN,CAA0B;AAAC74B,MAAE,EAAFA,EAAD;AAAKX,cAAU,EAAVA;AAAL,GAA1B,CAAb;;AACA,MAAI,CAAC6E,IAAD,IAAS,CAACA,IAAI,CAAC40B,KAAnB,EAA0B;AACxBopB,UAAM,CAACmB,IAAP,CACE,kCADF,EAEG;AACCrjD,QAAE,EAAFA,EADD;AAECqvD,YAAM,EAAE,IAFT;AAGCv2B,WAAK,EAAE;AAHR,KAFH;AAQA;AACD;;AAZD,MAcO5K,QAdP,GAc0BhqB,IAd1B,CAcOgqB,QAdP;AAAA,MAciB4K,KAdjB,GAc0B50B,IAd1B,CAciB40B,KAdjB;AAgBA,MAAIw2B,aAAa,GAAGX,kBAAkB,CAAC71B,KAAD,CAAtC,CAhBA,CAkBA;;AACA,MAAMy2B,cAAc,GAAGH,2BAA2B,CAACpxD,GAA5B,CAAgCgC,EAAhC,CAAvB;;AACA,MAAIuvD,cAAc,IAAI,IAAtB,EAA4B;AAC1BD,iBAAa,GAAGnyD,MAAM,CAACgQ,MAAP,CAAc,EAAd,EAAkBmiD,aAAlB,EAAiCC,cAAjC,CAAhB;AACD;;AAED,MAAI,CAACrhC,QAAD,IAAa,OAAOA,QAAQ,CAACshC,OAAhB,KAA4B,UAA7C,EAAyD;AACvDtN,UAAM,CAACmB,IAAP,CACE,kCADF,EAEG;AACCrjD,QAAE,EAAFA,EADD;AAECqvD,YAAM,EAAE,IAFT;AAGCv2B,WAAK,EAAEw2B,aAAa,IAAI;AAHzB,KAFH;AAQA;AACD,GAlCD,CAoCA;;;AACAphC,UAAQ,CAACshC,OAAT,CAAiB,UAACnsC,CAAD,EAAIC,CAAJ,EAAO04B,KAAP,EAAcC,MAAd,EAAsBP,IAAtB,EAA4BF,GAA5B,EAAoC;AACnD;AACA;AACA,QAAI,OAAOn4B,CAAP,KAAa,QAAjB,EAA2B;AACzB6+B,YAAM,CAACmB,IAAP,CACE,kCADF,EAEG;AACCrjD,UAAE,EAAFA,EADD;AAECqvD,cAAM,EAAE,IAFT;AAGCv2B,aAAK,EAAEw2B,aAAa,IAAI;AAHzB,OAFH;AAQA;AACD;;AACD,QAAMpR,MAAM,GACToR,aAAa,IAAI,IAAjB,IAAyBvB,eAAe,CAAC,QAAD,EAAWuB,aAAX,CAAzC,IACAH,eAFF;AAGA,QAAMvR,OAAO,GACV0R,aAAa,IAAI,IAAjB,IAAyBvB,eAAe,CAAC,SAAD,EAAYuB,aAAZ,CAAzC,IACAH,eAFF;AAGAjN,UAAM,CAACmB,IAAP,CACE,kCADF,EAEG;AACCrjD,QAAE,EAAFA,EADD;AAECqvD,YAAM,EAAE;AACNhsC,SAAC,EAADA,CADM;AAENC,SAAC,EAADA,CAFM;AAGN04B,aAAK,EAALA,KAHM;AAINC,cAAM,EAANA,MAJM;AAKNP,YAAI,EAAJA,IALM;AAMNF,WAAG,EAAHA,GANM;AAON0C,cAAM,EAANA,MAPM;AAQNN,eAAO,EAAPA;AARM,OAFT;AAYC9kB,WAAK,EAAEw2B,aAAa,IAAI;AAZzB,KAFH;AAiBD,GArCD;AAsCD;;AAED,SAASG,YAAT,CAAsB3sD,MAAtB,EAA8C;AAC5C,MAAM4sD,MAAM,GAAG,EAAf;;AACA,OAAK,IAAMhiD,CAAX,IAAgB5K,MAAhB,EAAwB;AACtB4sD,UAAM,CAAChiD,CAAD,CAAN,GAAY5K,MAAM,CAAC4K,CAAD,CAAlB;AACD;;AACD,SAAOgiD,MAAP;AACD;;AAED,SAASV,WAAT,CACE7M,KADF,EAEEniD,EAFF,EAGEX,UAHF,EAIEyvD,OAJF,EAKEC,OALF,EAMEjuD,KANF,EAOQ;AAAA;;AACN,MAAMoD,IAAI,GAAGi+C,KAAK,CAACtpB,mBAAN,CAA0B;AAAC74B,MAAE,EAAFA,EAAD;AAAKX,cAAU,EAAVA;AAAL,GAA1B,CAAb;;AACA,MAAI,CAAC6E,IAAD,IAAS,CAACA,IAAI,CAAC40B,KAAnB,EAA0B;AACxB;AACD;;AAJK,MAMC5K,QAND,GAMoBhqB,IANpB,CAMCgqB,QAND;AAAA,MAMW4K,KANX,GAMoB50B,IANpB,CAMW40B,KANX;AAQN,MAAM62B,QAAQ,GAAGZ,OAAO,6DAClBD,OADkB,EACRjwD,SADQ,gDACIkwD,OADJ,EACcjuD,KADd,sDAElBguD,OAFkB,EAERjwD,SAFQ,CAAxB;AAIA,MAAI+wD,WAAJ,CAZM,CAcN;;AACA,MAAI1hC,QAAQ,KAAK,IAAb,IAAqB,OAAOA,QAAQ,CAAC2hC,cAAhB,KAAmC,UAA5D,EAAwE;AACtE;AACA;AACA,QAAMN,cAAc,GAAGH,2BAA2B,CAACpxD,GAA5B,CAAgCgC,EAAhC,CAAvB;;AACA,QAAI,CAACuvD,cAAL,EAAqB;AACnBH,iCAA2B,CAACjxD,GAA5B,CAAgC6B,EAAhC,EAAoC2vD,QAApC;AACD,KAFD,MAEO;AACLxyD,YAAM,CAACgQ,MAAP,CAAcoiD,cAAd,EAA8BI,QAA9B;AACD,KARqE,CAStE;;;AACAzhC,YAAQ,CAAC2hC,cAAT,CAAwB;AAAC/2B,WAAK,EAAE62B;AAAR,KAAxB;AACD,GAXD,MAWO,IAAI5wD,KAAK,CAAC0E,OAAN,CAAcq1B,KAAd,CAAJ,EAA0B;AAC/B,QAAMlZ,SAAS,GAAGkZ,KAAK,CAAC95B,MAAN,GAAe,CAAjC;;AACA,QACE,8BAAO85B,KAAK,CAAClZ,SAAD,CAAZ,MAA4B,QAA5B,IACA,CAAC7gB,KAAK,CAAC0E,OAAN,CAAcq1B,KAAK,CAAClZ,SAAD,CAAnB,CAFH,EAGE;AACAgwC,iBAAW,GAAGH,YAAY,CAAC32B,KAAK,CAAClZ,SAAD,CAAN,CAA1B;AACA,aAAOgwC,WAAW,CAACd,OAAD,CAAlB;;AACA,UAAIC,OAAJ,EAAa;AACXa,mBAAW,CAACb,OAAD,CAAX,GAAuBjuD,KAAvB;AACD,OAFD,MAEO;AACL8uD,mBAAW,CAACd,OAAD,CAAX,GAAuBjwD,SAAvB;AACD;;AAEDsjD,WAAK,CAACvlB,mBAAN,CAA0B;AACxB/+B,YAAI,EAAE,OADkB;AAExBmC,UAAE,EAAFA,EAFwB;AAGxBX,kBAAU,EAAVA,UAHwB;AAIxB0D,YAAI,EAAE,CAAC,OAAD,EAAU6c,SAAV,CAJkB;AAKxB9e,aAAK,EAAE8uD;AALiB,OAA1B;AAOD,KAnBD,MAmBO;AACLzN,WAAK,CAACvlB,mBAAN,CAA0B;AACxB/+B,YAAI,EAAE,OADkB;AAExBmC,UAAE,EAAFA,EAFwB;AAGxBX,kBAAU,EAAVA,UAHwB;AAIxB0D,YAAI,EAAE,CAAC,OAAD,CAJkB;AAKxBjC,aAAK,EAAEg4B,KAAK,CAAC5mB,MAAN,CAAa,CAACy9C,QAAD,CAAb;AALiB,OAA1B;AAOD;AACF,GA9BM,MA8BA,IAAI,8BAAO72B,KAAP,MAAiB,QAArB,EAA+B;AACpC82B,eAAW,GAAGH,YAAY,CAAC32B,KAAD,CAA1B;AACA,WAAO82B,WAAW,CAACd,OAAD,CAAlB;;AACA,QAAIC,OAAJ,EAAa;AACXa,iBAAW,CAACb,OAAD,CAAX,GAAuBjuD,KAAvB;AACD,KAFD,MAEO;AACL8uD,iBAAW,CAACd,OAAD,CAAX,GAAuBjwD,SAAvB;AACD;;AAEDsjD,SAAK,CAACvlB,mBAAN,CAA0B;AACxB/+B,UAAI,EAAE,OADkB;AAExBmC,QAAE,EAAFA,EAFwB;AAGxBX,gBAAU,EAAVA,UAHwB;AAIxB0D,UAAI,EAAE,CAAC,OAAD,CAJkB;AAKxBjC,WAAK,EAAE8uD;AALiB,KAA1B;AAOD,GAhBM,MAgBA;AACLzN,SAAK,CAACvlB,mBAAN,CAA0B;AACxB/+B,UAAI,EAAE,OADkB;AAExBmC,QAAE,EAAFA,EAFwB;AAGxBX,gBAAU,EAAVA,UAHwB;AAIxB0D,UAAI,EAAE,CAAC,OAAD,CAJkB;AAKxBjC,WAAK,EAAE,CAACg4B,KAAD,EAAQ62B,QAAR;AALiB,KAA1B;AAOD;;AAEDxN,OAAK,CAACt6B,IAAN,CAAW,qBAAX;AACD;;AAED,SAASonC,QAAT,CACE9M,KADF,EAEEniD,EAFF,EAGEX,UAHF,EAIEnB,IAJF,EAKE4C,KALF,EAME;AACA,MAAMoD,IAAI,GAAGi+C,KAAK,CAACtpB,mBAAN,CAA0B;AAAC74B,MAAE,EAAFA,EAAD;AAAKX,cAAU,EAAVA;AAAL,GAA1B,CAAb;;AACA,MAAI,CAAC6E,IAAD,IAAS,CAACA,IAAI,CAAC40B,KAAnB,EAA0B;AACxB;AACD;;AAJD,MAMO5K,QANP,GAM0BhqB,IAN1B,CAMOgqB,QANP;AAAA,MAMiB4K,KANjB,GAM0B50B,IAN1B,CAMiB40B,KANjB;;AAOA,MAAM62B,QAAQ,GAAG,0CAAEzxD,IAAL,EAAY4C,KAAZ,CAAd,CAPA,CASA;;;AACA,MAAIotB,QAAQ,KAAK,IAAb,IAAqB,OAAOA,QAAQ,CAAC2hC,cAAhB,KAAmC,UAA5D,EAAwE;AACtE;AACA;AACA,QAAMN,cAAc,GAAGH,2BAA2B,CAACpxD,GAA5B,CAAgCgC,EAAhC,CAAvB;;AACA,QAAI,CAACuvD,cAAL,EAAqB;AACnBH,iCAA2B,CAACjxD,GAA5B,CAAgC6B,EAAhC,EAAoC2vD,QAApC;AACD,KAFD,MAEO;AACLxyD,YAAM,CAACgQ,MAAP,CAAcoiD,cAAd,EAA8BI,QAA9B;AACD,KARqE,CAStE;;;AACAzhC,YAAQ,CAAC2hC,cAAT,CAAwB;AAAC/2B,WAAK,EAAE62B;AAAR,KAAxB;AACD,GAXD,MAWO,IAAI5wD,KAAK,CAAC0E,OAAN,CAAcq1B,KAAd,CAAJ,EAA0B;AAC/B,QAAMg3B,UAAU,GAAGh3B,KAAK,CAAC95B,MAAN,GAAe,CAAlC;;AACA,QACE,8BAAO85B,KAAK,CAACg3B,UAAD,CAAZ,MAA6B,QAA7B,IACA,CAAC/wD,KAAK,CAAC0E,OAAN,CAAcq1B,KAAK,CAACg3B,UAAD,CAAnB,CAFH,EAGE;AACA3N,WAAK,CAACvlB,mBAAN,CAA0B;AACxB/+B,YAAI,EAAE,OADkB;AAExBmC,UAAE,EAAFA,EAFwB;AAGxBX,kBAAU,EAAVA,UAHwB;AAIxB0D,YAAI,EAAE,CAAC,OAAD,EAAU+sD,UAAV,EAAsB5xD,IAAtB,CAJkB;AAKxB4C,aAAK,EAALA;AALwB,OAA1B;AAOD,KAXD,MAWO;AACLqhD,WAAK,CAACvlB,mBAAN,CAA0B;AACxB/+B,YAAI,EAAE,OADkB;AAExBmC,UAAE,EAAFA,EAFwB;AAGxBX,kBAAU,EAAVA,UAHwB;AAIxB0D,YAAI,EAAE,CAAC,OAAD,CAJkB;AAKxBjC,aAAK,EAAEg4B,KAAK,CAAC5mB,MAAN,CAAa,CAACy9C,QAAD,CAAb;AALiB,OAA1B;AAOD;AACF,GAtBM,MAsBA;AACLxN,SAAK,CAACvlB,mBAAN,CAA0B;AACxB/+B,UAAI,EAAE,OADkB;AAExBmC,QAAE,EAAFA,EAFwB;AAGxBX,gBAAU,EAAVA,UAHwB;AAIxB0D,UAAI,EAAE,CAAC,OAAD,CAJkB;AAKxBjC,WAAK,EAAE,CAACg4B,KAAD,EAAQ62B,QAAR;AALiB,KAA1B;AAOD;;AAEDxN,OAAK,CAACt6B,IAAN,CAAW,qBAAX;AACD,C;;AC3UD;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AAmBA8gC,WAAW,CAAC/+C,MAAD,CAAX;AAEA,IAAMmd,YAAmB,GAAGnd,MAAM,CAACC,8BAAnC;AAEA,IAAIkmD,qBAA6C,GAAGlvD,uDAA0B,EAA9E;;AAEA,SAASsS,aAAT,CAAe2zC,UAAf,EAA4C;AAC1C,MAAIlvD,8BAAJ,EAAe;AAAA;;AAAA,sCADqBuT,IACrB;AADqBA,UACrB;AAAA;;AACb,gBAAAxK,OAAO,EAACC,GAAR,+CACwBkmD,UADxB,GAEE,iCAFF,EAGE,oBAHF,SAIK37C,IAJL;AAMD;AACF;;AAEM,SAAS6kD,iBAAT,CAA2Br5C,OAA3B,EAAqD;AAC1D,MAAIoQ,YAAI,IAAI,IAAZ,EAAkB;AAChB;AACA;AACD;;AAJyD,aActDpQ,OAAO,IAAI,EAd2C;AAAA,uBAMxDs5C,IANwD;AAAA,MAMxDA,IANwD,0BAMjD,WANiD;AAAA,MAOxDC,gCAPwD,QAOxDA,gCAPwD;AAAA,2BAQxDC,QARwD;AAAA,MAQxDA,QARwD,8BAQ7C,KAR6C;AAAA,uBASxDC,IATwD;AAAA,MASxDA,IATwD,0BASjD,IATiD;AAAA,MAUxDC,SAVwD,QAUxDA,SAVwD;AAAA,iCAWxDC,cAXwD;AAAA,MAWxDA,cAXwD,oCAWvC,IAXuC;AAAA,mCAYxDC,oBAZwD;AAAA,MAYxDA,oBAZwD,sCAYjC,IAZiC;AAAA,8BAaxDC,WAbwD;AAAA,MAaxDA,WAbwD,iCAa1C;AAAA,WAAM,IAAN;AAAA,GAb0C;;AAgB1D,MAAMC,QAAQ,GAAGN,QAAQ,GAAG,KAAH,GAAW,IAApC;AACA,MAAIO,cAAgC,GAAG,IAAvC;;AAEA,WAASC,aAAT,GAAyB;AACvB,QAAID,cAAc,KAAK,IAAvB,EAA6B;AAC3B;AACAA,oBAAc,GAAGx/C,UAAU,CACzB;AAAA,eAAM8+C,iBAAiB,CAACr5C,OAAD,CAAvB;AAAA,OADyB,EAEzB45C,oBAFyB,CAA3B;AAID;AACF;;AAED,MAAI,CAACC,WAAW,EAAhB,EAAoB;AAClB;AACA;AACAG,iBAAa;AACb;AACD;;AAED,MAAIzO,MAA4B,GAAG,IAAnC;AAEA,MAAM0O,gBAAgB,GAAG,EAAzB;AACA,MAAMC,GAAG,GAAGJ,QAAQ,GAAG,KAAX,GAAmBR,IAAnB,GAA0B,GAA1B,GAAgCG,IAA5C,CAvC0D,CAyC1D;AACA;AACA;;AACA,MAAMU,EAAE,GAAGT,SAAS,GAAGA,SAAH,GAAe,IAAIzmD,MAAM,CAACmnD,SAAX,CAAqBF,GAArB,CAAnC;AACAC,IAAE,CAACE,OAAH,GAAaC,WAAb;AACAH,IAAE,CAACI,OAAH,GAAaC,YAAb;AACAL,IAAE,CAACvkB,SAAH,GAAe6kB,aAAf;;AACAN,IAAE,CAACO,MAAH,GAAY,YAAW;AACrBnP,UAAM,GAAG,IAAIiE,UAAJ,CAAW;AAClBQ,YADkB,kBACX1gB,EADW,EACP;AACT2qB,wBAAgB,CAAC9wD,IAAjB,CAAsBmmC,EAAtB;AACA,eAAO,YAAM;AACX,cAAM/7B,KAAK,GAAG0mD,gBAAgB,CAACxuD,OAAjB,CAAyB6jC,EAAzB,CAAd;;AACA,cAAI/7B,KAAK,IAAI,CAAb,EAAgB;AACd0mD,4BAAgB,CAACltD,MAAjB,CAAwBwG,KAAxB,EAA+B,CAA/B;AACD;AACF,SALD;AAMD,OATiB;AAUlBm5C,UAVkB,gBAUbzW,KAVa,EAUE7C,OAVF,EAUgBunB,YAVhB,EAU2C;AAC3D,YAAIR,EAAE,CAACS,UAAH,KAAkBT,EAAE,CAACU,IAAzB,EAA+B;AAC7B,cAAI55D,8BAAJ,EAAe;AACbub,yBAAK,CAAC,aAAD,EAAgBy5B,KAAhB,EAAuB7C,OAAvB,CAAL;AACD;;AAED+mB,YAAE,CAACzN,IAAH,CAAQliD,IAAI,CAACM,SAAL,CAAe;AAACmrC,iBAAK,EAALA,KAAD;AAAQ7C,mBAAO,EAAPA;AAAR,WAAf,CAAR;AACD,SAND,MAMO;AACL,cAAInyC,8BAAJ,EAAe;AACbub,yBAAK,CACH,aADG,EAEH,6DAFG,CAAL;AAID;;AAED,cAAI+uC,MAAM,KAAK,IAAf,EAAqB;AACnBA,kBAAM,CAACgG,QAAP;AACD;;AAEDyI,uBAAa;AACd;AACF;AA/BiB,KAAX,CAAT;AAiCAzO,UAAM,CAACnhB,WAAP,CACE,gBADF,EAEE,iBAA6D;AAAA,UAA3D/gC,EAA2D,SAA3DA,EAA2D;AAAA,UAAvDX,UAAuD,SAAvDA,UAAuD;AAC3D,UAAMgQ,QAAQ,GAAG8yC,KAAK,CAAC1B,kBAAN,CAAyBphD,UAAzB,CAAjB;;AACA,UAAIgQ,QAAQ,IAAI,IAAhB,EAAsB;AACpB;AACA,YAAM2wC,KAA0B,GAAG3wC,QAAQ,CAACgoB,yBAAT,CACjCr3B,EADiC,CAAnC;;AAGA,YAAIggD,KAAK,IAAI,IAAT,IAAiBA,KAAK,CAAC,CAAD,CAAL,IAAY,IAAjC,EAAuC;AACrCmC,eAAK,CAACt6B,IAAN,CAAW,qBAAX,EAAkCm4B,KAAK,CAAC,CAAD,CAAvC;AACD;AACF;AACF,KAbH;AAeAkC,UAAM,CAACnhB,WAAP,CACE,wBADF,EAEE,UAACx/B,gBAAD,EAA8C;AAC5C;AACA;AACA;AACAwuD,2BAAqB,GAAGxuD,gBAAxB;AACD,KAPH,EAjDqB,CA2DrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,QAAIqI,MAAM,CAACohB,oCAAP,IAA+C,IAAnD,EAAyD;AACvDk3B,YAAM,CAACmB,IAAP,CAAY,0BAAZ,EAAwC0M,qBAAxC;AACD,KArEoB,CAuErB;;;AACA,QAAM5N,KAAK,GAAG,IAAI4E,WAAJ,CAAU7E,MAAV,CAAd;AACAC,SAAK,CAACphB,WAAN,CAAkB,UAAlB,EAA8B,YAAM;AAClC;AACA;AACAha,kBAAI,CAACc,IAAL,CAAU,UAAV;AACD,KAJD;AAMAulC,eAAW,CAACrmC,YAAD,EAAOo7B,KAAP,EAAcv4C,MAAd,CAAX,CA/EqB,CAiFrB;;AACA,QAAI0mD,cAAc,IAAI,IAAlB,IAA0BvpC,YAAI,CAACupC,cAAL,IAAuB,IAArD,EAA2D;AACzD5B,4BAAsB,CACpBxM,MADoB,EAEpBC,KAFoB,EAGlBmO,cAAc,IAAIvpC,YAAI,CAACupC,cAHL,EAIpBJ,gCAAgC,IAC9BnpC,YAAI,CAACmpC,gCADP,IAEE,IANkB,CAAtB;AAQD,KATD,MASO;AACL;AACA;AACA;AACA,UAAIuB,kBAAJ;AACA,UAAIC,oCAAJ;;AAEA,UAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B,YAAIzP,MAAM,KAAK,IAAf,EAAqB;AACnBwM,gCAAsB,CACpBxM,MADoB,EAEpBC,KAFoB,EAGpBsP,kBAHoB,EAIpBC,oCAJoB,CAAtB;AAMD;AACF,OATD;;AAWA,UAAI,CAAC3qC,YAAI,CAAC5jB,cAAL,CAAoB,gBAApB,CAAL,EAA4C;AAC1ChG,cAAM,CAAC6rC,cAAP,CACEjiB,YADF,EAEE,gBAFF,EAGG;AACCtpB,oBAAU,EAAE,KADb;AAECO,aAFD,iBAEO;AACJ,mBAAOyzD,kBAAP;AACD,WAJF;AAKCtzD,aALD,eAKK2C,KALL,EAKY;AACT2wD,8BAAkB,GAAG3wD,KAArB;AACA6wD,yBAAa;AACd;AARF,SAHH;AAcD;;AACD,UAAI,CAAC5qC,YAAI,CAAC5jB,cAAL,CAAoB,kCAApB,CAAL,EAA8D;AAC5DhG,cAAM,CAAC6rC,cAAP,CACEjiB,YADF,EAEE,kCAFF,EAGG;AACCtpB,oBAAU,EAAE,KADb;AAECO,aAFD,iBAEO;AACJ,mBAAO0zD,oCAAP;AACD,WAJF;AAKCvzD,aALD,eAKK2C,KALL,EAKY;AACT4wD,gDAAoC,GAAG5wD,KAAvC;AACA6wD,yBAAa;AACd;AARF,SAHH;AAcD;AACF;AACF,GA9ID;;AAgJA,WAASV,WAAT,GAAuB;AACrB,QAAIr5D,8BAAJ,EAAe;AACbub,mBAAK,CAAC,mBAAD,CAAL;AACD;;AAED,QAAI+uC,MAAM,KAAK,IAAf,EAAqB;AACnBA,YAAM,CAACr6B,IAAP,CAAY,UAAZ;AACD;;AAED8oC,iBAAa;AACd;;AAED,WAASQ,YAAT,GAAwB;AACtB,QAAIv5D,8BAAJ,EAAe;AACbub,mBAAK,CAAC,mBAAD,CAAL;AACD;;AAEDw9C,iBAAa;AACd;;AAED,WAASS,aAAT,CAAuBxkB,KAAvB,EAA8B;AAC5B,QAAI1oC,IAAJ;;AACA,QAAI;AACF,UAAI,OAAO0oC,KAAK,CAAC1oC,IAAb,KAAsB,QAA1B,EAAoC;AAClCA,YAAI,GAAG/C,IAAI,CAACC,KAAL,CAAWwrC,KAAK,CAAC1oC,IAAjB,CAAP;;AACA,YAAItM,8BAAJ,EAAe;AACbub,uBAAK,CAAC,qBAAD,EAAwBjP,IAAxB,CAAL;AACD;AACF,OALD,MAKO;AACL,cAAMxD,KAAK,EAAX;AACD;AACF,KATD,CASE,OAAOqf,CAAP,EAAU;AACVpf,aAAO,CAACU,KAAR,CACE,4CAA6CurC,KAAK,CAAC1oC,IADrD;AAGA;AACD;;AACD0sD,oBAAgB,CAACrzD,OAAjB,CAAyB,UAAA0oC,EAAE,EAAI;AAC7B,UAAI;AACFA,UAAE,CAAC/hC,IAAD,CAAF;AACD,OAFD,CAEE,OAAO7C,KAAP,EAAc;AACd;AACA;AACA;AACAV,eAAO,CAACC,GAAR,CAAY,yCAAZ,EAAuDsD,IAAvD;AACAvD,eAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBS,KAAtB;AACA,cAAMA,KAAN;AACD;AACF,KAXD;AAYD;AACF,C","file":"backend.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactDevToolsBackend\"] = factory();\n\telse\n\t\troot[\"ReactDevToolsBackend\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 31);\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// Flip this flag to true to enable verbose console debug logging.\nexport const __DEBUG__ = false;\n\n// Flip this flag to true to enable performance.mark() and performance.measure() timings.\nexport const __PERFORMANCE_PROFILE__ = false;\n\nexport const TREE_OPERATION_ADD = 1;\nexport const TREE_OPERATION_REMOVE = 2;\nexport const TREE_OPERATION_REORDER_CHILDREN = 3;\nexport const TREE_OPERATION_UPDATE_TREE_BASE_DURATION = 4;\nexport const TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS = 5;\nexport const TREE_OPERATION_REMOVE_ROOT = 6;\n\nexport const LOCAL_STORAGE_FILTER_PREFERENCES_KEY =\n  'React::DevTools::componentFilters';\n\nexport const SESSION_STORAGE_LAST_SELECTION_KEY =\n  'React::DevTools::lastSelection';\n\nexport const LOCAL_STORAGE_PARSE_HOOK_NAMES_KEY =\n  'React::DevTools::parseHookNames';\n\nexport const SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY =\n  'React::DevTools::recordChangeDescriptions';\n\nexport const SESSION_STORAGE_RELOAD_AND_PROFILE_KEY =\n  'React::DevTools::reloadAndProfile';\n\nexport const LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS =\n  'React::DevTools::breakOnConsoleErrors';\n\nexport const LOCAL_STORAGE_SHOULD_PATCH_CONSOLE_KEY =\n  'React::DevTools::appendComponentStack';\n\nexport const LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY =\n  'React::DevTools::showInlineWarningsAndErrors';\n\nexport const LOCAL_STORAGE_TRACE_UPDATES_ENABLED_KEY =\n  'React::DevTools::traceUpdatesEnabled';\n\nexport const LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE =\n  'React::DevTools::hideConsoleLogsInStrictMode';\n\nexport const PROFILER_EXPORT_VERSION = 5;\n\nexport const CHANGE_LOG_URL =\n  'https://github.com/facebook/react/blob/main/packages/react-devtools/CHANGELOG.md';\n\nexport const UNSUPPORTED_VERSION_URL =\n  'https://reactjs.org/blog/2019/08/15/new-react-devtools.html#how-do-i-get-the-old-version-back';\n\nexport const REACT_DEVTOOLS_WORKPLACE_URL =\n  'https://fburl.com/react-devtools-workplace-group';\n\nimport type {\n  Theme,\n  DisplayDensity,\n} from './devtools/views/Settings/SettingsContext';\n\nexport const THEME_STYLES: {[style: Theme | DisplayDensity]: any} = {\n  light: {\n    '--color-attribute-name': '#ef6632',\n    '--color-attribute-name-not-editable': '#23272f',\n    '--color-attribute-name-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-attribute-value': '#1a1aa6',\n    '--color-attribute-value-inverted': '#ffffff',\n    '--color-attribute-editable-value': '#1a1aa6',\n    '--color-background': '#ffffff',\n    '--color-background-hover': 'rgba(0, 136, 250, 0.1)',\n    '--color-background-inactive': '#e5e5e5',\n    '--color-background-invalid': '#fff0f0',\n    '--color-background-selected': '#0088fa',\n    '--color-button-background': '#ffffff',\n    '--color-button-background-focus': '#ededed',\n    '--color-button': '#5f6673',\n    '--color-button-disabled': '#cfd1d5',\n    '--color-button-active': '#0088fa',\n    '--color-button-focus': '#23272f',\n    '--color-button-hover': '#23272f',\n    '--color-border': '#eeeeee',\n    '--color-commit-did-not-render-fill': '#cfd1d5',\n    '--color-commit-did-not-render-fill-text': '#000000',\n    '--color-commit-did-not-render-pattern': '#cfd1d5',\n    '--color-commit-did-not-render-pattern-text': '#333333',\n    '--color-commit-gradient-0': '#37afa9',\n    '--color-commit-gradient-1': '#63b19e',\n    '--color-commit-gradient-2': '#80b393',\n    '--color-commit-gradient-3': '#97b488',\n    '--color-commit-gradient-4': '#abb67d',\n    '--color-commit-gradient-5': '#beb771',\n    '--color-commit-gradient-6': '#cfb965',\n    '--color-commit-gradient-7': '#dfba57',\n    '--color-commit-gradient-8': '#efbb49',\n    '--color-commit-gradient-9': '#febc38',\n    '--color-commit-gradient-text': '#000000',\n    '--color-component-name': '#6a51b2',\n    '--color-component-name-inverted': '#ffffff',\n    '--color-component-badge-background': 'rgba(0, 0, 0, 0.1)',\n    '--color-component-badge-background-inverted': 'rgba(255, 255, 255, 0.25)',\n    '--color-component-badge-count': '#777d88',\n    '--color-component-badge-count-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-console-error-badge-text': '#ffffff',\n    '--color-console-error-background': '#fff0f0',\n    '--color-console-error-border': '#ffd6d6',\n    '--color-console-error-icon': '#eb3941',\n    '--color-console-error-text': '#fe2e31',\n    '--color-console-warning-badge-text': '#000000',\n    '--color-console-warning-background': '#fffbe5',\n    '--color-console-warning-border': '#fff5c1',\n    '--color-console-warning-icon': '#f4bd00',\n    '--color-console-warning-text': '#64460c',\n    '--color-context-background': 'rgba(0,0,0,.9)',\n    '--color-context-background-hover': 'rgba(255, 255, 255, 0.1)',\n    '--color-context-background-selected': '#178fb9',\n    '--color-context-border': '#3d424a',\n    '--color-context-text': '#ffffff',\n    '--color-context-text-selected': '#ffffff',\n    '--color-dim': '#777d88',\n    '--color-dimmer': '#cfd1d5',\n    '--color-dimmest': '#eff0f1',\n    '--color-error-background': 'hsl(0, 100%, 97%)',\n    '--color-error-border': 'hsl(0, 100%, 92%)',\n    '--color-error-text': '#ff0000',\n    '--color-expand-collapse-toggle': '#777d88',\n    '--color-link': '#0000ff',\n    '--color-modal-background': 'rgba(255, 255, 255, 0.75)',\n    '--color-bridge-version-npm-background': '#eff0f1',\n    '--color-bridge-version-npm-text': '#000000',\n    '--color-bridge-version-number': '#0088fa',\n    '--color-primitive-hook-badge-background': '#e5e5e5',\n    '--color-primitive-hook-badge-text': '#5f6673',\n    '--color-record-active': '#fc3a4b',\n    '--color-record-hover': '#3578e5',\n    '--color-record-inactive': '#0088fa',\n    '--color-resize-bar': '#eeeeee',\n    '--color-resize-bar-active': '#dcdcdc',\n    '--color-resize-bar-border': '#d1d1d1',\n    '--color-resize-bar-dot': '#333333',\n    '--color-scheduling-profiler-native-event': '#ccc',\n    '--color-scheduling-profiler-native-event-hover': '#aaa',\n    '--color-scheduling-profiler-network-primary': '#fcf3dc',\n    '--color-scheduling-profiler-network-primary-hover': '#f0e7d1',\n    '--color-scheduling-profiler-network-secondary': '#efc457',\n    '--color-scheduling-profiler-network-secondary-hover': '#e3ba52',\n    '--color-scheduling-profiler-priority-background': '#f6f6f6',\n    '--color-scheduling-profiler-priority-border': '#eeeeee',\n    '--color-scheduling-profiler-user-timing': '#c9cacd',\n    '--color-scheduling-profiler-user-timing-hover': '#93959a',\n    '--color-scheduling-profiler-react-idle': '#d3e5f6',\n    '--color-scheduling-profiler-react-idle-hover': '#c3d9ef',\n    '--color-scheduling-profiler-react-render': '#9fc3f3',\n    '--color-scheduling-profiler-react-render-hover': '#83afe9',\n    '--color-scheduling-profiler-react-render-text': '#11365e',\n    '--color-scheduling-profiler-react-commit': '#c88ff0',\n    '--color-scheduling-profiler-react-commit-hover': '#b281d6',\n    '--color-scheduling-profiler-react-commit-text': '#3e2c4a',\n    '--color-scheduling-profiler-react-layout-effects': '#b281d6',\n    '--color-scheduling-profiler-react-layout-effects-hover': '#9d71bd',\n    '--color-scheduling-profiler-react-layout-effects-text': '#3e2c4a',\n    '--color-scheduling-profiler-react-passive-effects': '#b281d6',\n    '--color-scheduling-profiler-react-passive-effects-hover': '#9d71bd',\n    '--color-scheduling-profiler-react-passive-effects-text': '#3e2c4a',\n    '--color-scheduling-profiler-react-schedule': '#9fc3f3',\n    '--color-scheduling-profiler-react-schedule-hover': '#2683E2',\n    '--color-scheduling-profiler-react-suspense-rejected': '#f1cc14',\n    '--color-scheduling-profiler-react-suspense-rejected-hover': '#ffdf37',\n    '--color-scheduling-profiler-react-suspense-resolved': '#a6e59f',\n    '--color-scheduling-profiler-react-suspense-resolved-hover': '#89d281',\n    '--color-scheduling-profiler-react-suspense-unresolved': '#c9cacd',\n    '--color-scheduling-profiler-react-suspense-unresolved-hover': '#93959a',\n    '--color-scheduling-profiler-text-color': '#000000',\n    '--color-scheduling-profiler-text-dim-color': '#ccc',\n    '--color-scheduling-profiler-react-work-border': '#ffffff',\n    '--color-search-match': 'yellow',\n    '--color-search-match-current': '#f7923b',\n    '--color-selected-tree-highlight-active': 'rgba(0, 136, 250, 0.1)',\n    '--color-selected-tree-highlight-inactive': 'rgba(0, 0, 0, 0.05)',\n    '--color-scroll-caret': 'rgba(150, 150, 150, 0.5)',\n    '--color-tab-selected-border': '#0088fa',\n    '--color-text': '#000000',\n    '--color-text-invalid': '#ff0000',\n    '--color-text-selected': '#ffffff',\n    '--color-toggle-background-invalid': '#fc3a4b',\n    '--color-toggle-background-on': '#0088fa',\n    '--color-toggle-background-off': '#cfd1d5',\n    '--color-toggle-text': '#ffffff',\n    '--color-warning-background': '#fb3655',\n    '--color-warning-background-hover': '#f82042',\n    '--color-warning-text-color': '#ffffff',\n    '--color-warning-text-color-inverted': '#fd4d69',\n\n    // The styles below should be kept in sync with 'root.css'\n    // They are repeated there because they're used by e.g. tooltips or context menus\n    // which get rendered outside of the DOM subtree (where normal theme/styles are written).\n    '--color-scroll-thumb': '#c2c2c2',\n    '--color-scroll-track': '#fafafa',\n    '--color-tooltip-background': 'rgba(0, 0, 0, 0.9)',\n    '--color-tooltip-text': '#ffffff',\n  },\n  dark: {\n    '--color-attribute-name': '#9d87d2',\n    '--color-attribute-name-not-editable': '#ededed',\n    '--color-attribute-name-inverted': '#282828',\n    '--color-attribute-value': '#cedae0',\n    '--color-attribute-value-inverted': '#ffffff',\n    '--color-attribute-editable-value': 'yellow',\n    '--color-background': '#282c34',\n    '--color-background-hover': 'rgba(255, 255, 255, 0.1)',\n    '--color-background-inactive': '#3d424a',\n    '--color-background-invalid': '#5c0000',\n    '--color-background-selected': '#178fb9',\n    '--color-button-background': '#282c34',\n    '--color-button-background-focus': '#3d424a',\n    '--color-button': '#afb3b9',\n    '--color-button-active': '#61dafb',\n    '--color-button-disabled': '#4f5766',\n    '--color-button-focus': '#a2e9fc',\n    '--color-button-hover': '#ededed',\n    '--color-border': '#3d424a',\n    '--color-commit-did-not-render-fill': '#777d88',\n    '--color-commit-did-not-render-fill-text': '#000000',\n    '--color-commit-did-not-render-pattern': '#666c77',\n    '--color-commit-did-not-render-pattern-text': '#ffffff',\n    '--color-commit-gradient-0': '#37afa9',\n    '--color-commit-gradient-1': '#63b19e',\n    '--color-commit-gradient-2': '#80b393',\n    '--color-commit-gradient-3': '#97b488',\n    '--color-commit-gradient-4': '#abb67d',\n    '--color-commit-gradient-5': '#beb771',\n    '--color-commit-gradient-6': '#cfb965',\n    '--color-commit-gradient-7': '#dfba57',\n    '--color-commit-gradient-8': '#efbb49',\n    '--color-commit-gradient-9': '#febc38',\n    '--color-commit-gradient-text': '#000000',\n    '--color-component-name': '#61dafb',\n    '--color-component-name-inverted': '#282828',\n    '--color-component-badge-background': 'rgba(255, 255, 255, 0.25)',\n    '--color-component-badge-background-inverted': 'rgba(0, 0, 0, 0.25)',\n    '--color-component-badge-count': '#8f949d',\n    '--color-component-badge-count-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-console-error-badge-text': '#000000',\n    '--color-console-error-background': '#290000',\n    '--color-console-error-border': '#5c0000',\n    '--color-console-error-icon': '#eb3941',\n    '--color-console-error-text': '#fc7f7f',\n    '--color-console-warning-badge-text': '#000000',\n    '--color-console-warning-background': '#332b00',\n    '--color-console-warning-border': '#665500',\n    '--color-console-warning-icon': '#f4bd00',\n    '--color-console-warning-text': '#f5f2ed',\n    '--color-context-background': 'rgba(255,255,255,.95)',\n    '--color-context-background-hover': 'rgba(0, 136, 250, 0.1)',\n    '--color-context-background-selected': '#0088fa',\n    '--color-context-border': '#eeeeee',\n    '--color-context-text': '#000000',\n    '--color-context-text-selected': '#ffffff',\n    '--color-dim': '#8f949d',\n    '--color-dimmer': '#777d88',\n    '--color-dimmest': '#4f5766',\n    '--color-error-background': '#200',\n    '--color-error-border': '#900',\n    '--color-error-text': '#f55',\n    '--color-expand-collapse-toggle': '#8f949d',\n    '--color-link': '#61dafb',\n    '--color-modal-background': 'rgba(0, 0, 0, 0.75)',\n    '--color-bridge-version-npm-background': 'rgba(0, 0, 0, 0.25)',\n    '--color-bridge-version-npm-text': '#ffffff',\n    '--color-bridge-version-number': 'yellow',\n    '--color-primitive-hook-badge-background': 'rgba(0, 0, 0, 0.25)',\n    '--color-primitive-hook-badge-text': 'rgba(255, 255, 255, 0.7)',\n    '--color-record-active': '#fc3a4b',\n    '--color-record-hover': '#a2e9fc',\n    '--color-record-inactive': '#61dafb',\n    '--color-resize-bar': '#282c34',\n    '--color-resize-bar-active': '#31363f',\n    '--color-resize-bar-border': '#3d424a',\n    '--color-resize-bar-dot': '#cfd1d5',\n    '--color-scheduling-profiler-native-event': '#b2b2b2',\n    '--color-scheduling-profiler-native-event-hover': '#949494',\n    '--color-scheduling-profiler-network-primary': '#fcf3dc',\n    '--color-scheduling-profiler-network-primary-hover': '#e3dbc5',\n    '--color-scheduling-profiler-network-secondary': '#efc457',\n    '--color-scheduling-profiler-network-secondary-hover': '#d6af4d',\n    '--color-scheduling-profiler-priority-background': '#1d2129',\n    '--color-scheduling-profiler-priority-border': '#282c34',\n    '--color-scheduling-profiler-user-timing': '#c9cacd',\n    '--color-scheduling-profiler-user-timing-hover': '#93959a',\n    '--color-scheduling-profiler-react-idle': '#3d485b',\n    '--color-scheduling-profiler-react-idle-hover': '#465269',\n    '--color-scheduling-profiler-react-render': '#2683E2',\n    '--color-scheduling-profiler-react-render-hover': '#1a76d4',\n    '--color-scheduling-profiler-react-render-text': '#11365e',\n    '--color-scheduling-profiler-react-commit': '#731fad',\n    '--color-scheduling-profiler-react-commit-hover': '#611b94',\n    '--color-scheduling-profiler-react-commit-text': '#e5c1ff',\n    '--color-scheduling-profiler-react-layout-effects': '#611b94',\n    '--color-scheduling-profiler-react-layout-effects-hover': '#51167a',\n    '--color-scheduling-profiler-react-layout-effects-text': '#e5c1ff',\n    '--color-scheduling-profiler-react-passive-effects': '#611b94',\n    '--color-scheduling-profiler-react-passive-effects-hover': '#51167a',\n    '--color-scheduling-profiler-react-passive-effects-text': '#e5c1ff',\n    '--color-scheduling-profiler-react-schedule': '#2683E2',\n    '--color-scheduling-profiler-react-schedule-hover': '#1a76d4',\n    '--color-scheduling-profiler-react-suspense-rejected': '#f1cc14',\n    '--color-scheduling-profiler-react-suspense-rejected-hover': '#e4c00f',\n    '--color-scheduling-profiler-react-suspense-resolved': '#a6e59f',\n    '--color-scheduling-profiler-react-suspense-resolved-hover': '#89d281',\n    '--color-scheduling-profiler-react-suspense-unresolved': '#c9cacd',\n    '--color-scheduling-profiler-react-suspense-unresolved-hover': '#93959a',\n    '--color-scheduling-profiler-text-color': '#282c34',\n    '--color-scheduling-profiler-text-dim-color': '#555b66',\n    '--color-scheduling-profiler-react-work-border': '#ffffff',\n    '--color-search-match': 'yellow',\n    '--color-search-match-current': '#f7923b',\n    '--color-selected-tree-highlight-active': 'rgba(23, 143, 185, 0.15)',\n    '--color-selected-tree-highlight-inactive': 'rgba(255, 255, 255, 0.05)',\n    '--color-scroll-caret': '#4f5766',\n    '--color-shadow': 'rgba(0, 0, 0, 0.5)',\n    '--color-tab-selected-border': '#178fb9',\n    '--color-text': '#ffffff',\n    '--color-text-invalid': '#ff8080',\n    '--color-text-selected': '#ffffff',\n    '--color-toggle-background-invalid': '#fc3a4b',\n    '--color-toggle-background-on': '#178fb9',\n    '--color-toggle-background-off': '#777d88',\n    '--color-toggle-text': '#ffffff',\n    '--color-warning-background': '#ee1638',\n    '--color-warning-background-hover': '#da1030',\n    '--color-warning-text-color': '#ffffff',\n    '--color-warning-text-color-inverted': '#ee1638',\n\n    // The styles below should be kept in sync with 'root.css'\n    // They are repeated there because they're used by e.g. tooltips or context menus\n    // which get rendered outside of the DOM subtree (where normal theme/styles are written).\n    '--color-scroll-thumb': '#afb3b9',\n    '--color-scroll-track': '#313640',\n    '--color-tooltip-background': 'rgba(255, 255, 255, 0.95)',\n    '--color-tooltip-text': '#000000',\n  },\n  compact: {\n    '--font-size-monospace-small': '9px',\n    '--font-size-monospace-normal': '11px',\n    '--font-size-monospace-large': '15px',\n    '--font-size-sans-small': '10px',\n    '--font-size-sans-normal': '12px',\n    '--font-size-sans-large': '14px',\n    '--line-height-data': '18px',\n  },\n  comfortable: {\n    '--font-size-monospace-small': '10px',\n    '--font-size-monospace-normal': '13px',\n    '--font-size-monospace-large': '17px',\n    '--font-size-sans-small': '12px',\n    '--font-size-sans-normal': '14px',\n    '--font-size-sans-large': '16px',\n    '--line-height-data': '22px',\n  },\n};\n\n// HACK\n//\n// Sometimes the inline target is rendered before root styles are applied,\n// which would result in e.g. NaN itemSize being passed to react-window list.\nconst COMFORTABLE_LINE_HEIGHT = parseInt(\n  THEME_STYLES.comfortable['--line-height-data'],\n  10,\n);\nconst COMPACT_LINE_HEIGHT = parseInt(\n  THEME_STYLES.compact['--line-height-data'],\n  10,\n);\n\nexport {COMFORTABLE_LINE_HEIGHT, COMPACT_LINE_HEIGHT};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport type Wall = {|\n  // `listen` returns the \"unlisten\" function.\n  listen: (fn: Function) => Function,\n  send: (event: string, payload: any, transferable?: Array<any>) => void,\n|};\n\n// WARNING\n// The values below are referenced by ComponentFilters (which are saved via localStorage).\n// Do not change them or it will break previously saved user customizations.\n// If new element types are added, use new numbers rather than re-ordering existing ones.\n//\n// Changing these types is also a backwards breaking change for the standalone shell,\n// since the frontend and backend must share the same values-\n// and the backend is embedded in certain environments (like React Native).\nexport const ElementTypeClass = 1;\nexport const ElementTypeContext = 2;\nexport const ElementTypeFunction = 5;\nexport const ElementTypeForwardRef = 6;\nexport const ElementTypeHostComponent = 7;\nexport const ElementTypeMemo = 8;\nexport const ElementTypeOtherOrUnknown = 9;\nexport const ElementTypeProfiler = 10;\nexport const ElementTypeRoot = 11;\nexport const ElementTypeSuspense = 12;\nexport const ElementTypeSuspenseList = 13;\n\n// Different types of elements displayed in the Elements tree.\n// These types may be used to visually distinguish types,\n// or to enable/disable certain functionality.\nexport type ElementType = 1 | 2 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13;\n\n// WARNING\n// The values below are referenced by ComponentFilters (which are saved via localStorage).\n// Do not change them or it will break previously saved user customizations.\n// If new filter types are added, use new numbers rather than re-ordering existing ones.\nexport const ComponentFilterElementType = 1;\nexport const ComponentFilterDisplayName = 2;\nexport const ComponentFilterLocation = 3;\nexport const ComponentFilterHOC = 4;\n\nexport type ComponentFilterType = 1 | 2 | 3 | 4;\n\n// Hide all elements of types in this Set.\n// We hide host components only by default.\nexport type ElementTypeComponentFilter = {|\n  isEnabled: boolean,\n  type: 1,\n  value: ElementType,\n|};\n\n// Hide all elements with displayNames or paths matching one or more of the RegExps in this Set.\n// Path filters are only used when elements include debug source location.\nexport type RegExpComponentFilter = {|\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 2 | 3,\n  value: string,\n|};\n\nexport type BooleanComponentFilter = {|\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 4,\n|};\n\nexport type ComponentFilter =\n  | BooleanComponentFilter\n  | ElementTypeComponentFilter\n  | RegExpComponentFilter;\n\nexport type HookName = string | null;\n// Map of hook source (\"<filename>:<line-number>:<column-number>\") to name.\n// Hook source is used instead of the hook itself becuase the latter is not stable between element inspections.\n// We use a Map rather than an Array because of nested hooks and traversal ordering.\nexport type HookSourceLocationKey = string;\nexport type HookNames = Map<HookSourceLocationKey, HookName>;\n\nexport type LRUCache<K, V> = {|\n  get: (key: K) => V,\n  has: (key: K) => boolean,\n  remove: (key: K) => void,\n  reset: () => void,\n  set: (key: K, value: V) => void,\n|};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nexport let REACT_ELEMENT_TYPE = 0xeac7;\nexport let REACT_PORTAL_TYPE = 0xeaca;\nexport let REACT_FRAGMENT_TYPE = 0xeacb;\nexport let REACT_STRICT_MODE_TYPE = 0xeacc;\nexport let REACT_PROFILER_TYPE = 0xead2;\nexport let REACT_PROVIDER_TYPE = 0xeacd;\nexport let REACT_CONTEXT_TYPE = 0xeace;\nexport let REACT_FORWARD_REF_TYPE = 0xead0;\nexport let REACT_SUSPENSE_TYPE = 0xead1;\nexport let REACT_SUSPENSE_LIST_TYPE = 0xead8;\nexport let REACT_MEMO_TYPE = 0xead3;\nexport let REACT_LAZY_TYPE = 0xead4;\nexport let REACT_SCOPE_TYPE = 0xead7;\nexport let REACT_OPAQUE_ID_TYPE = 0xeae0;\nexport let REACT_DEBUG_TRACING_MODE_TYPE = 0xeae1;\nexport let REACT_OFFSCREEN_TYPE = 0xeae2;\nexport let REACT_LEGACY_HIDDEN_TYPE = 0xeae3;\nexport let REACT_CACHE_TYPE = 0xeae4;\n\nif (typeof Symbol === 'function' && Symbol.for) {\n  const symbolFor = Symbol.for;\n  REACT_ELEMENT_TYPE = symbolFor('react.element');\n  REACT_PORTAL_TYPE = symbolFor('react.portal');\n  REACT_FRAGMENT_TYPE = symbolFor('react.fragment');\n  REACT_STRICT_MODE_TYPE = symbolFor('react.strict_mode');\n  REACT_PROFILER_TYPE = symbolFor('react.profiler');\n  REACT_PROVIDER_TYPE = symbolFor('react.provider');\n  REACT_CONTEXT_TYPE = symbolFor('react.context');\n  REACT_FORWARD_REF_TYPE = symbolFor('react.forward_ref');\n  REACT_SUSPENSE_TYPE = symbolFor('react.suspense');\n  REACT_SUSPENSE_LIST_TYPE = symbolFor('react.suspense_list');\n  REACT_MEMO_TYPE = symbolFor('react.memo');\n  REACT_LAZY_TYPE = symbolFor('react.lazy');\n  REACT_SCOPE_TYPE = symbolFor('react.scope');\n  REACT_OPAQUE_ID_TYPE = symbolFor('react.opaque.id');\n  REACT_DEBUG_TRACING_MODE_TYPE = symbolFor('react.debug_trace_mode');\n  REACT_OFFSCREEN_TYPE = symbolFor('react.offscreen');\n  REACT_LEGACY_HIDDEN_TYPE = symbolFor('react.legacy_hidden');\n  REACT_CACHE_TYPE = symbolFor('react.cache');\n}\n\nconst MAYBE_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nconst FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nexport function getIteratorFn(maybeIterable: ?any): ?() => ?Iterator<*> {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n  const maybeIterator =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[FAUX_ITERATOR_SYMBOL];\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n  return null;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport LRU from 'lru-cache';\nimport {\n  isElement,\n  typeOf,\n  ContextConsumer,\n  ContextProvider,\n  ForwardRef,\n  Fragment,\n  Lazy,\n  Memo,\n  Portal,\n  Profiler,\n  StrictMode,\n  Suspense,\n} from 'react-is';\nimport {REACT_SUSPENSE_LIST_TYPE as SuspenseList} from 'shared/ReactSymbols';\nimport {\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REMOVE_ROOT,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n} from './constants';\nimport {ElementTypeRoot} from 'react-devtools-shared/src/types';\nimport {\n  LOCAL_STORAGE_FILTER_PREFERENCES_KEY,\n  LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS,\n  LOCAL_STORAGE_SHOULD_PATCH_CONSOLE_KEY,\n  LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY,\n  LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE,\n} from './constants';\nimport {ComponentFilterElementType, ElementTypeHostComponent} from './types';\nimport {\n  ElementTypeClass,\n  ElementTypeForwardRef,\n  ElementTypeFunction,\n  ElementTypeMemo,\n} from 'react-devtools-shared/src/types';\nimport {localStorageGetItem, localStorageSetItem} from './storage';\nimport {meta} from './hydration';\n\nimport type {ComponentFilter, ElementType} from './types';\nimport type {LRUCache} from 'react-devtools-shared/src/types';\n\nconst cachedDisplayNames: WeakMap<Function, string> = new WeakMap();\n\n// On large trees, encoding takes significant time.\n// Try to reuse the already encoded strings.\nconst encodedStringCache: LRUCache<string, Array<number>> = new LRU({\n  max: 1000,\n});\n\nexport function alphaSortKeys(\n  a: string | number | Symbol,\n  b: string | number | Symbol,\n): number {\n  if (a.toString() > b.toString()) {\n    return 1;\n  } else if (b.toString() > a.toString()) {\n    return -1;\n  } else {\n    return 0;\n  }\n}\n\nexport function getAllEnumerableKeys(\n  obj: Object,\n): Set<string | number | Symbol> {\n  const keys = new Set();\n  let current = obj;\n  while (current != null) {\n    const currentKeys = [\n      ...Object.keys(current),\n      ...Object.getOwnPropertySymbols(current),\n    ];\n    const descriptors = Object.getOwnPropertyDescriptors(current);\n    currentKeys.forEach(key => {\n      // $FlowFixMe: key can be a Symbol https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor\n      if (descriptors[key].enumerable) {\n        keys.add(key);\n      }\n    });\n    current = Object.getPrototypeOf(current);\n  }\n  return keys;\n}\n\nexport function getDisplayName(\n  type: Function,\n  fallbackName: string = 'Anonymous',\n): string {\n  const nameFromCache = cachedDisplayNames.get(type);\n  if (nameFromCache != null) {\n    return nameFromCache;\n  }\n\n  let displayName = fallbackName;\n\n  // The displayName property is not guaranteed to be a string.\n  // It's only safe to use for our purposes if it's a string.\n  // github.com/facebook/react-devtools/issues/803\n  if (typeof type.displayName === 'string') {\n    displayName = type.displayName;\n  } else if (typeof type.name === 'string' && type.name !== '') {\n    displayName = type.name;\n  }\n\n  cachedDisplayNames.set(type, displayName);\n  return displayName;\n}\n\nlet uidCounter: number = 0;\n\nexport function getUID(): number {\n  return ++uidCounter;\n}\n\nexport function utfDecodeString(array: Array<number>): string {\n  return String.fromCodePoint(...array);\n}\n\nexport function utfEncodeString(string: string): Array<number> {\n  const cached = encodedStringCache.get(string);\n  if (cached !== undefined) {\n    return cached;\n  }\n\n  const encoded = new Array(string.length);\n  for (let i = 0; i < string.length; i++) {\n    encoded[i] = string.codePointAt(i);\n  }\n  encodedStringCache.set(string, encoded);\n  return encoded;\n}\n\nexport function printOperationsArray(operations: Array<number>) {\n  // The first two values are always rendererID and rootID\n  const rendererID = operations[0];\n  const rootID = operations[1];\n\n  const logs = [`operations for renderer:${rendererID} and root:${rootID}`];\n\n  let i = 2;\n\n  // Reassemble the string table.\n  const stringTable = [\n    null, // ID = 0 corresponds to the null string.\n  ];\n  const stringTableSize = operations[i++];\n  const stringTableEnd = i + stringTableSize;\n  while (i < stringTableEnd) {\n    const nextLength = operations[i++];\n    const nextString = utfDecodeString(\n      (operations.slice(i, i + nextLength): any),\n    );\n    stringTable.push(nextString);\n    i += nextLength;\n  }\n\n  while (i < operations.length) {\n    const operation = operations[i];\n\n    switch (operation) {\n      case TREE_OPERATION_ADD: {\n        const id = ((operations[i + 1]: any): number);\n        const type = ((operations[i + 2]: any): ElementType);\n\n        i += 3;\n\n        if (type === ElementTypeRoot) {\n          logs.push(`Add new root node ${id}`);\n\n          i++; // supportsProfiling\n          i++; // hasOwnerMetadata\n        } else {\n          const parentID = ((operations[i]: any): number);\n          i++;\n\n          i++; // ownerID\n\n          const displayNameStringID = operations[i];\n          const displayName = stringTable[displayNameStringID];\n          i++;\n\n          i++; // key\n\n          logs.push(\n            `Add node ${id} (${displayName || 'null'}) as child of ${parentID}`,\n          );\n        }\n        break;\n      }\n      case TREE_OPERATION_REMOVE: {\n        const removeLength = ((operations[i + 1]: any): number);\n        i += 2;\n\n        for (let removeIndex = 0; removeIndex < removeLength; removeIndex++) {\n          const id = ((operations[i]: any): number);\n          i += 1;\n\n          logs.push(`Remove node ${id}`);\n        }\n        break;\n      }\n      case TREE_OPERATION_REMOVE_ROOT: {\n        i += 1;\n\n        logs.push(`Remove root ${rootID}`);\n        break;\n      }\n      case TREE_OPERATION_REORDER_CHILDREN: {\n        const id = ((operations[i + 1]: any): number);\n        const numChildren = ((operations[i + 2]: any): number);\n        i += 3;\n        const children = operations.slice(i, i + numChildren);\n        i += numChildren;\n\n        logs.push(`Re-order node ${id} children ${children.join(',')}`);\n        break;\n      }\n      case TREE_OPERATION_UPDATE_TREE_BASE_DURATION:\n        // Base duration updates are only sent while profiling is in progress.\n        // We can ignore them at this point.\n        // The profiler UI uses them lazily in order to generate the tree.\n        i += 3;\n        break;\n      case TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS:\n        const id = operations[i + 1];\n        const numErrors = operations[i + 2];\n        const numWarnings = operations[i + 3];\n\n        i += 4;\n\n        logs.push(\n          `Node ${id} has ${numErrors} errors and ${numWarnings} warnings`,\n        );\n        break;\n      default:\n        throw Error(`Unsupported Bridge operation \"${operation}\"`);\n    }\n  }\n\n  console.log(logs.join('\\n  '));\n}\n\nexport function getDefaultComponentFilters(): Array<ComponentFilter> {\n  return [\n    {\n      type: ComponentFilterElementType,\n      value: ElementTypeHostComponent,\n      isEnabled: true,\n    },\n  ];\n}\n\nexport function getSavedComponentFilters(): Array<ComponentFilter> {\n  try {\n    const raw = localStorageGetItem(LOCAL_STORAGE_FILTER_PREFERENCES_KEY);\n    if (raw != null) {\n      return JSON.parse(raw);\n    }\n  } catch (error) {}\n  return getDefaultComponentFilters();\n}\n\nexport function saveComponentFilters(\n  componentFilters: Array<ComponentFilter>,\n): void {\n  localStorageSetItem(\n    LOCAL_STORAGE_FILTER_PREFERENCES_KEY,\n    JSON.stringify(componentFilters),\n  );\n}\n\nexport function getAppendComponentStack(): boolean {\n  try {\n    const raw = localStorageGetItem(LOCAL_STORAGE_SHOULD_PATCH_CONSOLE_KEY);\n    if (raw != null) {\n      return JSON.parse(raw);\n    }\n  } catch (error) {}\n  return true;\n}\n\nexport function setAppendComponentStack(value: boolean): void {\n  localStorageSetItem(\n    LOCAL_STORAGE_SHOULD_PATCH_CONSOLE_KEY,\n    JSON.stringify(value),\n  );\n}\n\nexport function getBreakOnConsoleErrors(): boolean {\n  try {\n    const raw = localStorageGetItem(\n      LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS,\n    );\n    if (raw != null) {\n      return JSON.parse(raw);\n    }\n  } catch (error) {}\n  return false;\n}\n\nexport function setBreakOnConsoleErrors(value: boolean): void {\n  localStorageSetItem(\n    LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS,\n    JSON.stringify(value),\n  );\n}\n\nexport function getHideConsoleLogsInStrictMode(): boolean {\n  try {\n    const raw = localStorageGetItem(\n      LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE,\n    );\n    if (raw != null) {\n      return JSON.parse(raw);\n    }\n  } catch (error) {}\n  return false;\n}\n\nexport function sethideConsoleLogsInStrictMode(value: boolean): void {\n  localStorageSetItem(\n    LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE,\n    JSON.stringify(value),\n  );\n}\n\nexport function getShowInlineWarningsAndErrors(): boolean {\n  try {\n    const raw = localStorageGetItem(\n      LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY,\n    );\n    if (raw != null) {\n      return JSON.parse(raw);\n    }\n  } catch (error) {}\n  return true;\n}\n\nexport function setShowInlineWarningsAndErrors(value: boolean): void {\n  localStorageSetItem(\n    LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY,\n    JSON.stringify(value),\n  );\n}\n\nexport function separateDisplayNameAndHOCs(\n  displayName: string | null,\n  type: ElementType,\n): [string | null, Array<string> | null] {\n  if (displayName === null) {\n    return [null, null];\n  }\n\n  let hocDisplayNames = null;\n\n  switch (type) {\n    case ElementTypeClass:\n    case ElementTypeForwardRef:\n    case ElementTypeFunction:\n    case ElementTypeMemo:\n      if (displayName.indexOf('(') >= 0) {\n        const matches = displayName.match(/[^()]+/g);\n        if (matches != null) {\n          displayName = matches.pop();\n          hocDisplayNames = matches;\n        }\n      }\n      break;\n    default:\n      break;\n  }\n\n  if (type === ElementTypeMemo) {\n    if (hocDisplayNames === null) {\n      hocDisplayNames = ['Memo'];\n    } else {\n      hocDisplayNames.unshift('Memo');\n    }\n  } else if (type === ElementTypeForwardRef) {\n    if (hocDisplayNames === null) {\n      hocDisplayNames = ['ForwardRef'];\n    } else {\n      hocDisplayNames.unshift('ForwardRef');\n    }\n  }\n\n  return [displayName, hocDisplayNames];\n}\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nexport function shallowDiffers(prev: Object, next: Object): boolean {\n  for (const attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n  for (const attribute in next) {\n    if (prev[attribute] !== next[attribute]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function getInObject(object: Object, path: Array<string | number>): any {\n  return path.reduce((reduced: Object, attr: any): any => {\n    if (reduced) {\n      if (hasOwnProperty.call(reduced, attr)) {\n        return reduced[attr];\n      }\n      if (typeof reduced[Symbol.iterator] === 'function') {\n        // Convert iterable to array and return array[index]\n        //\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        return Array.from(reduced)[attr];\n      }\n    }\n\n    return null;\n  }, object);\n}\n\nexport function deletePathInObject(\n  object: Object,\n  path: Array<string | number>,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      if (Array.isArray(parent)) {\n        parent.splice(((last: any): number), 1);\n      } else {\n        delete parent[last];\n      }\n    }\n  }\n}\n\nexport function renamePathInObject(\n  object: Object,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n) {\n  const length = oldPath.length;\n  if (object != null) {\n    const parent = getInObject(object, oldPath.slice(0, length - 1));\n    if (parent) {\n      const lastOld = oldPath[length - 1];\n      const lastNew = newPath[length - 1];\n      parent[lastNew] = parent[lastOld];\n      if (Array.isArray(parent)) {\n        parent.splice(((lastOld: any): number), 1);\n      } else {\n        delete parent[lastOld];\n      }\n    }\n  }\n}\n\nexport function setInObject(\n  object: Object,\n  path: Array<string | number>,\n  value: any,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      parent[last] = value;\n    }\n  }\n}\n\nexport type DataType =\n  | 'array'\n  | 'array_buffer'\n  | 'bigint'\n  | 'boolean'\n  | 'data_view'\n  | 'date'\n  | 'function'\n  | 'html_all_collection'\n  | 'html_element'\n  | 'infinity'\n  | 'iterator'\n  | 'opaque_iterator'\n  | 'nan'\n  | 'null'\n  | 'number'\n  | 'object'\n  | 'react_element'\n  | 'regexp'\n  | 'string'\n  | 'symbol'\n  | 'typed_array'\n  | 'undefined'\n  | 'unknown';\n\n/**\n * Get a enhanced/artificial type string based on the object instance\n */\nexport function getDataType(data: Object): DataType {\n  if (data === null) {\n    return 'null';\n  } else if (data === undefined) {\n    return 'undefined';\n  }\n\n  if (isElement(data)) {\n    return 'react_element';\n  }\n\n  if (typeof HTMLElement !== 'undefined' && data instanceof HTMLElement) {\n    return 'html_element';\n  }\n\n  const type = typeof data;\n  switch (type) {\n    case 'bigint':\n      return 'bigint';\n    case 'boolean':\n      return 'boolean';\n    case 'function':\n      return 'function';\n    case 'number':\n      if (Number.isNaN(data)) {\n        return 'nan';\n      } else if (!Number.isFinite(data)) {\n        return 'infinity';\n      } else {\n        return 'number';\n      }\n    case 'object':\n      if (Array.isArray(data)) {\n        return 'array';\n      } else if (ArrayBuffer.isView(data)) {\n        return hasOwnProperty.call(data.constructor, 'BYTES_PER_ELEMENT')\n          ? 'typed_array'\n          : 'data_view';\n      } else if (data.constructor && data.constructor.name === 'ArrayBuffer') {\n        // HACK This ArrayBuffer check is gross; is there a better way?\n        // We could try to create a new DataView with the value.\n        // If it doesn't error, we know it's an ArrayBuffer,\n        // but this seems kind of awkward and expensive.\n        return 'array_buffer';\n      } else if (typeof data[Symbol.iterator] === 'function') {\n        const iterator = data[Symbol.iterator]();\n        if (!iterator) {\n          // Proxies might break assumptoins about iterators.\n          // See github.com/facebook/react/issues/21654\n        } else {\n          return iterator === data ? 'opaque_iterator' : 'iterator';\n        }\n      } else if (data.constructor && data.constructor.name === 'RegExp') {\n        return 'regexp';\n      } else {\n        const toStringValue = Object.prototype.toString.call(data);\n        if (toStringValue === '[object Date]') {\n          return 'date';\n        } else if (toStringValue === '[object HTMLAllCollection]') {\n          return 'html_all_collection';\n        }\n      }\n      return 'object';\n    case 'string':\n      return 'string';\n    case 'symbol':\n      return 'symbol';\n    case 'undefined':\n      if (\n        Object.prototype.toString.call(data) === '[object HTMLAllCollection]'\n      ) {\n        return 'html_all_collection';\n      }\n      return 'undefined';\n    default:\n      return 'unknown';\n  }\n}\n\nexport function getDisplayNameForReactElement(\n  element: React$Element<any>,\n): string | null {\n  const elementType = typeOf(element);\n  switch (elementType) {\n    case ContextConsumer:\n      return 'ContextConsumer';\n    case ContextProvider:\n      return 'ContextProvider';\n    case ForwardRef:\n      return 'ForwardRef';\n    case Fragment:\n      return 'Fragment';\n    case Lazy:\n      return 'Lazy';\n    case Memo:\n      return 'Memo';\n    case Portal:\n      return 'Portal';\n    case Profiler:\n      return 'Profiler';\n    case StrictMode:\n      return 'StrictMode';\n    case Suspense:\n      return 'Suspense';\n    case SuspenseList:\n      return 'SuspenseList';\n    default:\n      const {type} = element;\n      if (typeof type === 'string') {\n        return type;\n      } else if (typeof type === 'function') {\n        return getDisplayName(type, 'Anonymous');\n      } else if (type != null) {\n        return 'NotImplementedInDevtools';\n      } else {\n        return 'Element';\n      }\n  }\n}\n\nconst MAX_PREVIEW_STRING_LENGTH = 50;\n\nfunction truncateForDisplay(\n  string: string,\n  length: number = MAX_PREVIEW_STRING_LENGTH,\n) {\n  if (string.length > length) {\n    return string.substr(0, length) + '…';\n  } else {\n    return string;\n  }\n}\n\n// Attempts to mimic Chrome's inline preview for values.\n// For example, the following value...\n//   {\n//      foo: 123,\n//      bar: \"abc\",\n//      baz: [true, false],\n//      qux: { ab: 1, cd: 2 }\n//   };\n//\n// Would show a preview of...\n//   {foo: 123, bar: \"abc\", baz: Array(2), qux: {…}}\n//\n// And the following value...\n//   [\n//     123,\n//     \"abc\",\n//     [true, false],\n//     { foo: 123, bar: \"abc\" }\n//   ];\n//\n// Would show a preview of...\n//   [123, \"abc\", Array(2), {…}]\nexport function formatDataForPreview(\n  data: any,\n  showFormattedValue: boolean,\n): string {\n  if (data != null && hasOwnProperty.call(data, meta.type)) {\n    return showFormattedValue\n      ? data[meta.preview_long]\n      : data[meta.preview_short];\n  }\n\n  const type = getDataType(data);\n\n  switch (type) {\n    case 'html_element':\n      return `<${truncateForDisplay(data.tagName.toLowerCase())} />`;\n    case 'function':\n      return truncateForDisplay(\n        `ƒ ${typeof data.name === 'function' ? '' : data.name}() {}`,\n      );\n    case 'string':\n      return `\"${data}\"`;\n    case 'bigint':\n      return truncateForDisplay(data.toString() + 'n');\n    case 'regexp':\n      return truncateForDisplay(data.toString());\n    case 'symbol':\n      return truncateForDisplay(data.toString());\n    case 'react_element':\n      return `<${truncateForDisplay(\n        getDisplayNameForReactElement(data) || 'Unknown',\n      )} />`;\n    case 'array_buffer':\n      return `ArrayBuffer(${data.byteLength})`;\n    case 'data_view':\n      return `DataView(${data.buffer.byteLength})`;\n    case 'array':\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += formatDataForPreview(data[i], false);\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `[${truncateForDisplay(formatted)}]`;\n      } else {\n        const length = hasOwnProperty.call(data, meta.size)\n          ? data[meta.size]\n          : data.length;\n        return `Array(${length})`;\n      }\n    case 'typed_array':\n      const shortName = `${data.constructor.name}(${data.length})`;\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += data[i];\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `${shortName} [${truncateForDisplay(formatted)}]`;\n      } else {\n        return shortName;\n      }\n    case 'iterator':\n      const name = data.constructor.name;\n\n      if (showFormattedValue) {\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        const array = Array.from(data);\n\n        let formatted = '';\n        for (let i = 0; i < array.length; i++) {\n          const entryOrEntries = array[i];\n\n          if (i > 0) {\n            formatted += ', ';\n          }\n\n          // TRICKY\n          // Browsers display Maps and Sets differently.\n          // To mimic their behavior, detect if we've been given an entries tuple.\n          //   Map(2) {\"abc\" => 123, \"def\" => 123}\n          //   Set(2) {\"abc\", 123}\n          if (Array.isArray(entryOrEntries)) {\n            const key = formatDataForPreview(entryOrEntries[0], true);\n            const value = formatDataForPreview(entryOrEntries[1], false);\n            formatted += `${key} => ${value}`;\n          } else {\n            formatted += formatDataForPreview(entryOrEntries, false);\n          }\n\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n\n        return `${name}(${data.size}) {${truncateForDisplay(formatted)}}`;\n      } else {\n        return `${name}(${data.size})`;\n      }\n    case 'opaque_iterator': {\n      return data[Symbol.toStringTag];\n    }\n    case 'date':\n      return data.toString();\n    case 'object':\n      if (showFormattedValue) {\n        const keys = Array.from(getAllEnumerableKeys(data)).sort(alphaSortKeys);\n\n        let formatted = '';\n        for (let i = 0; i < keys.length; i++) {\n          const key = keys[i];\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += `${key.toString()}: ${formatDataForPreview(\n            data[key],\n            false,\n          )}`;\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `{${truncateForDisplay(formatted)}}`;\n      } else {\n        return '{…}';\n      }\n    case 'boolean':\n    case 'number':\n    case 'infinity':\n    case 'nan':\n    case 'null':\n    case 'undefined':\n      return data;\n    default:\n      try {\n        return truncateForDisplay('' + data);\n      } catch (error) {\n        return 'unserializable';\n      }\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This list should be kept updated to reflect additions to 'shared/ReactSymbols'.\n// DevTools can't import symbols from 'shared/ReactSymbols' directly for two reasons:\n// 1. DevTools requires symbols which may have been deleted in more recent versions (e.g. concurrent mode)\n// 2. DevTools must support both Symbol and numeric forms of each symbol;\n//    Since e.g. standalone DevTools runs in a separate process, it can't rely on its own ES capabilities.\n\nexport const CONCURRENT_MODE_NUMBER = 0xeacf;\nexport const CONCURRENT_MODE_SYMBOL_STRING = 'Symbol(react.concurrent_mode)';\n\nexport const CONTEXT_NUMBER = 0xeace;\nexport const CONTEXT_SYMBOL_STRING = 'Symbol(react.context)';\n\nexport const DEPRECATED_ASYNC_MODE_SYMBOL_STRING = 'Symbol(react.async_mode)';\n\nexport const ELEMENT_NUMBER = 0xeac7;\nexport const ELEMENT_SYMBOL_STRING = 'Symbol(react.element)';\n\nexport const DEBUG_TRACING_MODE_NUMBER = 0xeae1;\nexport const DEBUG_TRACING_MODE_SYMBOL_STRING =\n  'Symbol(react.debug_trace_mode)';\n\nexport const FORWARD_REF_NUMBER = 0xead0;\nexport const FORWARD_REF_SYMBOL_STRING = 'Symbol(react.forward_ref)';\n\nexport const FRAGMENT_NUMBER = 0xeacb;\nexport const FRAGMENT_SYMBOL_STRING = 'Symbol(react.fragment)';\n\nexport const LAZY_NUMBER = 0xead4;\nexport const LAZY_SYMBOL_STRING = 'Symbol(react.lazy)';\n\nexport const MEMO_NUMBER = 0xead3;\nexport const MEMO_SYMBOL_STRING = 'Symbol(react.memo)';\n\nexport const OPAQUE_ID_NUMBER = 0xeae0;\nexport const OPAQUE_ID_SYMBOL_STRING = 'Symbol(react.opaque.id)';\n\nexport const PORTAL_NUMBER = 0xeaca;\nexport const PORTAL_SYMBOL_STRING = 'Symbol(react.portal)';\n\nexport const PROFILER_NUMBER = 0xead2;\nexport const PROFILER_SYMBOL_STRING = 'Symbol(react.profiler)';\n\nexport const PROVIDER_NUMBER = 0xeacd;\nexport const PROVIDER_SYMBOL_STRING = 'Symbol(react.provider)';\n\nexport const SCOPE_NUMBER = 0xead7;\nexport const SCOPE_SYMBOL_STRING = 'Symbol(react.scope)';\n\nexport const STRICT_MODE_NUMBER = 0xeacc;\nexport const STRICT_MODE_SYMBOL_STRING = 'Symbol(react.strict_mode)';\n\nexport const SUSPENSE_NUMBER = 0xead1;\nexport const SUSPENSE_SYMBOL_STRING = 'Symbol(react.suspense)';\n\nexport const SUSPENSE_LIST_NUMBER = 0xead8;\nexport const SUSPENSE_LIST_SYMBOL_STRING = 'Symbol(react.suspense_list)';\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {copy} from 'clipboard-js';\nimport {dehydrate} from '../hydration';\nimport isArray from 'shared/isArray';\n\nimport type {DehydratedData} from 'react-devtools-shared/src/devtools/views/Components/types';\n\nexport function cleanForBridge(\n  data: Object | null,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  path?: Array<string | number> = [],\n): DehydratedData | null {\n  if (data !== null) {\n    const cleanedPaths = [];\n    const unserializablePaths = [];\n    const cleanedData = dehydrate(\n      data,\n      cleanedPaths,\n      unserializablePaths,\n      path,\n      isPathAllowed,\n    );\n\n    return {\n      data: cleanedData,\n      cleaned: cleanedPaths,\n      unserializable: unserializablePaths,\n    };\n  } else {\n    return null;\n  }\n}\n\nexport function copyToClipboard(value: any): void {\n  const safeToCopy = serializeToString(value);\n  const text = safeToCopy === undefined ? 'undefined' : safeToCopy;\n  const {clipboardCopyText} = window.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n\n  // On Firefox navigator.clipboard.writeText has to be called from\n  // the content script js code (because it requires the clipboardWrite\n  // permission to be allowed out of a \"user handling\" callback),\n  // clipboardCopyText is an helper injected into the page from.\n  // injectGlobalHook.\n  if (typeof clipboardCopyText === 'function') {\n    clipboardCopyText(text).catch(err => {});\n  } else {\n    copy(text);\n  }\n}\n\nexport function copyWithDelete(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const key = path[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === path.length) {\n    if (isArray(updated)) {\n      updated.splice(((key: any): number), 1);\n    } else {\n      delete updated[key];\n    }\n  } else {\n    // $FlowFixMe number or string is fine here\n    updated[key] = copyWithDelete(obj[key], path, index + 1);\n  }\n  return updated;\n}\n\n// This function expects paths to be the same except for the final value.\n// e.g. ['path', 'to', 'foo'] and ['path', 'to', 'bar']\nexport function copyWithRename(\n  obj: Object | Array<any>,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const oldKey = oldPath[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === oldPath.length) {\n    const newKey = newPath[index];\n    // $FlowFixMe number or string is fine here\n    updated[newKey] = updated[oldKey];\n    if (isArray(updated)) {\n      updated.splice(((oldKey: any): number), 1);\n    } else {\n      delete updated[oldKey];\n    }\n  } else {\n    // $FlowFixMe number or string is fine here\n    updated[oldKey] = copyWithRename(obj[oldKey], oldPath, newPath, index + 1);\n  }\n  return updated;\n}\n\nexport function copyWithSet(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  value: any,\n  index: number = 0,\n): Object | Array<any> {\n  if (index >= path.length) {\n    return value;\n  }\n  const key = path[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  // $FlowFixMe number or string is fine here\n  updated[key] = copyWithSet(obj[key], path, value, index + 1);\n  return updated;\n}\n\nexport function getEffectDurations(root: Object) {\n  // Profiling durations are only available for certain builds.\n  // If available, they'll be stored on the HostRoot.\n  let effectDuration = null;\n  let passiveEffectDuration = null;\n  const hostRoot = root.current;\n  if (hostRoot != null) {\n    const stateNode = hostRoot.stateNode;\n    if (stateNode != null) {\n      effectDuration =\n        stateNode.effectDuration != null ? stateNode.effectDuration : null;\n      passiveEffectDuration =\n        stateNode.passiveEffectDuration != null\n          ? stateNode.passiveEffectDuration\n          : null;\n    }\n  }\n  return {effectDuration, passiveEffectDuration};\n}\n\nexport function serializeToString(data: any): string {\n  const cache = new Set();\n  // Use a custom replacer function to protect against circular references.\n  return JSON.stringify(data, (key, value) => {\n    if (typeof value === 'object' && value !== null) {\n      if (cache.has(value)) {\n        return;\n      }\n      cache.add(value);\n    }\n    // $FlowFixMe\n    if (typeof value === 'bigint') {\n      return value.toString() + 'n';\n    }\n    return value;\n  });\n}\n\n// based on https://github.com/tmpfs/format-util/blob/0e62d430efb0a1c51448709abd3e2406c14d8401/format.js#L1\n// based on https://developer.mozilla.org/en-US/docs/Web/API/console#Using_string_substitutions\n// Implements s, d, i and f placeholders\n// NOTE: KEEP IN SYNC with src/hook.js\nexport function format(\n  maybeMessage: any,\n  ...inputArgs: $ReadOnlyArray<any>\n): string {\n  const args = inputArgs.slice();\n\n  // Symbols cannot be concatenated with Strings.\n  let formatted: string =\n    typeof maybeMessage === 'symbol'\n      ? maybeMessage.toString()\n      : '' + maybeMessage;\n\n  // If the first argument is a string, check for substitutions.\n  if (typeof maybeMessage === 'string') {\n    if (args.length) {\n      const REGEXP = /(%?)(%([jds]))/g;\n\n      formatted = formatted.replace(REGEXP, (match, escaped, ptn, flag) => {\n        let arg = args.shift();\n        switch (flag) {\n          case 's':\n            arg += '';\n            break;\n          case 'd':\n          case 'i':\n            arg = parseInt(arg, 10).toString();\n            break;\n          case 'f':\n            arg = parseFloat(arg).toString();\n            break;\n        }\n        if (!escaped) {\n          return arg;\n        }\n        args.unshift(arg);\n        return match;\n      });\n    }\n  }\n\n  // Arguments that remain after formatting.\n  if (args.length) {\n    for (let i = 0; i < args.length; i++) {\n      const arg = args[i];\n\n      // Symbols cannot be concatenated with Strings.\n      formatted += ' ' + (typeof arg === 'symbol' ? arg.toString() : arg);\n    }\n  }\n\n  // Update escaped %% values.\n  formatted = formatted.replace(/%{2,2}/g, '%');\n\n  return '' + formatted;\n}\n\nexport function isSynchronousXHRSupported(): boolean {\n  return !!(\n    window.document &&\n    window.document.featurePolicy &&\n    window.document.featurePolicy.allowsFeature('sync-xhr')\n  );\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport function localStorageGetItem(key: string): any {\n  try {\n    return localStorage.getItem(key);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function localStorageRemoveItem(key: string): void {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {}\n}\n\nexport function localStorageSetItem(key: string, value: any): void {\n  try {\n    return localStorage.setItem(key, value);\n  } catch (error) {}\n}\n\nexport function sessionStorageGetItem(key: string): any {\n  try {\n    return sessionStorage.getItem(key);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function sessionStorageRemoveItem(key: string): void {\n  try {\n    sessionStorage.removeItem(key);\n  } catch (error) {}\n}\n\nexport function sessionStorageSetItem(key: string, value: any): void {\n  try {\n    return sessionStorage.setItem(key, value);\n  } catch (error) {}\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {CurrentDispatcherRef, ReactRenderer, WorkTagMap} from './types';\nimport type {BrowserTheme} from 'react-devtools-shared/src/devtools/views/DevTools';\nimport {format} from './utils';\n\nimport {getInternalReactConstants} from './renderer';\nimport {getStackByFiberInDevAndProd} from './DevToolsFiberComponentStack';\nimport {consoleManagedByDevToolsDuringStrictMode} from 'react-devtools-feature-flags';\n\nconst OVERRIDE_CONSOLE_METHODS = ['error', 'trace', 'warn', 'log'];\nconst DIMMED_NODE_CONSOLE_COLOR = '\\x1b[2m%s\\x1b[0m';\n\n// React's custom built component stack strings match \"\\s{4}in\"\n// Chrome's prefix matches \"\\s{4}at\"\nconst PREFIX_REGEX = /\\s{4}(in|at)\\s{1}/;\n// Firefox and Safari have no prefix (\"\")\n// but we can fallback to looking for location info (e.g. \"foo.js:12:345\")\nconst ROW_COLUMN_NUMBER_REGEX = /:\\d+:\\d+(\\n|$)/;\n\nexport function isStringComponentStack(text: string): boolean {\n  return PREFIX_REGEX.test(text) || ROW_COLUMN_NUMBER_REGEX.test(text);\n}\n\ntype OnErrorOrWarning = (\n  fiber: Fiber,\n  type: 'error' | 'warn',\n  args: Array<any>,\n) => void;\n\nconst injectedRenderers: Map<\n  ReactRenderer,\n  {|\n    currentDispatcherRef: CurrentDispatcherRef,\n    getCurrentFiber: () => Fiber | null,\n    onErrorOrWarning: ?OnErrorOrWarning,\n    workTagMap: WorkTagMap,\n    getIsStrictMode: ?() => boolean,\n  |},\n> = new Map();\n\nlet targetConsole: Object = console;\nlet targetConsoleMethods = {};\nfor (const method in console) {\n  targetConsoleMethods[method] = console[method];\n}\n\nlet unpatchFn: null | (() => void) = null;\n\nlet isNode = false;\ntry {\n  isNode = this === global;\n} catch (error) {}\n\n// Enables e.g. Jest tests to inject a mock console object.\nexport function dangerous_setTargetConsoleForTesting(\n  targetConsoleForTesting: Object,\n): void {\n  targetConsole = targetConsoleForTesting;\n\n  targetConsoleMethods = {};\n  for (const method in targetConsole) {\n    targetConsoleMethods[method] = console[method];\n  }\n}\n\n// v16 renderers should use this method to inject internals necessary to generate a component stack.\n// These internals will be used if the console is patched.\n// Injecting them separately allows the console to easily be patched or un-patched later (at runtime).\nexport function registerRenderer(\n  renderer: ReactRenderer,\n  onErrorOrWarning?: OnErrorOrWarning,\n): void {\n  const {\n    currentDispatcherRef,\n    getCurrentFiber,\n    getIsStrictMode,\n    findFiberByHostInstance,\n    version,\n  } = renderer;\n\n  // Ignore React v15 and older because they don't expose a component stack anyway.\n  if (typeof findFiberByHostInstance !== 'function') {\n    return;\n  }\n\n  // currentDispatcherRef gets injected for v16.8+ to support hooks inspection.\n  // getCurrentFiber gets injected for v16.9+.\n  if (currentDispatcherRef != null && typeof getCurrentFiber === 'function') {\n    const {ReactTypeOfWork} = getInternalReactConstants(version);\n\n    injectedRenderers.set(renderer, {\n      currentDispatcherRef,\n      getCurrentFiber,\n      getIsStrictMode,\n      workTagMap: ReactTypeOfWork,\n      onErrorOrWarning,\n    });\n  }\n}\n\nconst consoleSettingsRef = {\n  appendComponentStack: false,\n  breakOnConsoleErrors: false,\n  showInlineWarningsAndErrors: false,\n  hideConsoleLogsInStrictMode: false,\n};\n\n// Patches console methods to append component stack for the current fiber.\n// Call unpatch() to remove the injected behavior.\n// NOTE: KEEP IN SYNC with src/hook.js:patchConsoleForInitialRenderInExtension\nexport function patch({\n  appendComponentStack,\n  breakOnConsoleErrors,\n  showInlineWarningsAndErrors,\n  hideConsoleLogsInStrictMode,\n  browserTheme,\n}: {\n  appendComponentStack: boolean,\n  breakOnConsoleErrors: boolean,\n  showInlineWarningsAndErrors: boolean,\n  hideConsoleLogsInStrictMode: boolean,\n  browserTheme: BrowserTheme,\n}): void {\n  // Settings may change after we've patched the console.\n  // Using a shared ref allows the patch function to read the latest values.\n  consoleSettingsRef.appendComponentStack = appendComponentStack;\n  consoleSettingsRef.breakOnConsoleErrors = breakOnConsoleErrors;\n  consoleSettingsRef.showInlineWarningsAndErrors = showInlineWarningsAndErrors;\n  consoleSettingsRef.hideConsoleLogsInStrictMode = hideConsoleLogsInStrictMode;\n\n  if (unpatchFn !== null) {\n    // Don't patch twice.\n    return;\n  }\n\n  const originalConsoleMethods = {};\n\n  unpatchFn = () => {\n    for (const method in originalConsoleMethods) {\n      try {\n        // $FlowFixMe property error|warn is not writable.\n        targetConsole[method] = originalConsoleMethods[method];\n      } catch (error) {}\n    }\n  };\n\n  OVERRIDE_CONSOLE_METHODS.forEach(method => {\n    try {\n      const originalMethod = (originalConsoleMethods[method] = targetConsole[\n        method\n      ].__REACT_DEVTOOLS_ORIGINAL_METHOD__\n        ? targetConsole[method].__REACT_DEVTOOLS_ORIGINAL_METHOD__\n        : targetConsole[method]);\n\n      const overrideMethod = (...args) => {\n        let shouldAppendWarningStack = false;\n        if (method !== 'log') {\n          if (consoleSettingsRef.appendComponentStack) {\n            const lastArg = args.length > 0 ? args[args.length - 1] : null;\n            const alreadyHasComponentStack =\n              typeof lastArg === 'string' && isStringComponentStack(lastArg);\n\n            // If we are ever called with a string that already has a component stack,\n            // e.g. a React error/warning, don't append a second stack.\n            shouldAppendWarningStack = !alreadyHasComponentStack;\n          }\n        }\n\n        const shouldShowInlineWarningsAndErrors =\n          consoleSettingsRef.showInlineWarningsAndErrors &&\n          (method === 'error' || method === 'warn');\n\n        let isInStrictMode = false;\n\n        // Search for the first renderer that has a current Fiber.\n        // We don't handle the edge case of stacks for more than one (e.g. interleaved renderers?)\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const {\n          currentDispatcherRef,\n          getCurrentFiber,\n          onErrorOrWarning,\n          workTagMap,\n          getIsStrictMode,\n        } of injectedRenderers.values()) {\n          const current: ?Fiber = getCurrentFiber();\n          if (current != null) {\n            try {\n              if (typeof getIsStrictMode === 'function' && getIsStrictMode()) {\n                isInStrictMode = true;\n              }\n\n              if (shouldShowInlineWarningsAndErrors) {\n                // patch() is called by two places: (1) the hook and (2) the renderer backend.\n                // The backend is what implements a message queue, so it's the only one that injects onErrorOrWarning.\n                if (typeof onErrorOrWarning === 'function') {\n                  onErrorOrWarning(\n                    current,\n                    ((method: any): 'error' | 'warn'),\n                    // Copy args before we mutate them (e.g. adding the component stack)\n                    args.slice(),\n                  );\n                }\n              }\n\n              if (shouldAppendWarningStack) {\n                const componentStack = getStackByFiberInDevAndProd(\n                  workTagMap,\n                  current,\n                  currentDispatcherRef,\n                );\n                if (componentStack !== '') {\n                  args.push(componentStack);\n                }\n              }\n            } catch (error) {\n              // Don't let a DevTools or React internal error interfere with logging.\n              setTimeout(() => {\n                throw error;\n              }, 0);\n            } finally {\n              break;\n            }\n          }\n        }\n\n        if (consoleSettingsRef.breakOnConsoleErrors) {\n          // --- Welcome to debugging with React DevTools ---\n          // This debugger statement means that you've enabled the \"break on warnings\" feature.\n          // Use the browser's Call Stack panel to step out of this override function-\n          // to where the original warning or error was logged.\n          // eslint-disable-next-line no-debugger\n          debugger;\n        }\n\n        if (consoleManagedByDevToolsDuringStrictMode && isInStrictMode) {\n          if (!consoleSettingsRef.hideConsoleLogsInStrictMode) {\n            // Dim the text color of the double logs if we're not\n            // hiding them.\n            if (isNode) {\n              originalMethod(DIMMED_NODE_CONSOLE_COLOR, format(...args));\n            } else {\n              let color;\n              switch (method) {\n                case 'warn':\n                  color =\n                    browserTheme === 'light'\n                      ? process.env.LIGHT_MODE_DIMMED_WARNING_COLOR\n                      : process.env.DARK_MODE_DIMMED_WARNING_COLOR;\n                  break;\n                case 'error':\n                  color =\n                    browserTheme === 'light'\n                      ? process.env.LIGHT_MODE_DIMMED_ERROR_COLOR\n                      : process.env.DARK_MODE_DIMMED_ERROR_COLOR;\n                  break;\n                case 'log':\n                default:\n                  color =\n                    browserTheme === 'light'\n                      ? process.env.LIGHT_MODE_DIMMED_LOG_COLOR\n                      : process.env.DARK_MODE_DIMMED_LOG_COLOR;\n                  break;\n              }\n\n              if (color) {\n                originalMethod(`%c${format(...args)}`, `color: ${color}`);\n              } else {\n                throw Error('Console color is not defined');\n              }\n            }\n          }\n        } else {\n          originalMethod(...args);\n        }\n      };\n\n      overrideMethod.__REACT_DEVTOOLS_ORIGINAL_METHOD__ = originalMethod;\n      originalMethod.__REACT_DEVTOOLS_OVERRIDE_METHOD__ = overrideMethod;\n\n      // $FlowFixMe property error|warn is not writable.\n      targetConsole[method] = overrideMethod;\n    } catch (error) {}\n  });\n}\n\n// Removed component stack patch from console methods.\nexport function unpatch(): void {\n  if (unpatchFn !== null) {\n    unpatchFn();\n    unpatchFn = null;\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/************************************************************************\n * This file is forked between different DevTools implementations.\n * It should never be imported directly!\n * It should always be imported from \"react-devtools-feature-flags\".\n ************************************************************************/\n\nexport const enableProfilerChangedHookIndices = false;\nexport const isInternalFacebookBuild = false;\n\nexport const consoleManagedByDevToolsDuringStrictMode = false;\n\n/************************************************************************\n * Do not edit the code below.\n * It ensures this fork exports the same types as the default flags file.\n ************************************************************************/\n\nimport typeof * as FeatureFlagsType from './DevToolsFeatureFlags.default';\nimport typeof * as ExportsType from './DevToolsFeatureFlags.core-oss';\n\n// eslint-disable-next-line no-unused-vars\ntype Check<_X, Y: _X, X: Y = _X> = null;\n// eslint-disable-next-line no-unused-expressions\n(null: Check<ExportsType, FeatureFlagsType>);\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  getDataType,\n  getDisplayNameForReactElement,\n  getAllEnumerableKeys,\n  getInObject,\n  formatDataForPreview,\n  setInObject,\n} from './utils';\n\nimport type {DehydratedData} from 'react-devtools-shared/src/devtools/views/Components/types';\n\nexport const meta = {\n  inspectable: Symbol('inspectable'),\n  inspected: Symbol('inspected'),\n  name: Symbol('name'),\n  preview_long: Symbol('preview_long'),\n  preview_short: Symbol('preview_short'),\n  readonly: Symbol('readonly'),\n  size: Symbol('size'),\n  type: Symbol('type'),\n  unserializable: Symbol('unserializable'),\n};\n\nexport type Dehydrated = {|\n  inspectable: boolean,\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n|};\n\n// Typed arrays and other complex iteratable objects (e.g. Map, Set, ImmutableJS) need special handling.\n// These objects can't be serialized without losing type information,\n// so a \"Unserializable\" type wrapper is used (with meta-data keys) to send nested values-\n// while preserving the original type and name.\nexport type Unserializable = {\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n  unserializable: boolean,\n  ...\n};\n\n// This threshold determines the depth at which the bridge \"dehydrates\" nested data.\n// Dehydration means that we don't serialize the data for e.g. postMessage or stringify,\n// unless the frontend explicitly requests it (e.g. a user clicks to expand a props object).\n//\n// Reducing this threshold will improve the speed of initial component inspection,\n// but may decrease the responsiveness of expanding objects/arrays to inspect further.\nconst LEVEL_THRESHOLD = 2;\n\n/**\n * Generate the dehydrated metadata for complex object instances\n */\nfunction createDehydrated(\n  type: string,\n  inspectable: boolean,\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  path: Array<string | number>,\n): Dehydrated {\n  cleaned.push(path);\n\n  const dehydrated: Dehydrated = {\n    inspectable,\n    type,\n    preview_long: formatDataForPreview(data, true),\n    preview_short: formatDataForPreview(data, false),\n    name:\n      !data.constructor || data.constructor.name === 'Object'\n        ? ''\n        : data.constructor.name,\n  };\n\n  if (type === 'array' || type === 'typed_array') {\n    dehydrated.size = data.length;\n  } else if (type === 'object') {\n    dehydrated.size = Object.keys(data).length;\n  }\n\n  if (type === 'iterator' || type === 'typed_array') {\n    dehydrated.readonly = true;\n  }\n\n  return dehydrated;\n}\n\n/**\n * Strip out complex data (instances, functions, and data nested > LEVEL_THRESHOLD levels deep).\n * The paths of the stripped out objects are appended to the `cleaned` list.\n * On the other side of the barrier, the cleaned list is used to \"re-hydrate\" the cleaned representation into\n * an object with symbols as attributes, so that a sanitized object can be distinguished from a normal object.\n *\n * Input: {\"some\": {\"attr\": fn()}, \"other\": AnInstance}\n * Output: {\n *   \"some\": {\n *     \"attr\": {\"name\": the fn.name, type: \"function\"}\n *   },\n *   \"other\": {\n *     \"name\": \"AnInstance\",\n *     \"type\": \"object\",\n *   },\n * }\n * and cleaned = [[\"some\", \"attr\"], [\"other\"]]\n */\nexport function dehydrate(\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n  path: Array<string | number>,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  level?: number = 0,\n):\n  | string\n  | Dehydrated\n  | Unserializable\n  | Array<Dehydrated>\n  | Array<Unserializable>\n  | {[key: string]: string | Dehydrated | Unserializable, ...} {\n  const type = getDataType(data);\n\n  let isPathAllowedCheck;\n\n  switch (type) {\n    case 'html_element':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.tagName,\n        type,\n      };\n\n    case 'function':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name:\n          typeof data.name === 'function' || !data.name\n            ? 'function'\n            : data.name,\n        type,\n      };\n\n    case 'string':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (isPathAllowedCheck) {\n        return data;\n      } else {\n        return data.length <= 500 ? data : data.slice(0, 500) + '...';\n      }\n\n    case 'bigint':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'symbol':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    // React Elements aren't very inspector-friendly,\n    // and often contain private fields or circular references.\n    case 'react_element':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: getDisplayNameForReactElement(data) || 'Unknown',\n        type,\n      };\n\n    // ArrayBuffers error if you try to inspect them.\n    case 'array_buffer':\n    case 'data_view':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: type === 'data_view' ? 'DataView' : 'ArrayBuffer',\n        size: data.byteLength,\n        type,\n      };\n\n    case 'array':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n      return data.map((item, i) =>\n        dehydrate(\n          item,\n          cleaned,\n          unserializable,\n          path.concat([i]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        ),\n      );\n\n    case 'html_all_collection':\n    case 'typed_array':\n    case 'iterator':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const unserializableValue: Unserializable = {\n          unserializable: true,\n          type: type,\n          readonly: true,\n          size: type === 'typed_array' ? data.length : undefined,\n          preview_short: formatDataForPreview(data, false),\n          preview_long: formatDataForPreview(data, true),\n          name:\n            !data.constructor || data.constructor.name === 'Object'\n              ? ''\n              : data.constructor.name,\n        };\n\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        Array.from(data).forEach(\n          (item, i) =>\n            (unserializableValue[i] = dehydrate(\n              item,\n              cleaned,\n              unserializable,\n              path.concat([i]),\n              isPathAllowed,\n              isPathAllowedCheck ? 1 : level + 1,\n            )),\n        );\n\n        unserializable.push(path);\n\n        return unserializableValue;\n      }\n\n    case 'opaque_iterator':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data[Symbol.toStringTag],\n        type,\n      };\n\n    case 'date':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'regexp':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'object':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const object = {};\n        getAllEnumerableKeys(data).forEach(key => {\n          const name = key.toString();\n          object[name] = dehydrate(\n            data[key],\n            cleaned,\n            unserializable,\n            path.concat([name]),\n            isPathAllowed,\n            isPathAllowedCheck ? 1 : level + 1,\n          );\n        });\n        return object;\n      }\n\n    case 'infinity':\n    case 'nan':\n    case 'undefined':\n      // Some values are lossy when sent through a WebSocket.\n      // We dehydrate+rehydrate them to preserve their type.\n      cleaned.push(path);\n      return {\n        type,\n      };\n\n    default:\n      return data;\n  }\n}\n\nexport function fillInPath(\n  object: Object,\n  data: DehydratedData,\n  path: Array<string | number>,\n  value: any,\n) {\n  const target = getInObject(object, path);\n  if (target != null) {\n    if (!target[meta.unserializable]) {\n      delete target[meta.inspectable];\n      delete target[meta.inspected];\n      delete target[meta.name];\n      delete target[meta.preview_long];\n      delete target[meta.preview_short];\n      delete target[meta.readonly];\n      delete target[meta.size];\n      delete target[meta.type];\n    }\n  }\n\n  if (value !== null && data.unserializable.length > 0) {\n    const unserializablePath = data.unserializable[0];\n    let isMatch = unserializablePath.length === path.length;\n    for (let i = 0; i < path.length; i++) {\n      if (path[i] !== unserializablePath[i]) {\n        isMatch = false;\n        break;\n      }\n    }\n    if (isMatch) {\n      upgradeUnserializable(value, value);\n    }\n  }\n\n  setInObject(object, path, value);\n}\n\nexport function hydrate(\n  object: any,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n): Object {\n  cleaned.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const value = parent[last];\n\n    if (!value) {\n      return;\n    } else if (value.type === 'infinity') {\n      parent[last] = Infinity;\n    } else if (value.type === 'nan') {\n      parent[last] = NaN;\n    } else if (value.type === 'undefined') {\n      parent[last] = undefined;\n    } else {\n      // Replace the string keys with Symbols so they're non-enumerable.\n      const replaced: {[key: Symbol]: boolean | string, ...} = {};\n      replaced[meta.inspectable] = !!value.inspectable;\n      replaced[meta.inspected] = false;\n      replaced[meta.name] = value.name;\n      replaced[meta.preview_long] = value.preview_long;\n      replaced[meta.preview_short] = value.preview_short;\n      replaced[meta.size] = value.size;\n      replaced[meta.readonly] = !!value.readonly;\n      replaced[meta.type] = value.type;\n\n      parent[last] = replaced;\n    }\n  });\n  unserializable.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const node = parent[last];\n\n    const replacement = {\n      ...node,\n    };\n\n    upgradeUnserializable(replacement, node);\n\n    parent[last] = replacement;\n  });\n  return object;\n}\n\nfunction upgradeUnserializable(destination: Object, source: Object) {\n  Object.defineProperties(destination, {\n    [meta.inspected]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.inspected,\n    },\n    [meta.name]: {\n      configurable: true,\n      enumerable: false,\n      value: source.name,\n    },\n    [meta.preview_long]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_long,\n    },\n    [meta.preview_short]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_short,\n    },\n    [meta.size]: {\n      configurable: true,\n      enumerable: false,\n      value: source.size,\n    },\n    [meta.readonly]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.readonly,\n    },\n    [meta.type]: {\n      configurable: true,\n      enumerable: false,\n      value: source.type,\n    },\n    [meta.unserializable]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.unserializable,\n    },\n  });\n\n  delete destination.inspected;\n  delete destination.name;\n  delete destination.preview_long;\n  delete destination.preview_short;\n  delete destination.size;\n  delete destination.readonly;\n  delete destination.type;\n  delete destination.unserializable;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\ndeclare function isArray(a: mixed): boolean %checks(Array.isArray(a));\n\nconst isArrayImpl = Array.isArray;\n\n// eslint-disable-next-line no-redeclare\nfunction isArray(a: mixed): boolean {\n  return isArrayImpl(a);\n}\n\nexport default isArray;\n","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar t = exports.tokens = {}\nvar R = 0\n\nfunction tok (n) {\n  t[n] = R++\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ntok('NUMERICIDENTIFIER')\nsrc[t.NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\ntok('NUMERICIDENTIFIERLOOSE')\nsrc[t.NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ntok('NONNUMERICIDENTIFIER')\nsrc[t.NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ntok('MAINVERSION')\nsrc[t.MAINVERSION] = '(' + src[t.NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[t.NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[t.NUMERICIDENTIFIER] + ')'\n\ntok('MAINVERSIONLOOSE')\nsrc[t.MAINVERSIONLOOSE] = '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ntok('PRERELEASEIDENTIFIER')\nsrc[t.PRERELEASEIDENTIFIER] = '(?:' + src[t.NUMERICIDENTIFIER] +\n                            '|' + src[t.NONNUMERICIDENTIFIER] + ')'\n\ntok('PRERELEASEIDENTIFIERLOOSE')\nsrc[t.PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[t.NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[t.NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ntok('PRERELEASE')\nsrc[t.PRERELEASE] = '(?:-(' + src[t.PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[t.PRERELEASEIDENTIFIER] + ')*))'\n\ntok('PRERELEASELOOSE')\nsrc[t.PRERELEASELOOSE] = '(?:-?(' + src[t.PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[t.PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ntok('BUILDIDENTIFIER')\nsrc[t.BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ntok('BUILD')\nsrc[t.BUILD] = '(?:\\\\+(' + src[t.BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[t.BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ntok('FULL')\ntok('FULLPLAIN')\nsrc[t.FULLPLAIN] = 'v?' + src[t.MAINVERSION] +\n                  src[t.PRERELEASE] + '?' +\n                  src[t.BUILD] + '?'\n\nsrc[t.FULL] = '^' + src[t.FULLPLAIN] + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ntok('LOOSEPLAIN')\nsrc[t.LOOSEPLAIN] = '[v=\\\\s]*' + src[t.MAINVERSIONLOOSE] +\n                  src[t.PRERELEASELOOSE] + '?' +\n                  src[t.BUILD] + '?'\n\ntok('LOOSE')\nsrc[t.LOOSE] = '^' + src[t.LOOSEPLAIN] + '$'\n\ntok('GTLT')\nsrc[t.GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ntok('XRANGEIDENTIFIERLOOSE')\nsrc[t.XRANGEIDENTIFIERLOOSE] = src[t.NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\ntok('XRANGEIDENTIFIER')\nsrc[t.XRANGEIDENTIFIER] = src[t.NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\ntok('XRANGEPLAIN')\nsrc[t.XRANGEPLAIN] = '[v=\\\\s]*(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[t.PRERELEASE] + ')?' +\n                   src[t.BUILD] + '?' +\n                   ')?)?'\n\ntok('XRANGEPLAINLOOSE')\nsrc[t.XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[t.PRERELEASELOOSE] + ')?' +\n                        src[t.BUILD] + '?' +\n                        ')?)?'\n\ntok('XRANGE')\nsrc[t.XRANGE] = '^' + src[t.GTLT] + '\\\\s*' + src[t.XRANGEPLAIN] + '$'\ntok('XRANGELOOSE')\nsrc[t.XRANGELOOSE] = '^' + src[t.GTLT] + '\\\\s*' + src[t.XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ntok('COERCE')\nsrc[t.COERCE] = '(^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\ntok('COERCERTL')\nre[t.COERCERTL] = new RegExp(src[t.COERCE], 'g')\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ntok('LONETILDE')\nsrc[t.LONETILDE] = '(?:~>?)'\n\ntok('TILDETRIM')\nsrc[t.TILDETRIM] = '(\\\\s*)' + src[t.LONETILDE] + '\\\\s+'\nre[t.TILDETRIM] = new RegExp(src[t.TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\ntok('TILDE')\nsrc[t.TILDE] = '^' + src[t.LONETILDE] + src[t.XRANGEPLAIN] + '$'\ntok('TILDELOOSE')\nsrc[t.TILDELOOSE] = '^' + src[t.LONETILDE] + src[t.XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ntok('LONECARET')\nsrc[t.LONECARET] = '(?:\\\\^)'\n\ntok('CARETTRIM')\nsrc[t.CARETTRIM] = '(\\\\s*)' + src[t.LONECARET] + '\\\\s+'\nre[t.CARETTRIM] = new RegExp(src[t.CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\ntok('CARET')\nsrc[t.CARET] = '^' + src[t.LONECARET] + src[t.XRANGEPLAIN] + '$'\ntok('CARETLOOSE')\nsrc[t.CARETLOOSE] = '^' + src[t.LONECARET] + src[t.XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ntok('COMPARATORLOOSE')\nsrc[t.COMPARATORLOOSE] = '^' + src[t.GTLT] + '\\\\s*(' + src[t.LOOSEPLAIN] + ')$|^$'\ntok('COMPARATOR')\nsrc[t.COMPARATOR] = '^' + src[t.GTLT] + '\\\\s*(' + src[t.FULLPLAIN] + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ntok('COMPARATORTRIM')\nsrc[t.COMPARATORTRIM] = '(\\\\s*)' + src[t.GTLT] +\n                      '\\\\s*(' + src[t.LOOSEPLAIN] + '|' + src[t.XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[t.COMPARATORTRIM] = new RegExp(src[t.COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ntok('HYPHENRANGE')\nsrc[t.HYPHENRANGE] = '^\\\\s*(' + src[t.XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[t.XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\ntok('HYPHENRANGELOOSE')\nsrc[t.HYPHENRANGELOOSE] = '^\\\\s*(' + src[t.XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[t.XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\ntok('STAR')\nsrc[t.STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\nSemVer.prototype.compareBuild = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  var i = 0\n  do {\n    var a = this.build[i]\n    var b = other.build[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.compareBuild = compareBuild\nfunction compareBuild (a, b, loose) {\n  var versionA = new SemVer(a, loose)\n  var versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compareBuild(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compareBuild(b, a, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1] !== undefined ? m[1] : ''\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY || version === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    try {\n      version = new SemVer(version, this.options)\n    } catch (er) {\n      return false\n    }\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    if (this.value === '') {\n      return true\n    }\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    if (comp.value === '') {\n      return true\n    }\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[t.COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return (\n      isSatisfiable(thisComparators, options) &&\n      range.set.some(function (rangeComparators) {\n        return (\n          isSatisfiable(rangeComparators, options) &&\n          thisComparators.every(function (thisComparator) {\n            return rangeComparators.every(function (rangeComparator) {\n              return thisComparator.intersects(rangeComparator, options)\n            })\n          })\n        )\n      })\n    )\n  })\n}\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nfunction isSatisfiable (comparators, options) {\n  var result = true\n  var remainingComparators = comparators.slice()\n  var testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every(function (otherComparator) {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p + pr\n    } else if (xm) {\n      ret = '>=' + M + '.0.0' + pr + ' <' + (+M + 1) + '.0.0' + pr\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0' + pr +\n        ' <' + M + '.' + (+m + 1) + '.0' + pr\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    try {\n      version = new SemVer(version, this.options)\n    } catch (er) {\n      return false\n    }\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version, options) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  var match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    var next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n      (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n          next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  return parse(match[2] +\n    '.' + (match[3] || '0') +\n    '.' + (match[4] || '0'), options)\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x: any, y: any) {\n  return (\n    (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y) // eslint-disable-line no-self-compare\n  );\n}\n\nconst objectIs: (x: any, y: any) => boolean =\n  typeof Object.is === 'function' ? Object.is : is;\n\nexport default objectIs;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {gt, gte} from 'semver';\nimport {\n  ComponentFilterDisplayName,\n  ComponentFilterElementType,\n  ComponentFilterHOC,\n  ComponentFilterLocation,\n  ElementTypeClass,\n  ElementTypeContext,\n  ElementTypeFunction,\n  ElementTypeForwardRef,\n  ElementTypeHostComponent,\n  ElementTypeMemo,\n  ElementTypeOtherOrUnknown,\n  ElementTypeProfiler,\n  ElementTypeRoot,\n  ElementTypeSuspense,\n  ElementTypeSuspenseList,\n} from 'react-devtools-shared/src/types';\nimport {\n  deletePathInObject,\n  getDisplayName,\n  getDefaultComponentFilters,\n  getInObject,\n  getUID,\n  renamePathInObject,\n  setInObject,\n  utfEncodeString,\n} from 'react-devtools-shared/src/utils';\nimport {sessionStorageGetItem} from 'react-devtools-shared/src/storage';\nimport {\n  cleanForBridge,\n  copyToClipboard,\n  copyWithDelete,\n  copyWithRename,\n  copyWithSet,\n  getEffectDurations,\n} from './utils';\nimport {\n  __DEBUG__,\n  SESSION_STORAGE_RELOAD_AND_PROFILE_KEY,\n  SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REMOVE_ROOT,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n} from '../constants';\nimport {inspectHooksOfFiber} from 'react-debug-tools';\nimport {\n  patch as patchConsole,\n  registerRenderer as registerRendererWithConsole,\n} from './console';\nimport {\n  CONCURRENT_MODE_NUMBER,\n  CONCURRENT_MODE_SYMBOL_STRING,\n  DEPRECATED_ASYNC_MODE_SYMBOL_STRING,\n  PROVIDER_NUMBER,\n  PROVIDER_SYMBOL_STRING,\n  CONTEXT_NUMBER,\n  CONTEXT_SYMBOL_STRING,\n  STRICT_MODE_NUMBER,\n  STRICT_MODE_SYMBOL_STRING,\n  PROFILER_NUMBER,\n  PROFILER_SYMBOL_STRING,\n  SCOPE_NUMBER,\n  SCOPE_SYMBOL_STRING,\n  FORWARD_REF_NUMBER,\n  FORWARD_REF_SYMBOL_STRING,\n  MEMO_NUMBER,\n  MEMO_SYMBOL_STRING,\n} from './ReactSymbols';\nimport {format} from './utils';\nimport {enableProfilerChangedHookIndices} from 'react-devtools-feature-flags';\nimport is from 'shared/objectIs';\nimport isArray from 'shared/isArray';\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {\n  ChangeDescription,\n  CommitDataBackend,\n  DevToolsHook,\n  InspectedElement,\n  InspectedElementPayload,\n  InstanceAndStyle,\n  NativeType,\n  PathFrame,\n  PathMatch,\n  ProfilingDataBackend,\n  ProfilingDataForRootBackend,\n  ReactRenderer,\n  RendererInterface,\n  SerializedElement,\n  WorkTagMap,\n} from './types';\nimport type {\n  ComponentFilter,\n  ElementType,\n} from 'react-devtools-shared/src/types';\n\ntype getDisplayNameForFiberType = (fiber: Fiber) => string | null;\ntype getTypeSymbolType = (type: any) => Symbol | number;\n\ntype ReactPriorityLevelsType = {|\n  ImmediatePriority: number,\n  UserBlockingPriority: number,\n  NormalPriority: number,\n  LowPriority: number,\n  IdlePriority: number,\n  NoPriority: number,\n|};\n\ntype ReactTypeOfSideEffectType = {|\n  DidCapture: number,\n  NoFlags: number,\n  PerformedWork: number,\n  Placement: number,\n  Incomplete: number,\n|};\n\nfunction getFiberFlags(fiber: Fiber): number {\n  // The name of this field changed from \"effectTag\" to \"flags\"\n  return fiber.flags !== undefined ? fiber.flags : (fiber: any).effectTag;\n}\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\nexport function getInternalReactConstants(\n  version: string,\n): {|\n  getDisplayNameForFiber: getDisplayNameForFiberType,\n  getTypeSymbol: getTypeSymbolType,\n  ReactPriorityLevels: ReactPriorityLevelsType,\n  ReactTypeOfSideEffect: ReactTypeOfSideEffectType,\n  ReactTypeOfWork: WorkTagMap,\n|} {\n  const ReactTypeOfSideEffect: ReactTypeOfSideEffectType = {\n    DidCapture: 0b10000000,\n    NoFlags: 0b00,\n    PerformedWork: 0b01,\n    Placement: 0b10,\n    Incomplete: 0b10000000000000,\n  };\n\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  //\n  // Technically these priority levels are invalid for versions before 16.9,\n  // but 16.9 is the first version to report priority level to DevTools,\n  // so we can avoid checking for earlier versions and support pre-16.9 canary releases in the process.\n  let ReactPriorityLevels: ReactPriorityLevelsType = {\n    ImmediatePriority: 99,\n    UserBlockingPriority: 98,\n    NormalPriority: 97,\n    LowPriority: 96,\n    IdlePriority: 95,\n    NoPriority: 90,\n  };\n\n  if (gt(version, '17.0.2')) {\n    ReactPriorityLevels = {\n      ImmediatePriority: 1,\n      UserBlockingPriority: 2,\n      NormalPriority: 3,\n      LowPriority: 4,\n      IdlePriority: 5,\n      NoPriority: 0,\n    };\n  }\n\n  let ReactTypeOfWork: WorkTagMap = ((null: any): WorkTagMap);\n\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  //\n  // TODO Update the gt() check below to be gte() whichever the next version number is.\n  // Currently the version in Git is 17.0.2 (but that version has not been/may not end up being released).\n  if (gt(version, '17.0.1')) {\n    ReactTypeOfWork = {\n      CacheComponent: 24, // Experimental\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: 23,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: 22, // Experimental\n      Profiler: 12,\n      ScopeComponent: 21, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      YieldComponent: -1, // Removed\n    };\n  } else if (gte(version, '17.0.0-alpha')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: 24,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: 23, // Experimental\n      Profiler: 12,\n      ScopeComponent: 21, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      YieldComponent: -1, // Removed\n    };\n  } else if (gte(version, '16.6.0-beta.0')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: -1,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 12,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      YieldComponent: -1, // Removed\n    };\n  } else if (gte(version, '16.4.3-alpha')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 11,\n      ContextProvider: 12,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 13,\n      Fragment: 9,\n      FunctionComponent: 0,\n      HostComponent: 7,\n      HostPortal: 6,\n      HostRoot: 5,\n      HostText: 8,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 4,\n      LazyComponent: -1, // Doesn't exist yet\n      LegacyHiddenComponent: -1,\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 10,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n    };\n  } else {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 12,\n      ContextProvider: 13,\n      CoroutineComponent: 7,\n      CoroutineHandlerPhase: 8,\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 14,\n      Fragment: 10,\n      FunctionComponent: 1,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostText: 6,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 0,\n      LazyComponent: -1, // Doesn't exist yet\n      LegacyHiddenComponent: -1,\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 11,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      YieldComponent: 9,\n    };\n  }\n  // **********************************************************\n  // End of copied code.\n  // **********************************************************\n\n  function getTypeSymbol(type: any): Symbol | number {\n    const symbolOrNumber =\n      typeof type === 'object' && type !== null ? type.$$typeof : type;\n\n    // $FlowFixMe Flow doesn't know about typeof \"symbol\"\n    return typeof symbolOrNumber === 'symbol'\n      ? symbolOrNumber.toString()\n      : symbolOrNumber;\n  }\n\n  const {\n    CacheComponent,\n    ClassComponent,\n    IncompleteClassComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    ForwardRef,\n    HostRoot,\n    HostComponent,\n    HostPortal,\n    HostText,\n    Fragment,\n    LazyComponent,\n    LegacyHiddenComponent,\n    MemoComponent,\n    OffscreenComponent,\n    Profiler,\n    ScopeComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n  } = ReactTypeOfWork;\n\n  function resolveFiberType(type: any) {\n    const typeSymbol = getTypeSymbol(type);\n    switch (typeSymbol) {\n      case MEMO_NUMBER:\n      case MEMO_SYMBOL_STRING:\n        // recursively resolving memo type in case of memo(forwardRef(Component))\n        return resolveFiberType(type.type);\n      case FORWARD_REF_NUMBER:\n      case FORWARD_REF_SYMBOL_STRING:\n        return type.render;\n      default:\n        return type;\n    }\n  }\n\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getDisplayNameForFiber(fiber: Fiber): string | null {\n    const {elementType, type, tag} = fiber;\n\n    let resolvedType = type;\n    if (typeof type === 'object' && type !== null) {\n      resolvedType = resolveFiberType(type);\n    }\n\n    let resolvedContext: any = null;\n\n    switch (tag) {\n      case CacheComponent:\n        return 'Cache';\n      case ClassComponent:\n      case IncompleteClassComponent:\n        return getDisplayName(resolvedType);\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return getDisplayName(resolvedType);\n      case ForwardRef:\n        // Mirror https://github.com/facebook/react/blob/7c21bf72ace77094fd1910cc350a548287ef8350/packages/shared/getComponentName.js#L27-L37\n        return (\n          (type && type.displayName) ||\n          getDisplayName(resolvedType, 'Anonymous')\n        );\n      case HostRoot:\n        return null;\n      case HostComponent:\n        return type;\n      case HostPortal:\n      case HostText:\n      case Fragment:\n        return null;\n      case LazyComponent:\n        // This display name will not be user visible.\n        // Once a Lazy component loads its inner component, React replaces the tag and type.\n        // This display name will only show up in console logs when DevTools DEBUG mode is on.\n        return 'Lazy';\n      case MemoComponent:\n      case SimpleMemoComponent:\n        return (\n          (elementType && elementType.displayName) ||\n          (type && type.displayName) ||\n          getDisplayName(resolvedType, 'Anonymous')\n        );\n      case SuspenseComponent:\n        return 'Suspense';\n      case LegacyHiddenComponent:\n        return 'LegacyHidden';\n      case OffscreenComponent:\n        return 'Offscreen';\n      case ScopeComponent:\n        return 'Scope';\n      case SuspenseListComponent:\n        return 'SuspenseList';\n      case Profiler:\n        return 'Profiler';\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return null;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            // 16.3.0 exposed the context object as \"context\"\n            // PR #12501 changed it to \"_context\" for 16.3.1+\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type.context;\n            return `${resolvedContext.displayName || 'Context'}.Provider`;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n            // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n            // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type;\n\n            // NOTE: TraceUpdatesBackendManager depends on the name ending in '.Consumer'\n            // If you change the name, figure out a more resilient way to detect it.\n            return `${resolvedContext.displayName || 'Context'}.Consumer`;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return null;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return `Profiler(${fiber.memoizedProps.id})`;\n          case SCOPE_NUMBER:\n          case SCOPE_SYMBOL_STRING:\n            return 'Scope';\n          default:\n            // Unknown element type.\n            // This may mean a new element type that has not yet been added to DevTools.\n            return null;\n        }\n    }\n  }\n\n  return {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    ReactTypeOfSideEffect,\n  };\n}\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: ReactRenderer,\n  global: Object,\n): RendererInterface {\n  // Newer versions of the reconciler package also specific reconciler version.\n  // If that version number is present, use it.\n  // Third party renderer versions may not match the reconciler version,\n  // and the latter is what's important in terms of tags and symbols.\n  const version = renderer.reconcilerVersion || renderer.version;\n\n  const {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    ReactTypeOfSideEffect,\n  } = getInternalReactConstants(version);\n  const {\n    DidCapture,\n    Incomplete,\n    NoFlags,\n    PerformedWork,\n    Placement,\n  } = ReactTypeOfSideEffect;\n  const {\n    CacheComponent,\n    ClassComponent,\n    ContextConsumer,\n    DehydratedSuspenseComponent,\n    ForwardRef,\n    Fragment,\n    FunctionComponent,\n    HostRoot,\n    HostPortal,\n    HostComponent,\n    HostText,\n    IncompleteClassComponent,\n    IndeterminateComponent,\n    LegacyHiddenComponent,\n    MemoComponent,\n    OffscreenComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n  } = ReactTypeOfWork;\n  const {\n    ImmediatePriority,\n    UserBlockingPriority,\n    NormalPriority,\n    LowPriority,\n    IdlePriority,\n    NoPriority,\n  } = ReactPriorityLevels;\n\n  const {\n    overrideHookState,\n    overrideHookStateDeletePath,\n    overrideHookStateRenamePath,\n    overrideProps,\n    overridePropsDeletePath,\n    overridePropsRenamePath,\n    scheduleRefresh,\n    setErrorHandler,\n    setSuspenseHandler,\n    scheduleUpdate,\n  } = renderer;\n  const supportsTogglingError =\n    typeof setErrorHandler === 'function' &&\n    typeof scheduleUpdate === 'function';\n  const supportsTogglingSuspense =\n    typeof setSuspenseHandler === 'function' &&\n    typeof scheduleUpdate === 'function';\n\n  if (typeof scheduleRefresh === 'function') {\n    // When Fast Refresh updates a component, the frontend may need to purge cached information.\n    // For example, ASTs cached for the component (for named hooks) may no longer be valid.\n    // Send a signal to the frontend to purge this cached information.\n    // The \"fastRefreshScheduled\" dispatched is global (not Fiber or even Renderer specific).\n    // This is less effecient since it means the front-end will need to purge the entire cache,\n    // but this is probably an okay trade off in order to reduce coupling between the DevTools and Fast Refresh.\n    renderer.scheduleRefresh = (...args) => {\n      try {\n        hook.emit('fastRefreshScheduled');\n      } finally {\n        return scheduleRefresh(...args);\n      }\n    };\n  }\n\n  // Tracks Fibers with recently changed number of error/warning messages.\n  // These collections store the Fiber rather than the ID,\n  // in order to avoid generating an ID for Fibers that never get mounted\n  // (due to e.g. Suspense or error boundaries).\n  // onErrorOrWarning() adds Fibers and recordPendingErrorsAndWarnings() later clears them.\n  const fibersWithChangedErrorOrWarningCounts: Set<Fiber> = new Set();\n  const pendingFiberToErrorsMap: Map<Fiber, Map<string, number>> = new Map();\n  const pendingFiberToWarningsMap: Map<Fiber, Map<string, number>> = new Map();\n\n  // Mapping of fiber IDs to error/warning messages and counts.\n  const fiberIDToErrorsMap: Map<number, Map<string, number>> = new Map();\n  const fiberIDToWarningsMap: Map<number, Map<string, number>> = new Map();\n\n  function clearErrorsAndWarnings() {\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const id of fiberIDToErrorsMap.keys()) {\n      const fiber = idToArbitraryFiberMap.get(id);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n        updateMostRecentlyInspectedElementIfNecessary(id);\n      }\n    }\n\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const id of fiberIDToWarningsMap.keys()) {\n      const fiber = idToArbitraryFiberMap.get(id);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n        updateMostRecentlyInspectedElementIfNecessary(id);\n      }\n    }\n\n    fiberIDToErrorsMap.clear();\n    fiberIDToWarningsMap.clear();\n\n    flushPendingEvents();\n  }\n\n  function clearMessageCountHelper(\n    fiberID: number,\n    pendingFiberToMessageCountMap: Map<Fiber, Map<string, number>>,\n    fiberIDToMessageCountMap: Map<number, Map<string, number>>,\n  ) {\n    const fiber = idToArbitraryFiberMap.get(fiberID);\n    if (fiber != null) {\n      // Throw out any pending changes.\n      pendingFiberToErrorsMap.delete(fiber);\n\n      if (fiberIDToMessageCountMap.has(fiberID)) {\n        fiberIDToMessageCountMap.delete(fiberID);\n\n        // If previous flushed counts have changed, schedule an update too.\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n        flushPendingEvents();\n\n        updateMostRecentlyInspectedElementIfNecessary(fiberID);\n      } else {\n        fibersWithChangedErrorOrWarningCounts.delete(fiber);\n      }\n    }\n  }\n\n  function clearErrorsForFiberID(fiberID: number) {\n    clearMessageCountHelper(\n      fiberID,\n      pendingFiberToErrorsMap,\n      fiberIDToErrorsMap,\n    );\n  }\n\n  function clearWarningsForFiberID(fiberID: number) {\n    clearMessageCountHelper(\n      fiberID,\n      pendingFiberToWarningsMap,\n      fiberIDToWarningsMap,\n    );\n  }\n\n  function updateMostRecentlyInspectedElementIfNecessary(\n    fiberID: number,\n  ): void {\n    if (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === fiberID\n    ) {\n      hasElementUpdatedSinceLastInspected = true;\n    }\n  }\n\n  // Called when an error or warning is logged during render, commit, or passive (including unmount functions).\n  function onErrorOrWarning(\n    fiber: Fiber,\n    type: 'error' | 'warn',\n    args: $ReadOnlyArray<any>,\n  ): void {\n    if (type === 'error') {\n      const maybeID = getFiberIDUnsafe(fiber);\n      // if this is an error simulated by us to trigger error boundary, ignore\n      if (maybeID != null && forceErrorForFiberIDs.get(maybeID) === true) {\n        return;\n      }\n    }\n    const message = format(...args);\n    if (__DEBUG__) {\n      debug('onErrorOrWarning', fiber, null, `${type}: \"${message}\"`);\n    }\n\n    // Mark this Fiber as needed its warning/error count updated during the next flush.\n    fibersWithChangedErrorOrWarningCounts.add(fiber);\n\n    // Track the warning/error for later.\n    const fiberMap =\n      type === 'error' ? pendingFiberToErrorsMap : pendingFiberToWarningsMap;\n    const messageMap = fiberMap.get(fiber);\n    if (messageMap != null) {\n      const count = messageMap.get(message) || 0;\n      messageMap.set(message, count + 1);\n    } else {\n      fiberMap.set(fiber, new Map([[message, 1]]));\n    }\n\n    // Passive effects may trigger errors or warnings too;\n    // In this case, we should wait until the rest of the passive effects have run,\n    // but we shouldn't wait until the next commit because that might be a long time.\n    // This would also cause \"tearing\" between an inspected Component and the tree view.\n    // Then again we don't want to flush too soon because this could be an error during async rendering.\n    // Use a debounce technique to ensure that we'll eventually flush.\n    flushPendingErrorsAndWarningsAfterDelay();\n  }\n\n  // Patching the console enables DevTools to do a few useful things:\n  // * Append component stacks to warnings and error messages\n  // * Disable logging during re-renders to inspect hooks (see inspectHooksOfFiber)\n  //\n  // Don't patch in test environments because we don't want to interfere with Jest's own console overrides.\n  if (process.env.NODE_ENV !== 'test') {\n    registerRendererWithConsole(renderer, onErrorOrWarning);\n\n    // The renderer interface can't read these preferences directly,\n    // because it is stored in localStorage within the context of the extension.\n    // It relies on the extension to pass the preference through via the global.\n    const appendComponentStack =\n      window.__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__ !== false;\n    const breakOnConsoleErrors =\n      window.__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__ === true;\n    const showInlineWarningsAndErrors =\n      window.__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__ !== false;\n    const hideConsoleLogsInStrictMode =\n      window.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__ === true;\n    const browserTheme = window.__REACT_DEVTOOLS_BROWSER_THEME__;\n\n    patchConsole({\n      appendComponentStack,\n      breakOnConsoleErrors,\n      showInlineWarningsAndErrors,\n      hideConsoleLogsInStrictMode,\n      browserTheme,\n    });\n  }\n\n  const debug = (\n    name: string,\n    fiber: Fiber,\n    parentFiber: ?Fiber,\n    extraString?: string = '',\n  ): void => {\n    if (__DEBUG__) {\n      const displayName =\n        fiber.tag + ':' + (getDisplayNameForFiber(fiber) || 'null');\n\n      const maybeID = getFiberIDUnsafe(fiber) || '<no id>';\n      const parentDisplayName = parentFiber\n        ? parentFiber.tag +\n          ':' +\n          (getDisplayNameForFiber(parentFiber) || 'null')\n        : '';\n      const maybeParentID = parentFiber\n        ? getFiberIDUnsafe(parentFiber) || '<no-id>'\n        : '';\n\n      console.groupCollapsed(\n        `[renderer] %c${name} %c${displayName} (${maybeID}) %c${\n          parentFiber ? `${parentDisplayName} (${maybeParentID})` : ''\n        } %c${extraString}`,\n        'color: red; font-weight: bold;',\n        'color: blue;',\n        'color: purple;',\n        'color: black;',\n      );\n      console.log(\n        new Error().stack\n          .split('\\n')\n          .slice(1)\n          .join('\\n'),\n      );\n      console.groupEnd();\n    }\n  };\n\n  // Configurable Components tree filters.\n  const hideElementsWithDisplayNames: Set<RegExp> = new Set();\n  const hideElementsWithPaths: Set<RegExp> = new Set();\n  const hideElementsWithTypes: Set<ElementType> = new Set();\n\n  // Highlight updates\n  let traceUpdatesEnabled: boolean = false;\n  const traceUpdatesForNodes: Set<NativeType> = new Set();\n\n  function applyComponentFilters(componentFilters: Array<ComponentFilter>) {\n    hideElementsWithTypes.clear();\n    hideElementsWithDisplayNames.clear();\n    hideElementsWithPaths.clear();\n\n    componentFilters.forEach(componentFilter => {\n      if (!componentFilter.isEnabled) {\n        return;\n      }\n\n      switch (componentFilter.type) {\n        case ComponentFilterDisplayName:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithDisplayNames.add(\n              new RegExp(componentFilter.value, 'i'),\n            );\n          }\n          break;\n        case ComponentFilterElementType:\n          hideElementsWithTypes.add(componentFilter.value);\n          break;\n        case ComponentFilterLocation:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithPaths.add(new RegExp(componentFilter.value, 'i'));\n          }\n          break;\n        case ComponentFilterHOC:\n          hideElementsWithDisplayNames.add(new RegExp('\\\\('));\n          break;\n        default:\n          console.warn(\n            `Invalid component filter type \"${componentFilter.type}\"`,\n          );\n          break;\n      }\n    });\n  }\n\n  // The renderer interface can't read saved component filters directly,\n  // because they are stored in localStorage within the context of the extension.\n  // Instead it relies on the extension to pass filters through.\n  if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ != null) {\n    applyComponentFilters(window.__REACT_DEVTOOLS_COMPONENT_FILTERS__);\n  } else {\n    // Unfortunately this feature is not expected to work for React Native for now.\n    // It would be annoying for us to spam YellowBox warnings with unactionable stuff,\n    // so for now just skip this message...\n    //console.warn('⚛️ DevTools: Could not locate saved component filters');\n\n    // Fallback to assuming the default filters in this case.\n    applyComponentFilters(getDefaultComponentFilters());\n  }\n\n  // If necessary, we can revisit optimizing this operation.\n  // For example, we could add a new recursive unmount tree operation.\n  // The unmount operations are already significantly smaller than mount operations though.\n  // This is something to keep in mind for later.\n  function updateComponentFilters(componentFilters: Array<ComponentFilter>) {\n    if (isProfiling) {\n      // Re-mounting a tree while profiling is in progress might break a lot of assumptions.\n      // If necessary, we could support this- but it doesn't seem like a necessary use case.\n      throw Error('Cannot modify filter preferences while profiling');\n    }\n\n    // Recursively unmount all roots.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      currentRootID = getOrGenerateFiberID(root.current);\n      // The TREE_OPERATION_REMOVE_ROOT operation serves two purposes:\n      // 1. It avoids sending unnecessary bridge traffic to clear a root.\n      // 2. It preserves Fiber IDs when remounting (below) which in turn ID to error/warning mapping.\n      pushOperation(TREE_OPERATION_REMOVE_ROOT);\n      flushPendingEvents(root);\n      currentRootID = -1;\n    });\n\n    applyComponentFilters(componentFilters);\n\n    // Reset pseudo counters so that new path selections will be persisted.\n    rootDisplayNameCounter.clear();\n\n    // Recursively re-mount all roots with new filter criteria applied.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      currentRootID = getOrGenerateFiberID(root.current);\n      setRootPseudoKey(currentRootID, root.current);\n      mountFiberRecursively(root.current, null, false, false);\n      flushPendingEvents(root);\n      currentRootID = -1;\n    });\n\n    // Also re-evaluate all error and warning counts given the new filters.\n    reevaluateErrorsAndWarnings();\n    flushPendingEvents();\n  }\n\n  // NOTICE Keep in sync with get*ForFiber methods\n  function shouldFilterFiber(fiber: Fiber): boolean {\n    const {_debugSource, tag, type} = fiber;\n\n    switch (tag) {\n      case DehydratedSuspenseComponent:\n        // TODO: ideally we would show dehydrated Suspense immediately.\n        // However, it has some special behavior (like disconnecting\n        // an alternate and turning into real Suspense) which breaks DevTools.\n        // For now, ignore it, and only show it once it gets hydrated.\n        // https://github.com/bvaughn/react-devtools-experimental/issues/197\n        return true;\n      case HostPortal:\n      case HostText:\n      case Fragment:\n      case LegacyHiddenComponent:\n      case OffscreenComponent:\n        return true;\n      case HostRoot:\n        // It is never valid to filter the root element.\n        return false;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return true;\n          default:\n            break;\n        }\n    }\n\n    const elementType = getElementTypeForFiber(fiber);\n    if (hideElementsWithTypes.has(elementType)) {\n      return true;\n    }\n\n    if (hideElementsWithDisplayNames.size > 0) {\n      const displayName = getDisplayNameForFiber(fiber);\n      if (displayName != null) {\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const displayNameRegExp of hideElementsWithDisplayNames) {\n          if (displayNameRegExp.test(displayName)) {\n            return true;\n          }\n        }\n      }\n    }\n\n    if (_debugSource != null && hideElementsWithPaths.size > 0) {\n      const {fileName} = _debugSource;\n      // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n      for (const pathRegExp of hideElementsWithPaths) {\n        if (pathRegExp.test(fileName)) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getElementTypeForFiber(fiber: Fiber): ElementType {\n    const {type, tag} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n        return ElementTypeClass;\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return ElementTypeFunction;\n      case ForwardRef:\n        return ElementTypeForwardRef;\n      case HostRoot:\n        return ElementTypeRoot;\n      case HostComponent:\n        return ElementTypeHostComponent;\n      case HostPortal:\n      case HostText:\n      case Fragment:\n        return ElementTypeOtherOrUnknown;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        return ElementTypeMemo;\n      case SuspenseComponent:\n        return ElementTypeSuspense;\n      case SuspenseListComponent:\n        return ElementTypeSuspenseList;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            return ElementTypeContext;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n            return ElementTypeContext;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return ElementTypeProfiler;\n          default:\n            return ElementTypeOtherOrUnknown;\n        }\n    }\n  }\n\n  // Map of one or more Fibers in a pair to their unique id number.\n  // We track both Fibers to support Fast Refresh,\n  // which may forcefully replace one of the pair as part of hot reloading.\n  // In that case it's still important to be able to locate the previous ID during subsequent renders.\n  const fiberToIDMap: Map<Fiber, number> = new Map();\n\n  // Map of id to one (arbitrary) Fiber in a pair.\n  // This Map is used to e.g. get the display name for a Fiber or schedule an update,\n  // operations that should be the same whether the current and work-in-progress Fiber is used.\n  const idToArbitraryFiberMap: Map<number, Fiber> = new Map();\n\n  // When profiling is supported, we store the latest tree base durations for each Fiber.\n  // This is so that we can quickly capture a snapshot of those values if profiling starts.\n  // If we didn't store these values, we'd have to crawl the tree when profiling started,\n  // and use a slow path to find each of the current Fibers.\n  const idToTreeBaseDurationMap: Map<number, number> = new Map();\n\n  // When profiling is supported, we store the latest tree base durations for each Fiber.\n  // This map enables us to filter these times by root when sending them to the frontend.\n  const idToRootMap: Map<number, number> = new Map();\n\n  // When a mount or update is in progress, this value tracks the root that is being operated on.\n  let currentRootID: number = -1;\n\n  // Returns the unique ID for a Fiber or generates and caches a new one if the Fiber hasn't been seen before.\n  // Once this method has been called for a Fiber, untrackFiberID() should always be called later to avoid leaking.\n  function getOrGenerateFiberID(fiber: Fiber): number {\n    let id = null;\n    if (fiberToIDMap.has(fiber)) {\n      id = fiberToIDMap.get(fiber);\n    } else {\n      const {alternate} = fiber;\n      if (alternate !== null && fiberToIDMap.has(alternate)) {\n        id = fiberToIDMap.get(alternate);\n      }\n    }\n\n    let didGenerateID = false;\n    if (id === null) {\n      didGenerateID = true;\n      id = getUID();\n    }\n\n    // This refinement is for Flow purposes only.\n    const refinedID = ((id: any): number);\n\n    // Make sure we're tracking this Fiber\n    // e.g. if it just mounted or an error was logged during initial render.\n    if (!fiberToIDMap.has(fiber)) {\n      fiberToIDMap.set(fiber, refinedID);\n      idToArbitraryFiberMap.set(refinedID, fiber);\n    }\n\n    // Also make sure we're tracking its alternate,\n    // e.g. in case this is the first update after mount.\n    const {alternate} = fiber;\n    if (alternate !== null) {\n      if (!fiberToIDMap.has(alternate)) {\n        fiberToIDMap.set(alternate, refinedID);\n      }\n    }\n\n    if (__DEBUG__) {\n      if (didGenerateID) {\n        debug(\n          'getOrGenerateFiberID()',\n          fiber,\n          fiber.return,\n          'Generated a new UID',\n        );\n      }\n    }\n\n    return refinedID;\n  }\n\n  // Returns an ID if one has already been generated for the Fiber or throws.\n  function getFiberIDThrows(fiber: Fiber): number {\n    const maybeID = getFiberIDUnsafe(fiber);\n    if (maybeID !== null) {\n      return maybeID;\n    }\n    throw Error(\n      `Could not find ID for Fiber \"${getDisplayNameForFiber(fiber) || ''}\"`,\n    );\n  }\n\n  // Returns an ID if one has already been generated for the Fiber or null if one has not been generated.\n  // Use this method while e.g. logging to avoid over-retaining Fibers.\n  function getFiberIDUnsafe(fiber: Fiber): number | null {\n    if (fiberToIDMap.has(fiber)) {\n      return ((fiberToIDMap.get(fiber): any): number);\n    } else {\n      const {alternate} = fiber;\n      if (alternate !== null && fiberToIDMap.has(alternate)) {\n        return ((fiberToIDMap.get(alternate): any): number);\n      }\n    }\n    return null;\n  }\n\n  // Removes a Fiber (and its alternate) from the Maps used to track their id.\n  // This method should always be called when a Fiber is unmounting.\n  function untrackFiberID(fiber: Fiber) {\n    if (__DEBUG__) {\n      debug('untrackFiberID()', fiber, fiber.return, 'schedule after delay');\n    }\n\n    // Untrack Fibers after a slight delay in order to support a Fast Refresh edge case:\n    // 1. Component type is updated and Fast Refresh schedules an update+remount.\n    // 2. flushPendingErrorsAndWarningsAfterDelay() runs, sees the old Fiber is no longer mounted\n    //    (it's been disconnected by Fast Refresh), and calls untrackFiberID() to clear it from the Map.\n    // 3. React flushes pending passive effects before it runs the next render,\n    //    which logs an error or warning, which causes a new ID to be generated for this Fiber.\n    // 4. DevTools now tries to unmount the old Component with the new ID.\n    //\n    // The underlying problem here is the premature clearing of the Fiber ID,\n    // but DevTools has no way to detect that a given Fiber has been scheduled for Fast Refresh.\n    // (The \"_debugNeedsRemount\" flag won't necessarily be set.)\n    //\n    // The best we can do is to delay untracking by a small amount,\n    // and give React time to process the Fast Refresh delay.\n\n    untrackFibersSet.add(fiber);\n\n    if (untrackFibersTimeoutID === null) {\n      untrackFibersTimeoutID = setTimeout(untrackFibers, 1000);\n    }\n  }\n\n  const untrackFibersSet: Set<Fiber> = new Set();\n  let untrackFibersTimeoutID: TimeoutID | null = null;\n\n  function untrackFibers() {\n    if (untrackFibersTimeoutID !== null) {\n      clearTimeout(untrackFibersTimeoutID);\n      untrackFibersTimeoutID = null;\n    }\n\n    untrackFibersSet.forEach(fiber => {\n      const fiberID = getFiberIDUnsafe(fiber);\n      if (fiberID !== null) {\n        idToArbitraryFiberMap.delete(fiberID);\n\n        // Also clear any errors/warnings associated with this fiber.\n        clearErrorsForFiberID(fiberID);\n        clearWarningsForFiberID(fiberID);\n      }\n\n      fiberToIDMap.delete(fiber);\n\n      const {alternate} = fiber;\n      if (alternate !== null) {\n        fiberToIDMap.delete(alternate);\n      }\n\n      if (forceErrorForFiberIDs.has(fiberID)) {\n        forceErrorForFiberIDs.delete(fiberID);\n        if (forceErrorForFiberIDs.size === 0 && setErrorHandler != null) {\n          setErrorHandler(shouldErrorFiberAlwaysNull);\n        }\n      }\n    });\n    untrackFibersSet.clear();\n  }\n\n  function getChangeDescription(\n    prevFiber: Fiber | null,\n    nextFiber: Fiber,\n  ): ChangeDescription | null {\n    switch (getElementTypeForFiber(nextFiber)) {\n      case ElementTypeClass:\n      case ElementTypeFunction:\n      case ElementTypeMemo:\n      case ElementTypeForwardRef:\n        if (prevFiber === null) {\n          return {\n            context: null,\n            didHooksChange: false,\n            isFirstMount: true,\n            props: null,\n            state: null,\n          };\n        } else {\n          const data: ChangeDescription = {\n            context: getContextChangedKeys(nextFiber),\n            didHooksChange: false,\n            isFirstMount: false,\n            props: getChangedKeys(\n              prevFiber.memoizedProps,\n              nextFiber.memoizedProps,\n            ),\n            state: getChangedKeys(\n              prevFiber.memoizedState,\n              nextFiber.memoizedState,\n            ),\n          };\n\n          // Only traverse the hooks list once, depending on what info we're returning.\n          if (enableProfilerChangedHookIndices) {\n            const indices = getChangedHooksIndices(\n              prevFiber.memoizedState,\n              nextFiber.memoizedState,\n            );\n            data.hooks = indices;\n            data.didHooksChange = indices !== null && indices.length > 0;\n          } else {\n            data.didHooksChange = didHooksChange(\n              prevFiber.memoizedState,\n              nextFiber.memoizedState,\n            );\n          }\n\n          return data;\n        }\n      default:\n        return null;\n    }\n  }\n\n  function updateContextsForFiber(fiber: Fiber) {\n    switch (getElementTypeForFiber(fiber)) {\n      case ElementTypeFunction:\n      case ElementTypeClass:\n        if (idToContextsMap !== null) {\n          const id = getFiberIDThrows(fiber);\n          const contexts = getContextsForFiber(fiber);\n          if (contexts !== null) {\n            idToContextsMap.set(id, contexts);\n          }\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  // Differentiates between a null context value and no context.\n  const NO_CONTEXT = {};\n\n  function getContextsForFiber(fiber: Fiber): [Object, any] | null {\n    let legacyContext = NO_CONTEXT;\n    let modernContext = NO_CONTEXT;\n\n    switch (getElementTypeForFiber(fiber)) {\n      case ElementTypeClass:\n        const instance = fiber.stateNode;\n        if (instance != null) {\n          if (\n            instance.constructor &&\n            instance.constructor.contextType != null\n          ) {\n            modernContext = instance.context;\n          } else {\n            legacyContext = instance.context;\n            if (legacyContext && Object.keys(legacyContext).length === 0) {\n              legacyContext = NO_CONTEXT;\n            }\n          }\n        }\n        return [legacyContext, modernContext];\n      case ElementTypeFunction:\n        const dependencies = fiber.dependencies;\n        if (dependencies && dependencies.firstContext) {\n          modernContext = dependencies.firstContext;\n        }\n\n        return [legacyContext, modernContext];\n      default:\n        return null;\n    }\n  }\n\n  // Record all contexts at the time profiling is started.\n  // Fibers only store the current context value,\n  // so we need to track them separately in order to determine changed keys.\n  function crawlToInitializeContextsMap(fiber: Fiber) {\n    updateContextsForFiber(fiber);\n    let current = fiber.child;\n    while (current !== null) {\n      crawlToInitializeContextsMap(current);\n      current = current.sibling;\n    }\n  }\n\n  function getContextChangedKeys(fiber: Fiber): null | boolean | Array<string> {\n    if (idToContextsMap !== null) {\n      const id = getFiberIDThrows(fiber);\n      const prevContexts = idToContextsMap.has(id)\n        ? idToContextsMap.get(id)\n        : null;\n      const nextContexts = getContextsForFiber(fiber);\n\n      if (prevContexts == null || nextContexts == null) {\n        return null;\n      }\n\n      const [prevLegacyContext, prevModernContext] = prevContexts;\n      const [nextLegacyContext, nextModernContext] = nextContexts;\n\n      switch (getElementTypeForFiber(fiber)) {\n        case ElementTypeClass:\n          if (prevContexts && nextContexts) {\n            if (nextLegacyContext !== NO_CONTEXT) {\n              return getChangedKeys(prevLegacyContext, nextLegacyContext);\n            } else if (nextModernContext !== NO_CONTEXT) {\n              return prevModernContext !== nextModernContext;\n            }\n          }\n          break;\n        case ElementTypeFunction:\n          if (nextModernContext !== NO_CONTEXT) {\n            let prevContext = prevModernContext;\n            let nextContext = nextModernContext;\n\n            while (prevContext && nextContext) {\n              if (!is(prevContext.memoizedValue, nextContext.memoizedValue)) {\n                return true;\n              }\n\n              prevContext = prevContext.next;\n              nextContext = nextContext.next;\n            }\n\n            return false;\n          }\n          break;\n        default:\n          break;\n      }\n    }\n    return null;\n  }\n\n  function areHookInputsEqual(\n    nextDeps: Array<mixed>,\n    prevDeps: Array<mixed> | null,\n  ) {\n    if (prevDeps === null) {\n      return false;\n    }\n\n    for (let i = 0; i < prevDeps.length && i < nextDeps.length; i++) {\n      if (is(nextDeps[i], prevDeps[i])) {\n        continue;\n      }\n      return false;\n    }\n    return true;\n  }\n\n  function isEffect(memoizedState) {\n    if (memoizedState === null || typeof memoizedState !== 'object') {\n      return false;\n    }\n    const {deps} = memoizedState;\n    const hasOwnProperty = Object.prototype.hasOwnProperty.bind(memoizedState);\n    return (\n      hasOwnProperty('create') &&\n      hasOwnProperty('destroy') &&\n      hasOwnProperty('deps') &&\n      hasOwnProperty('next') &&\n      hasOwnProperty('tag') &&\n      (deps === null || isArray(deps))\n    );\n  }\n\n  function didHookChange(prev: any, next: any): boolean {\n    const prevMemoizedState = prev.memoizedState;\n    const nextMemoizedState = next.memoizedState;\n\n    if (isEffect(prevMemoizedState) && isEffect(nextMemoizedState)) {\n      return (\n        prevMemoizedState !== nextMemoizedState &&\n        !areHookInputsEqual(nextMemoizedState.deps, prevMemoizedState.deps)\n      );\n    }\n    return nextMemoizedState !== prevMemoizedState;\n  }\n\n  function didHooksChange(prev: any, next: any): boolean {\n    if (prev == null || next == null) {\n      return false;\n    }\n\n    // We can't report anything meaningful for hooks changes.\n    if (\n      next.hasOwnProperty('baseState') &&\n      next.hasOwnProperty('memoizedState') &&\n      next.hasOwnProperty('next') &&\n      next.hasOwnProperty('queue')\n    ) {\n      while (next !== null) {\n        if (didHookChange(prev, next)) {\n          return true;\n        } else {\n          next = next.next;\n          prev = prev.next;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  function getChangedHooksIndices(prev: any, next: any): null | Array<number> {\n    if (enableProfilerChangedHookIndices) {\n      if (prev == null || next == null) {\n        return null;\n      }\n\n      const indices = [];\n      let index = 0;\n      if (\n        next.hasOwnProperty('baseState') &&\n        next.hasOwnProperty('memoizedState') &&\n        next.hasOwnProperty('next') &&\n        next.hasOwnProperty('queue')\n      ) {\n        while (next !== null) {\n          if (didHookChange(prev, next)) {\n            indices.push(index);\n          }\n          next = next.next;\n          prev = prev.next;\n          index++;\n        }\n      }\n\n      return indices;\n    }\n\n    return null;\n  }\n\n  function getChangedKeys(prev: any, next: any): null | Array<string> {\n    if (prev == null || next == null) {\n      return null;\n    }\n\n    // We can't report anything meaningful for hooks changes.\n    if (\n      next.hasOwnProperty('baseState') &&\n      next.hasOwnProperty('memoizedState') &&\n      next.hasOwnProperty('next') &&\n      next.hasOwnProperty('queue')\n    ) {\n      return null;\n    }\n\n    const keys = new Set([...Object.keys(prev), ...Object.keys(next)]);\n    const changedKeys = [];\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const key of keys) {\n      if (prev[key] !== next[key]) {\n        changedKeys.push(key);\n      }\n    }\n\n    return changedKeys;\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  function didFiberRender(prevFiber: Fiber, nextFiber: Fiber): boolean {\n    switch (nextFiber.tag) {\n      case ClassComponent:\n      case FunctionComponent:\n      case ContextConsumer:\n      case MemoComponent:\n      case SimpleMemoComponent:\n        // For types that execute user code, we check PerformedWork effect.\n        // We don't reflect bailouts (either referential or sCU) in DevTools.\n        // eslint-disable-next-line no-bitwise\n        return (getFiberFlags(nextFiber) & PerformedWork) === PerformedWork;\n      // Note: ContextConsumer only gets PerformedWork effect in 16.3.3+\n      // so it won't get highlighted with React 16.3.0 to 16.3.2.\n      default:\n        // For host components and other types, we compare inputs\n        // to determine whether something is an update.\n        return (\n          prevFiber.memoizedProps !== nextFiber.memoizedProps ||\n          prevFiber.memoizedState !== nextFiber.memoizedState ||\n          prevFiber.ref !== nextFiber.ref\n        );\n    }\n  }\n\n  type OperationsArray = Array<number>;\n\n  const pendingOperations: OperationsArray = [];\n  const pendingRealUnmountedIDs: Array<number> = [];\n  const pendingSimulatedUnmountedIDs: Array<number> = [];\n  let pendingOperationsQueue: Array<OperationsArray> | null = [];\n  const pendingStringTable: Map<string, number> = new Map();\n  let pendingStringTableLength: number = 0;\n  let pendingUnmountedRootID: number | null = null;\n\n  function pushOperation(op: number): void {\n    if (__DEV__) {\n      if (!Number.isInteger(op)) {\n        console.error(\n          'pushOperation() was called but the value is not an integer.',\n          op,\n        );\n      }\n    }\n    pendingOperations.push(op);\n  }\n\n  function flushOrQueueOperations(operations: OperationsArray): void {\n    if (pendingOperationsQueue !== null) {\n      pendingOperationsQueue.push(operations);\n    } else {\n      hook.emit('operations', operations);\n    }\n  }\n\n  let flushPendingErrorsAndWarningsAfterDelayTimeoutID = null;\n\n  function clearPendingErrorsAndWarningsAfterDelay() {\n    if (flushPendingErrorsAndWarningsAfterDelayTimeoutID !== null) {\n      clearTimeout(flushPendingErrorsAndWarningsAfterDelayTimeoutID);\n      flushPendingErrorsAndWarningsAfterDelayTimeoutID = null;\n    }\n  }\n\n  function flushPendingErrorsAndWarningsAfterDelay() {\n    clearPendingErrorsAndWarningsAfterDelay();\n\n    flushPendingErrorsAndWarningsAfterDelayTimeoutID = setTimeout(() => {\n      flushPendingErrorsAndWarningsAfterDelayTimeoutID = null;\n\n      if (pendingOperations.length > 0) {\n        // On the off chance that something else has pushed pending operations,\n        // we should bail on warnings; it's probably not safe to push midway.\n        return;\n      }\n\n      recordPendingErrorsAndWarnings();\n\n      if (pendingOperations.length === 0) {\n        // No warnings or errors to flush; we can bail out early here too.\n        return;\n      }\n\n      // We can create a smaller operations array than flushPendingEvents()\n      // because we only need to flush warning and error counts.\n      // Only a few pieces of fixed information are required up front.\n      const operations: OperationsArray = new Array(\n        3 + pendingOperations.length,\n      );\n      operations[0] = rendererID;\n      operations[1] = currentRootID;\n      operations[2] = 0; // String table size\n      for (let j = 0; j < pendingOperations.length; j++) {\n        operations[3 + j] = pendingOperations[j];\n      }\n\n      flushOrQueueOperations(operations);\n\n      pendingOperations.length = 0;\n    }, 1000);\n  }\n\n  function reevaluateErrorsAndWarnings() {\n    fibersWithChangedErrorOrWarningCounts.clear();\n    fiberIDToErrorsMap.forEach((countMap, fiberID) => {\n      const fiber = idToArbitraryFiberMap.get(fiberID);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n      }\n    });\n    fiberIDToWarningsMap.forEach((countMap, fiberID) => {\n      const fiber = idToArbitraryFiberMap.get(fiberID);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n      }\n    });\n    recordPendingErrorsAndWarnings();\n  }\n\n  function mergeMapsAndGetCountHelper(\n    fiber: Fiber,\n    fiberID: number,\n    pendingFiberToMessageCountMap: Map<Fiber, Map<string, number>>,\n    fiberIDToMessageCountMap: Map<number, Map<string, number>>,\n  ): number {\n    let newCount = 0;\n\n    let messageCountMap = fiberIDToMessageCountMap.get(fiberID);\n\n    const pendingMessageCountMap = pendingFiberToMessageCountMap.get(fiber);\n    if (pendingMessageCountMap != null) {\n      if (messageCountMap == null) {\n        messageCountMap = pendingMessageCountMap;\n\n        fiberIDToMessageCountMap.set(fiberID, pendingMessageCountMap);\n      } else {\n        // This Flow refinement should not be necessary and yet...\n        const refinedMessageCountMap = ((messageCountMap: any): Map<\n          string,\n          number,\n        >);\n\n        pendingMessageCountMap.forEach((pendingCount, message) => {\n          const previousCount = refinedMessageCountMap.get(message) || 0;\n          refinedMessageCountMap.set(message, previousCount + pendingCount);\n        });\n      }\n    }\n\n    if (!shouldFilterFiber(fiber)) {\n      if (messageCountMap != null) {\n        messageCountMap.forEach(count => {\n          newCount += count;\n        });\n      }\n    }\n\n    pendingFiberToMessageCountMap.delete(fiber);\n\n    return newCount;\n  }\n\n  function recordPendingErrorsAndWarnings() {\n    clearPendingErrorsAndWarningsAfterDelay();\n\n    fibersWithChangedErrorOrWarningCounts.forEach(fiber => {\n      const fiberID = getFiberIDUnsafe(fiber);\n      if (fiberID === null) {\n        // Don't send updates for Fibers that didn't mount due to e.g. Suspense or an error boundary.\n      } else {\n        const errorCount = mergeMapsAndGetCountHelper(\n          fiber,\n          fiberID,\n          pendingFiberToErrorsMap,\n          fiberIDToErrorsMap,\n        );\n        const warningCount = mergeMapsAndGetCountHelper(\n          fiber,\n          fiberID,\n          pendingFiberToWarningsMap,\n          fiberIDToWarningsMap,\n        );\n\n        pushOperation(TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS);\n        pushOperation(fiberID);\n        pushOperation(errorCount);\n        pushOperation(warningCount);\n      }\n\n      // Always clean up so that we don't leak.\n      pendingFiberToErrorsMap.delete(fiber);\n      pendingFiberToWarningsMap.delete(fiber);\n    });\n    fibersWithChangedErrorOrWarningCounts.clear();\n  }\n\n  function flushPendingEvents(root: Object): void {\n    // Add any pending errors and warnings to the operations array.\n    // We do this just before flushing, so we can ignore errors for no-longer-mounted Fibers.\n    recordPendingErrorsAndWarnings();\n\n    if (\n      pendingOperations.length === 0 &&\n      pendingRealUnmountedIDs.length === 0 &&\n      pendingSimulatedUnmountedIDs.length === 0 &&\n      pendingUnmountedRootID === null\n    ) {\n      // If we aren't profiling, we can just bail out here.\n      // No use sending an empty update over the bridge.\n      //\n      // The Profiler stores metadata for each commit and reconstructs the app tree per commit using:\n      // (1) an initial tree snapshot and\n      // (2) the operations array for each commit\n      // Because of this, it's important that the operations and metadata arrays align,\n      // So it's important not to omit even empty operations while profiling is active.\n      if (!isProfiling) {\n        return;\n      }\n    }\n\n    const numUnmountIDs =\n      pendingRealUnmountedIDs.length +\n      pendingSimulatedUnmountedIDs.length +\n      (pendingUnmountedRootID === null ? 0 : 1);\n\n    const operations = new Array(\n      // Identify which renderer this update is coming from.\n      2 + // [rendererID, rootFiberID]\n      // How big is the string table?\n      1 + // [stringTableLength]\n        // Then goes the actual string table.\n        pendingStringTableLength +\n        // All unmounts are batched in a single message.\n        // [TREE_OPERATION_REMOVE, removedIDLength, ...ids]\n        (numUnmountIDs > 0 ? 2 + numUnmountIDs : 0) +\n        // Regular operations\n        pendingOperations.length,\n    );\n\n    // Identify which renderer this update is coming from.\n    // This enables roots to be mapped to renderers,\n    // Which in turn enables fiber props, states, and hooks to be inspected.\n    let i = 0;\n    operations[i++] = rendererID;\n    operations[i++] = currentRootID;\n\n    // Now fill in the string table.\n    // [stringTableLength, str1Length, ...str1, str2Length, ...str2, ...]\n    operations[i++] = pendingStringTableLength;\n    pendingStringTable.forEach((value, key) => {\n      operations[i++] = key.length;\n      const encodedKey = utfEncodeString(key);\n      for (let j = 0; j < encodedKey.length; j++) {\n        operations[i + j] = encodedKey[j];\n      }\n      i += key.length;\n    });\n\n    if (numUnmountIDs > 0) {\n      // All unmounts except roots are batched in a single message.\n      operations[i++] = TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountIDs;\n      // Fill in the real unmounts in the reverse order.\n      // They were inserted parents-first by React, but we want children-first.\n      // So we traverse our array backwards.\n      for (let j = pendingRealUnmountedIDs.length - 1; j >= 0; j--) {\n        operations[i++] = pendingRealUnmountedIDs[j];\n      }\n      // Fill in the simulated unmounts (hidden Suspense subtrees) in their order.\n      // (We want children to go before parents.)\n      // They go *after* the real unmounts because we know for sure they won't be\n      // children of already pushed \"real\" IDs. If they were, we wouldn't be able\n      // to discover them during the traversal, as they would have been deleted.\n      for (let j = 0; j < pendingSimulatedUnmountedIDs.length; j++) {\n        operations[i + j] = pendingSimulatedUnmountedIDs[j];\n      }\n      i += pendingSimulatedUnmountedIDs.length;\n      // The root ID should always be unmounted last.\n      if (pendingUnmountedRootID !== null) {\n        operations[i] = pendingUnmountedRootID;\n        i++;\n      }\n    }\n    // Fill in the rest of the operations.\n    for (let j = 0; j < pendingOperations.length; j++) {\n      operations[i + j] = pendingOperations[j];\n    }\n    i += pendingOperations.length;\n\n    // Let the frontend know about tree operations.\n    flushOrQueueOperations(operations);\n\n    // Reset all of the pending state now that we've told the frontend about it.\n    pendingOperations.length = 0;\n    pendingRealUnmountedIDs.length = 0;\n    pendingSimulatedUnmountedIDs.length = 0;\n    pendingUnmountedRootID = null;\n    pendingStringTable.clear();\n    pendingStringTableLength = 0;\n  }\n\n  function getStringID(str: string | null): number {\n    if (str === null) {\n      return 0;\n    }\n    const existingID = pendingStringTable.get(str);\n    if (existingID !== undefined) {\n      return existingID;\n    }\n    const stringID = pendingStringTable.size + 1;\n    pendingStringTable.set(str, stringID);\n    // The string table total length needs to account\n    // both for the string length, and for the array item\n    // that contains the length itself. Hence + 1.\n    pendingStringTableLength += str.length + 1;\n    return stringID;\n  }\n\n  function recordMount(fiber: Fiber, parentFiber: Fiber | null) {\n    const isRoot = fiber.tag === HostRoot;\n    const id = getOrGenerateFiberID(fiber);\n\n    if (__DEBUG__) {\n      debug('recordMount()', fiber, parentFiber);\n    }\n\n    const hasOwnerMetadata = fiber.hasOwnProperty('_debugOwner');\n    const isProfilingSupported = fiber.hasOwnProperty('treeBaseDuration');\n\n    if (isRoot) {\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(ElementTypeRoot);\n      pushOperation(isProfilingSupported ? 1 : 0);\n      pushOperation(hasOwnerMetadata ? 1 : 0);\n\n      if (isProfiling) {\n        if (displayNamesByRootID !== null) {\n          displayNamesByRootID.set(id, getDisplayNameForRoot(fiber));\n        }\n      }\n    } else {\n      const {key} = fiber;\n      const displayName = getDisplayNameForFiber(fiber);\n      const elementType = getElementTypeForFiber(fiber);\n      const {_debugOwner} = fiber;\n\n      // Ideally we should call getFiberIDThrows() for _debugOwner,\n      // since owners are almost always higher in the tree (and so have already been processed),\n      // but in some (rare) instances reported in open source, a descendant mounts before an owner.\n      // Since this is a DEV only field it's probably okay to also just lazily generate and ID here if needed.\n      // See https://github.com/facebook/react/issues/21445\n      const ownerID =\n        _debugOwner != null ? getOrGenerateFiberID(_debugOwner) : 0;\n      const parentID = parentFiber ? getFiberIDThrows(parentFiber) : 0;\n\n      const displayNameStringID = getStringID(displayName);\n\n      // This check is a guard to handle a React element that has been modified\n      // in such a way as to bypass the default stringification of the \"key\" property.\n      const keyString = key === null ? null : '' + key;\n      const keyStringID = getStringID(keyString);\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(elementType);\n      pushOperation(parentID);\n      pushOperation(ownerID);\n      pushOperation(displayNameStringID);\n      pushOperation(keyStringID);\n    }\n\n    if (isProfilingSupported) {\n      idToRootMap.set(id, currentRootID);\n\n      recordProfilingDurations(fiber);\n    }\n  }\n\n  function recordUnmount(fiber: Fiber, isSimulated: boolean) {\n    if (__DEBUG__) {\n      debug(\n        'recordUnmount()',\n        fiber,\n        null,\n        isSimulated ? 'unmount is simulated' : '',\n      );\n    }\n\n    if (trackedPathMatchFiber !== null) {\n      // We're in the process of trying to restore previous selection.\n      // If this fiber matched but is being unmounted, there's no use trying.\n      // Reset the state so we don't keep holding onto it.\n      if (\n        fiber === trackedPathMatchFiber ||\n        fiber === trackedPathMatchFiber.alternate\n      ) {\n        setTrackedPath(null);\n      }\n    }\n\n    const unsafeID = getFiberIDUnsafe(fiber);\n    if (unsafeID === null) {\n      // If we've never seen this Fiber, it might be inside of a legacy render Suspense fragment (so the store is not even aware of it).\n      // In that case we can just ignore it or it will cause errors later on.\n      // One example of this is a Lazy component that never resolves before being unmounted.\n      //\n      // This also might indicate a Fast Refresh force-remount scenario.\n      //\n      // TODO: This is fragile and can obscure actual bugs.\n      return;\n    }\n\n    // Flow refinement.\n    const id = ((unsafeID: any): number);\n    const isRoot = fiber.tag === HostRoot;\n    if (isRoot) {\n      // Roots must be removed only after all children (pending and simulated) have been removed.\n      // So we track it separately.\n      pendingUnmountedRootID = id;\n    } else if (!shouldFilterFiber(fiber)) {\n      // To maintain child-first ordering,\n      // we'll push it into one of these queues,\n      // and later arrange them in the correct order.\n      if (isSimulated) {\n        pendingSimulatedUnmountedIDs.push(id);\n      } else {\n        pendingRealUnmountedIDs.push(id);\n      }\n    }\n\n    if (!fiber._debugNeedsRemount) {\n      untrackFiberID(fiber);\n\n      const isProfilingSupported = fiber.hasOwnProperty('treeBaseDuration');\n      if (isProfilingSupported) {\n        idToRootMap.delete(id);\n        idToTreeBaseDurationMap.delete(id);\n      }\n    }\n  }\n\n  function mountFiberRecursively(\n    firstChild: Fiber,\n    parentFiber: Fiber | null,\n    traverseSiblings: boolean,\n    traceNearestHostComponentUpdate: boolean,\n  ) {\n    // Iterate over siblings rather than recursing.\n    // This reduces the chance of stack overflow for wide trees (e.g. lists with many items).\n    let fiber: Fiber | null = firstChild;\n    while (fiber !== null) {\n      // Generate an ID even for filtered Fibers, in case it's needed later (e.g. for Profiling).\n      getOrGenerateFiberID(fiber);\n\n      if (__DEBUG__) {\n        debug('mountFiberRecursively()', fiber, parentFiber);\n      }\n\n      // If we have the tree selection from previous reload, try to match this Fiber.\n      // Also remember whether to do the same for siblings.\n      const mightSiblingsBeOnTrackedPath = updateTrackedPathStateBeforeMount(\n        fiber,\n      );\n\n      const shouldIncludeInTree = !shouldFilterFiber(fiber);\n      if (shouldIncludeInTree) {\n        recordMount(fiber, parentFiber);\n      }\n\n      if (traceUpdatesEnabled) {\n        if (traceNearestHostComponentUpdate) {\n          const elementType = getElementTypeForFiber(fiber);\n          // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n          if (elementType === ElementTypeHostComponent) {\n            traceUpdatesForNodes.add(fiber.stateNode);\n            traceNearestHostComponentUpdate = false;\n          }\n        }\n\n        // We intentionally do not re-enable the traceNearestHostComponentUpdate flag in this branch,\n        // because we don't want to highlight every host node inside of a newly mounted subtree.\n      }\n\n      const isSuspense = fiber.tag === ReactTypeOfWork.SuspenseComponent;\n      if (isSuspense) {\n        const isTimedOut = fiber.memoizedState !== null;\n        if (isTimedOut) {\n          // Special case: if Suspense mounts in a timed-out state,\n          // get the fallback child from the inner fragment and mount\n          // it as if it was our own child. Updates handle this too.\n          const primaryChildFragment = fiber.child;\n          const fallbackChildFragment = primaryChildFragment\n            ? primaryChildFragment.sibling\n            : null;\n          const fallbackChild = fallbackChildFragment\n            ? fallbackChildFragment.child\n            : null;\n          if (fallbackChild !== null) {\n            mountFiberRecursively(\n              fallbackChild,\n              shouldIncludeInTree ? fiber : parentFiber,\n              true,\n              traceNearestHostComponentUpdate,\n            );\n          }\n        } else {\n          let primaryChild: Fiber | null = null;\n          const areSuspenseChildrenConditionallyWrapped =\n            OffscreenComponent === -1;\n          if (areSuspenseChildrenConditionallyWrapped) {\n            primaryChild = fiber.child;\n          } else if (fiber.child !== null) {\n            primaryChild = fiber.child.child;\n          }\n          if (primaryChild !== null) {\n            mountFiberRecursively(\n              primaryChild,\n              shouldIncludeInTree ? fiber : parentFiber,\n              true,\n              traceNearestHostComponentUpdate,\n            );\n          }\n        }\n      } else {\n        if (fiber.child !== null) {\n          mountFiberRecursively(\n            fiber.child,\n            shouldIncludeInTree ? fiber : parentFiber,\n            true,\n            traceNearestHostComponentUpdate,\n          );\n        }\n      }\n\n      // We're exiting this Fiber now, and entering its siblings.\n      // If we have selection to restore, we might need to re-activate tracking.\n      updateTrackedPathStateAfterMount(mightSiblingsBeOnTrackedPath);\n\n      fiber = traverseSiblings ? fiber.sibling : null;\n    }\n  }\n\n  // We use this to simulate unmounting for Suspense trees\n  // when we switch from primary to fallback.\n  function unmountFiberChildrenRecursively(fiber: Fiber) {\n    if (__DEBUG__) {\n      debug('unmountFiberChildrenRecursively()', fiber);\n    }\n\n    // We might meet a nested Suspense on our way.\n    const isTimedOutSuspense =\n      fiber.tag === ReactTypeOfWork.SuspenseComponent &&\n      fiber.memoizedState !== null;\n\n    let child = fiber.child;\n    if (isTimedOutSuspense) {\n      // If it's showing fallback tree, let's traverse it instead.\n      const primaryChildFragment = fiber.child;\n      const fallbackChildFragment = primaryChildFragment\n        ? primaryChildFragment.sibling\n        : null;\n      // Skip over to the real Fiber child.\n      child = fallbackChildFragment ? fallbackChildFragment.child : null;\n    }\n\n    while (child !== null) {\n      // Record simulated unmounts children-first.\n      // We skip nodes without return because those are real unmounts.\n      if (child.return !== null) {\n        unmountFiberChildrenRecursively(child);\n        recordUnmount(child, true);\n      }\n      child = child.sibling;\n    }\n  }\n\n  function recordProfilingDurations(fiber: Fiber) {\n    const id = getFiberIDThrows(fiber);\n    const {actualDuration, treeBaseDuration} = fiber;\n\n    idToTreeBaseDurationMap.set(id, treeBaseDuration || 0);\n\n    if (isProfiling) {\n      const {alternate} = fiber;\n\n      // It's important to update treeBaseDuration even if the current Fiber did not render,\n      // because it's possible that one of its descendants did.\n      if (\n        alternate == null ||\n        treeBaseDuration !== alternate.treeBaseDuration\n      ) {\n        // Tree base duration updates are included in the operations typed array.\n        // So we have to convert them from milliseconds to microseconds so we can send them as ints.\n        const convertedTreeBaseDuration = Math.floor(\n          (treeBaseDuration || 0) * 1000,\n        );\n        pushOperation(TREE_OPERATION_UPDATE_TREE_BASE_DURATION);\n        pushOperation(id);\n        pushOperation(convertedTreeBaseDuration);\n      }\n\n      if (alternate == null || didFiberRender(alternate, fiber)) {\n        if (actualDuration != null) {\n          // The actual duration reported by React includes time spent working on children.\n          // This is useful information, but it's also useful to be able to exclude child durations.\n          // The frontend can't compute this, since the immediate children may have been filtered out.\n          // So we need to do this on the backend.\n          // Note that this calculated self duration is not the same thing as the base duration.\n          // The two are calculated differently (tree duration does not accumulate).\n          let selfDuration = actualDuration;\n          let child = fiber.child;\n          while (child !== null) {\n            selfDuration -= child.actualDuration || 0;\n            child = child.sibling;\n          }\n\n          // If profiling is active, store durations for elements that were rendered during the commit.\n          // Note that we should do this for any fiber we performed work on, regardless of its actualDuration value.\n          // In some cases actualDuration might be 0 for fibers we worked on (particularly if we're using Date.now)\n          // In other cases (e.g. Memo) actualDuration might be greater than 0 even if we \"bailed out\".\n          const metadata = ((currentCommitProfilingMetadata: any): CommitProfilingData);\n          metadata.durations.push(id, actualDuration, selfDuration);\n          metadata.maxActualDuration = Math.max(\n            metadata.maxActualDuration,\n            actualDuration,\n          );\n\n          if (recordChangeDescriptions) {\n            const changeDescription = getChangeDescription(alternate, fiber);\n            if (changeDescription !== null) {\n              if (metadata.changeDescriptions !== null) {\n                metadata.changeDescriptions.set(id, changeDescription);\n              }\n            }\n\n            updateContextsForFiber(fiber);\n          }\n        }\n      }\n    }\n  }\n\n  function recordResetChildren(fiber: Fiber, childSet: Fiber) {\n    if (__DEBUG__) {\n      debug('recordResetChildren()', childSet, fiber);\n    }\n    // The frontend only really cares about the displayName, key, and children.\n    // The first two don't really change, so we are only concerned with the order of children here.\n    // This is trickier than a simple comparison though, since certain types of fibers are filtered.\n    const nextChildren: Array<number> = [];\n\n    // This is a naive implementation that shallowly recourses children.\n    // We might want to revisit this if it proves to be too inefficient.\n    let child = childSet;\n    while (child !== null) {\n      findReorderedChildrenRecursively(child, nextChildren);\n      child = child.sibling;\n    }\n\n    const numChildren = nextChildren.length;\n    if (numChildren < 2) {\n      // No need to reorder.\n      return;\n    }\n    pushOperation(TREE_OPERATION_REORDER_CHILDREN);\n    pushOperation(getFiberIDThrows(fiber));\n    pushOperation(numChildren);\n    for (let i = 0; i < nextChildren.length; i++) {\n      pushOperation(nextChildren[i]);\n    }\n  }\n\n  function findReorderedChildrenRecursively(\n    fiber: Fiber,\n    nextChildren: Array<number>,\n  ) {\n    if (!shouldFilterFiber(fiber)) {\n      nextChildren.push(getFiberIDThrows(fiber));\n    } else {\n      let child = fiber.child;\n      const isTimedOutSuspense =\n        fiber.tag === SuspenseComponent && fiber.memoizedState !== null;\n      if (isTimedOutSuspense) {\n        // Special case: if Suspense mounts in a timed-out state,\n        // get the fallback child from the inner fragment,\n        // and skip over the primary child.\n        const primaryChildFragment = fiber.child;\n        const fallbackChildFragment = primaryChildFragment\n          ? primaryChildFragment.sibling\n          : null;\n        const fallbackChild = fallbackChildFragment\n          ? fallbackChildFragment.child\n          : null;\n        if (fallbackChild !== null) {\n          child = fallbackChild;\n        }\n      }\n      while (child !== null) {\n        findReorderedChildrenRecursively(child, nextChildren);\n        child = child.sibling;\n      }\n    }\n  }\n\n  // Returns whether closest unfiltered fiber parent needs to reset its child list.\n  function updateFiberRecursively(\n    nextFiber: Fiber,\n    prevFiber: Fiber,\n    parentFiber: Fiber | null,\n    traceNearestHostComponentUpdate: boolean,\n  ): boolean {\n    const id = getOrGenerateFiberID(nextFiber);\n\n    if (__DEBUG__) {\n      debug('updateFiberRecursively()', nextFiber, parentFiber);\n    }\n\n    if (traceUpdatesEnabled) {\n      const elementType = getElementTypeForFiber(nextFiber);\n      if (traceNearestHostComponentUpdate) {\n        // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n        if (elementType === ElementTypeHostComponent) {\n          traceUpdatesForNodes.add(nextFiber.stateNode);\n          traceNearestHostComponentUpdate = false;\n        }\n      } else {\n        if (\n          elementType === ElementTypeFunction ||\n          elementType === ElementTypeClass ||\n          elementType === ElementTypeContext ||\n          elementType === ElementTypeMemo ||\n          elementType === ElementTypeForwardRef\n        ) {\n          // Otherwise if this is a traced ancestor, flag for the nearest host descendant(s).\n          traceNearestHostComponentUpdate = didFiberRender(\n            prevFiber,\n            nextFiber,\n          );\n        }\n      }\n    }\n\n    if (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === id &&\n      didFiberRender(prevFiber, nextFiber)\n    ) {\n      // If this Fiber has updated, clear cached inspected data.\n      // If it is inspected again, it may need to be re-run to obtain updated hooks values.\n      hasElementUpdatedSinceLastInspected = true;\n    }\n\n    const shouldIncludeInTree = !shouldFilterFiber(nextFiber);\n    const isSuspense = nextFiber.tag === SuspenseComponent;\n    let shouldResetChildren = false;\n    // The behavior of timed-out Suspense trees is unique.\n    // Rather than unmount the timed out content (and possibly lose important state),\n    // React re-parents this content within a hidden Fragment while the fallback is showing.\n    // This behavior doesn't need to be observable in the DevTools though.\n    // It might even result in a bad user experience for e.g. node selection in the Elements panel.\n    // The easiest fix is to strip out the intermediate Fragment fibers,\n    // so the Elements panel and Profiler don't need to special case them.\n    // Suspense components only have a non-null memoizedState if they're timed-out.\n    const prevDidTimeout = isSuspense && prevFiber.memoizedState !== null;\n    const nextDidTimeOut = isSuspense && nextFiber.memoizedState !== null;\n    // The logic below is inspired by the code paths in updateSuspenseComponent()\n    // inside ReactFiberBeginWork in the React source code.\n    if (prevDidTimeout && nextDidTimeOut) {\n      // Fallback -> Fallback:\n      // 1. Reconcile fallback set.\n      const nextFiberChild = nextFiber.child;\n      const nextFallbackChildSet = nextFiberChild\n        ? nextFiberChild.sibling\n        : null;\n      // Note: We can't use nextFiber.child.sibling.alternate\n      // because the set is special and alternate may not exist.\n      const prevFiberChild = prevFiber.child;\n      const prevFallbackChildSet = prevFiberChild\n        ? prevFiberChild.sibling\n        : null;\n      if (\n        nextFallbackChildSet != null &&\n        prevFallbackChildSet != null &&\n        updateFiberRecursively(\n          nextFallbackChildSet,\n          prevFallbackChildSet,\n          nextFiber,\n          traceNearestHostComponentUpdate,\n        )\n      ) {\n        shouldResetChildren = true;\n      }\n    } else if (prevDidTimeout && !nextDidTimeOut) {\n      // Fallback -> Primary:\n      // 1. Unmount fallback set\n      // Note: don't emulate fallback unmount because React actually did it.\n      // 2. Mount primary set\n      const nextPrimaryChildSet = nextFiber.child;\n      if (nextPrimaryChildSet !== null) {\n        mountFiberRecursively(\n          nextPrimaryChildSet,\n          shouldIncludeInTree ? nextFiber : parentFiber,\n          true,\n          traceNearestHostComponentUpdate,\n        );\n      }\n      shouldResetChildren = true;\n    } else if (!prevDidTimeout && nextDidTimeOut) {\n      // Primary -> Fallback:\n      // 1. Hide primary set\n      // This is not a real unmount, so it won't get reported by React.\n      // We need to manually walk the previous tree and record unmounts.\n      unmountFiberChildrenRecursively(prevFiber);\n      // 2. Mount fallback set\n      const nextFiberChild = nextFiber.child;\n      const nextFallbackChildSet = nextFiberChild\n        ? nextFiberChild.sibling\n        : null;\n      if (nextFallbackChildSet != null) {\n        mountFiberRecursively(\n          nextFallbackChildSet,\n          shouldIncludeInTree ? nextFiber : parentFiber,\n          true,\n          traceNearestHostComponentUpdate,\n        );\n        shouldResetChildren = true;\n      }\n    } else {\n      // Common case: Primary -> Primary.\n      // This is the same code path as for non-Suspense fibers.\n      if (nextFiber.child !== prevFiber.child) {\n        // If the first child is different, we need to traverse them.\n        // Each next child will be either a new child (mount) or an alternate (update).\n        let nextChild = nextFiber.child;\n        let prevChildAtSameIndex = prevFiber.child;\n        while (nextChild) {\n          // We already know children will be referentially different because\n          // they are either new mounts or alternates of previous children.\n          // Schedule updates and mounts depending on whether alternates exist.\n          // We don't track deletions here because they are reported separately.\n          if (nextChild.alternate) {\n            const prevChild = nextChild.alternate;\n            if (\n              updateFiberRecursively(\n                nextChild,\n                prevChild,\n                shouldIncludeInTree ? nextFiber : parentFiber,\n                traceNearestHostComponentUpdate,\n              )\n            ) {\n              // If a nested tree child order changed but it can't handle its own\n              // child order invalidation (e.g. because it's filtered out like host nodes),\n              // propagate the need to reset child order upwards to this Fiber.\n              shouldResetChildren = true;\n            }\n            // However we also keep track if the order of the children matches\n            // the previous order. They are always different referentially, but\n            // if the instances line up conceptually we'll want to know that.\n            if (prevChild !== prevChildAtSameIndex) {\n              shouldResetChildren = true;\n            }\n          } else {\n            mountFiberRecursively(\n              nextChild,\n              shouldIncludeInTree ? nextFiber : parentFiber,\n              false,\n              traceNearestHostComponentUpdate,\n            );\n            shouldResetChildren = true;\n          }\n          // Try the next child.\n          nextChild = nextChild.sibling;\n          // Advance the pointer in the previous list so that we can\n          // keep comparing if they line up.\n          if (!shouldResetChildren && prevChildAtSameIndex !== null) {\n            prevChildAtSameIndex = prevChildAtSameIndex.sibling;\n          }\n        }\n        // If we have no more children, but used to, they don't line up.\n        if (prevChildAtSameIndex !== null) {\n          shouldResetChildren = true;\n        }\n      } else {\n        if (traceUpdatesEnabled) {\n          // If we're tracing updates and we've bailed out before reaching a host node,\n          // we should fall back to recursively marking the nearest host descendants for highlight.\n          if (traceNearestHostComponentUpdate) {\n            const hostFibers = findAllCurrentHostFibers(\n              getFiberIDThrows(nextFiber),\n            );\n            hostFibers.forEach(hostFiber => {\n              traceUpdatesForNodes.add(hostFiber.stateNode);\n            });\n          }\n        }\n      }\n    }\n\n    if (shouldIncludeInTree) {\n      const isProfilingSupported = nextFiber.hasOwnProperty('treeBaseDuration');\n      if (isProfilingSupported) {\n        recordProfilingDurations(nextFiber);\n      }\n    }\n    if (shouldResetChildren) {\n      // We need to crawl the subtree for closest non-filtered Fibers\n      // so that we can display them in a flat children set.\n      if (shouldIncludeInTree) {\n        // Normally, search for children from the rendered child.\n        let nextChildSet = nextFiber.child;\n        if (nextDidTimeOut) {\n          // Special case: timed-out Suspense renders the fallback set.\n          const nextFiberChild = nextFiber.child;\n          nextChildSet = nextFiberChild ? nextFiberChild.sibling : null;\n        }\n        if (nextChildSet != null) {\n          recordResetChildren(nextFiber, nextChildSet);\n        }\n        // We've handled the child order change for this Fiber.\n        // Since it's included, there's no need to invalidate parent child order.\n        return false;\n      } else {\n        // Let the closest unfiltered parent Fiber reset its child order instead.\n        return true;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  function cleanup() {\n    // We don't patch any methods so there is no cleanup.\n  }\n\n  function rootSupportsProfiling(root) {\n    if (root.memoizedInteractions != null) {\n      // v16 builds include this field for the scheduler/tracing API.\n      return true;\n    } else if (\n      root.current != null &&\n      root.current.hasOwnProperty('treeBaseDuration')\n    ) {\n      // The scheduler/tracing API was removed in v17 though\n      // so we need to check a non-root Fiber.\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  function flushInitialOperations() {\n    const localPendingOperationsQueue = pendingOperationsQueue;\n\n    pendingOperationsQueue = null;\n\n    if (\n      localPendingOperationsQueue !== null &&\n      localPendingOperationsQueue.length > 0\n    ) {\n      // We may have already queued up some operations before the frontend connected\n      // If so, let the frontend know about them.\n      localPendingOperationsQueue.forEach(operations => {\n        hook.emit('operations', operations);\n      });\n    } else {\n      // Before the traversals, remember to start tracking\n      // our path in case we have selection to restore.\n      if (trackedPath !== null) {\n        mightBeOnTrackedPath = true;\n      }\n      // If we have not been profiling, then we can just walk the tree and build up its current state as-is.\n      hook.getFiberRoots(rendererID).forEach(root => {\n        currentRootID = getOrGenerateFiberID(root.current);\n        setRootPseudoKey(currentRootID, root.current);\n\n        // Handle multi-renderer edge-case where only some v16 renderers support profiling.\n        if (isProfiling && rootSupportsProfiling(root)) {\n          // If profiling is active, store commit time and duration.\n          // The frontend may request this information after profiling has stopped.\n          currentCommitProfilingMetadata = {\n            changeDescriptions: recordChangeDescriptions ? new Map() : null,\n            durations: [],\n            commitTime: getCurrentTime() - profilingStartTime,\n            maxActualDuration: 0,\n            priorityLevel: null,\n            updaters: getUpdatersList(root),\n            effectDuration: null,\n            passiveEffectDuration: null,\n          };\n        }\n\n        mountFiberRecursively(root.current, null, false, false);\n        flushPendingEvents(root);\n        currentRootID = -1;\n      });\n    }\n  }\n\n  function getUpdatersList(root): Array<SerializedElement> | null {\n    return root.memoizedUpdaters != null\n      ? Array.from(root.memoizedUpdaters).map(fiberToSerializedElement)\n      : null;\n  }\n\n  function handleCommitFiberUnmount(fiber) {\n    // This is not recursive.\n    // We can't traverse fibers after unmounting so instead\n    // we rely on React telling us about each unmount.\n    recordUnmount(fiber, false);\n  }\n\n  function handlePostCommitFiberRoot(root) {\n    if (isProfiling && rootSupportsProfiling(root)) {\n      if (currentCommitProfilingMetadata !== null) {\n        const {effectDuration, passiveEffectDuration} = getEffectDurations(\n          root,\n        );\n        currentCommitProfilingMetadata.effectDuration = effectDuration;\n        currentCommitProfilingMetadata.passiveEffectDuration = passiveEffectDuration;\n      }\n    }\n  }\n\n  function handleCommitFiberRoot(root, priorityLevel) {\n    const current = root.current;\n    const alternate = current.alternate;\n\n    // Flush any pending Fibers that we are untracking before processing the new commit.\n    // If we don't do this, we might end up double-deleting Fibers in some cases (like Legacy Suspense).\n    untrackFibers();\n\n    currentRootID = getOrGenerateFiberID(current);\n\n    // Before the traversals, remember to start tracking\n    // our path in case we have selection to restore.\n    if (trackedPath !== null) {\n      mightBeOnTrackedPath = true;\n    }\n\n    if (traceUpdatesEnabled) {\n      traceUpdatesForNodes.clear();\n    }\n\n    // Handle multi-renderer edge-case where only some v16 renderers support profiling.\n    const isProfilingSupported = rootSupportsProfiling(root);\n\n    if (isProfiling && isProfilingSupported) {\n      // If profiling is active, store commit time and duration.\n      // The frontend may request this information after profiling has stopped.\n      currentCommitProfilingMetadata = {\n        changeDescriptions: recordChangeDescriptions ? new Map() : null,\n        durations: [],\n        commitTime: getCurrentTime() - profilingStartTime,\n        maxActualDuration: 0,\n        priorityLevel:\n          priorityLevel == null ? null : formatPriorityLevel(priorityLevel),\n\n        updaters: getUpdatersList(root),\n\n        // Initialize to null; if new enough React version is running,\n        // these values will be read during separate handlePostCommitFiberRoot() call.\n        effectDuration: null,\n        passiveEffectDuration: null,\n      };\n    }\n\n    if (alternate) {\n      // TODO: relying on this seems a bit fishy.\n      const wasMounted =\n        alternate.memoizedState != null &&\n        alternate.memoizedState.element != null;\n      const isMounted =\n        current.memoizedState != null && current.memoizedState.element != null;\n      if (!wasMounted && isMounted) {\n        // Mount a new root.\n        setRootPseudoKey(currentRootID, current);\n        mountFiberRecursively(current, null, false, false);\n      } else if (wasMounted && isMounted) {\n        // Update an existing root.\n        updateFiberRecursively(current, alternate, null, false);\n      } else if (wasMounted && !isMounted) {\n        // Unmount an existing root.\n        removeRootPseudoKey(currentRootID);\n        recordUnmount(current, false);\n      }\n    } else {\n      // Mount a new root.\n      setRootPseudoKey(currentRootID, current);\n      mountFiberRecursively(current, null, false, false);\n    }\n\n    if (isProfiling && isProfilingSupported) {\n      const commitProfilingMetadata = ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).get(\n        currentRootID,\n      );\n      if (commitProfilingMetadata != null) {\n        commitProfilingMetadata.push(\n          ((currentCommitProfilingMetadata: any): CommitProfilingData),\n        );\n      } else {\n        ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).set(\n          currentRootID,\n          [((currentCommitProfilingMetadata: any): CommitProfilingData)],\n        );\n      }\n    }\n\n    // We're done here.\n    flushPendingEvents(root);\n\n    if (traceUpdatesEnabled) {\n      hook.emit('traceUpdates', traceUpdatesForNodes);\n    }\n\n    currentRootID = -1;\n  }\n\n  function findAllCurrentHostFibers(id: number): $ReadOnlyArray<Fiber> {\n    const fibers = [];\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (!fiber) {\n      return fibers;\n    }\n\n    // Next we'll drill down this component to find all HostComponent/Text.\n    let node: Fiber = fiber;\n    while (true) {\n      if (node.tag === HostComponent || node.tag === HostText) {\n        fibers.push(node);\n      } else if (node.child) {\n        node.child.return = node;\n        node = node.child;\n        continue;\n      }\n      if (node === fiber) {\n        return fibers;\n      }\n      while (!node.sibling) {\n        if (!node.return || node.return === fiber) {\n          return fibers;\n        }\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n    // Flow needs the return here, but ESLint complains about it.\n    // eslint-disable-next-line no-unreachable\n    return fibers;\n  }\n\n  function findNativeNodesForFiberID(id: number) {\n    try {\n      let fiber = findCurrentFiberUsingSlowPathById(id);\n      if (fiber === null) {\n        return null;\n      }\n      // Special case for a timed-out Suspense.\n      const isTimedOutSuspense =\n        fiber.tag === SuspenseComponent && fiber.memoizedState !== null;\n      if (isTimedOutSuspense) {\n        // A timed-out Suspense's findDOMNode is useless.\n        // Try our best to find the fallback directly.\n        const maybeFallbackFiber = fiber.child && fiber.child.sibling;\n        if (maybeFallbackFiber != null) {\n          fiber = maybeFallbackFiber;\n        }\n      }\n      const hostFibers = findAllCurrentHostFibers(id);\n      return hostFibers.map(hostFiber => hostFiber.stateNode).filter(Boolean);\n    } catch (err) {\n      // The fiber might have unmounted by now.\n      return null;\n    }\n  }\n\n  function getDisplayNameForFiberID(id) {\n    const fiber = idToArbitraryFiberMap.get(id);\n    return fiber != null ? getDisplayNameForFiber(((fiber: any): Fiber)) : null;\n  }\n\n  function getFiberIDForNative(\n    hostInstance,\n    findNearestUnfilteredAncestor = false,\n  ) {\n    let fiber = renderer.findFiberByHostInstance(hostInstance);\n    if (fiber != null) {\n      if (findNearestUnfilteredAncestor) {\n        while (fiber !== null && shouldFilterFiber(fiber)) {\n          fiber = fiber.return;\n        }\n      }\n      return getFiberIDThrows(((fiber: any): Fiber));\n    }\n    return null;\n  }\n\n  const MOUNTING = 1;\n  const MOUNTED = 2;\n  const UNMOUNTED = 3;\n\n  // This function is copied from React and should be kept in sync:\n  // https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberTreeReflection.js\n  function isFiberMountedImpl(fiber: Fiber): number {\n    let node = fiber;\n    let prevNode = null;\n    if (!fiber.alternate) {\n      // If there is no alternate, this might be a new tree that isn't inserted\n      // yet. If it is, then it will have a pending insertion effect on it.\n      if ((getFiberFlags(node) & Placement) !== NoFlags) {\n        return MOUNTING;\n      }\n      // This indicates an error during render.\n      if ((getFiberFlags(node) & Incomplete) !== NoFlags) {\n        return UNMOUNTED;\n      }\n      while (node.return) {\n        prevNode = node;\n        node = node.return;\n\n        if ((getFiberFlags(node) & Placement) !== NoFlags) {\n          return MOUNTING;\n        }\n        // This indicates an error during render.\n        if ((getFiberFlags(node) & Incomplete) !== NoFlags) {\n          return UNMOUNTED;\n        }\n\n        // If this node is inside of a timed out suspense subtree, we should also ignore errors/warnings.\n        const isTimedOutSuspense =\n          node.tag === SuspenseComponent && node.memoizedState !== null;\n        if (isTimedOutSuspense) {\n          // Note that this does not include errors/warnings in the Fallback tree though!\n          const primaryChildFragment = node.child;\n          const fallbackChildFragment = primaryChildFragment\n            ? primaryChildFragment.sibling\n            : null;\n          if (prevNode !== fallbackChildFragment) {\n            return UNMOUNTED;\n          }\n        }\n      }\n    } else {\n      while (node.return) {\n        node = node.return;\n      }\n    }\n    if (node.tag === HostRoot) {\n      // TODO: Check if this was a nested HostRoot when used with\n      // renderContainerIntoSubtree.\n      return MOUNTED;\n    }\n    // If we didn't hit the root, that means that we're in an disconnected tree\n    // that has been unmounted.\n    return UNMOUNTED;\n  }\n\n  // This function is copied from React and should be kept in sync:\n  // https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberTreeReflection.js\n  // It would be nice if we updated React to inject this function directly (vs just indirectly via findDOMNode).\n  // BEGIN copied code\n  function findCurrentFiberUsingSlowPathById(id: number): Fiber | null {\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return null;\n    }\n\n    const alternate = fiber.alternate;\n    if (!alternate) {\n      // If there is no alternate, then we only need to check if it is mounted.\n      const state = isFiberMountedImpl(fiber);\n      if (state === UNMOUNTED) {\n        throw Error('Unable to find node on an unmounted component.');\n      }\n      if (state === MOUNTING) {\n        return null;\n      }\n      return fiber;\n    }\n    // If we have two possible branches, we'll walk backwards up to the root\n    // to see what path the root points to. On the way we may hit one of the\n    // special cases and we'll deal with them.\n    let a: Fiber = fiber;\n    let b: Fiber = alternate;\n    while (true) {\n      const parentA = a.return;\n      if (parentA === null) {\n        // We're at the root.\n        break;\n      }\n      const parentB = parentA.alternate;\n      if (parentB === null) {\n        // There is no alternate. This is an unusual case. Currently, it only\n        // happens when a Suspense component is hidden. An extra fragment fiber\n        // is inserted in between the Suspense fiber and its children. Skip\n        // over this extra fragment fiber and proceed to the next parent.\n        const nextParent = parentA.return;\n        if (nextParent !== null) {\n          a = b = nextParent;\n          continue;\n        }\n        // If there's no parent, we're at the root.\n        break;\n      }\n\n      // If both copies of the parent fiber point to the same child, we can\n      // assume that the child is current. This happens when we bailout on low\n      // priority: the bailed out fiber's child reuses the current child.\n      if (parentA.child === parentB.child) {\n        let child = parentA.child;\n        while (child) {\n          if (child === a) {\n            // We've determined that A is the current branch.\n            if (isFiberMountedImpl(parentA) !== MOUNTED) {\n              throw Error('Unable to find node on an unmounted component.');\n            }\n            return fiber;\n          }\n          if (child === b) {\n            // We've determined that B is the current branch.\n            if (isFiberMountedImpl(parentA) !== MOUNTED) {\n              throw Error('Unable to find node on an unmounted component.');\n            }\n            return alternate;\n          }\n          child = child.sibling;\n        }\n        // We should never have an alternate for any mounting node. So the only\n        // way this could possibly happen is if this was unmounted, if at all.\n        throw Error('Unable to find node on an unmounted component.');\n      }\n\n      if (a.return !== b.return) {\n        // The return pointer of A and the return pointer of B point to different\n        // fibers. We assume that return pointers never criss-cross, so A must\n        // belong to the child set of A.return, and B must belong to the child\n        // set of B.return.\n        a = parentA;\n        b = parentB;\n      } else {\n        // The return pointers point to the same fiber. We'll have to use the\n        // default, slow path: scan the child sets of each parent alternate to see\n        // which child belongs to which set.\n        //\n        // Search parent A's child set\n        let didFindChild = false;\n        let child = parentA.child;\n        while (child) {\n          if (child === a) {\n            didFindChild = true;\n            a = parentA;\n            b = parentB;\n            break;\n          }\n          if (child === b) {\n            didFindChild = true;\n            b = parentA;\n            a = parentB;\n            break;\n          }\n          child = child.sibling;\n        }\n        if (!didFindChild) {\n          // Search parent B's child set\n          child = parentB.child;\n          while (child) {\n            if (child === a) {\n              didFindChild = true;\n              a = parentB;\n              b = parentA;\n              break;\n            }\n            if (child === b) {\n              didFindChild = true;\n              b = parentB;\n              a = parentA;\n              break;\n            }\n            child = child.sibling;\n          }\n          if (!didFindChild) {\n            throw Error(\n              'Child was not found in either parent set. This indicates a bug ' +\n                'in React related to the return pointer. Please file an issue.',\n            );\n          }\n        }\n      }\n\n      if (a.alternate !== b) {\n        throw Error(\n          \"Return fibers should always be each others' alternates. \" +\n            'This error is likely caused by a bug in React. Please file an issue.',\n        );\n      }\n    }\n    // If the root is not a host container, we're in a disconnected tree. I.e.\n    // unmounted.\n    if (a.tag !== HostRoot) {\n      throw Error('Unable to find node on an unmounted component.');\n    }\n    if (a.stateNode.current === a) {\n      // We've determined that A is the current branch.\n      return fiber;\n    }\n    // Otherwise B has to be current branch.\n    return alternate;\n  }\n\n  // END copied code\n\n  function prepareViewAttributeSource(\n    id: number,\n    path: Array<string | number>,\n  ): void {\n    if (isMostRecentlyInspectedElement(id)) {\n      window.$attribute = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n    }\n  }\n\n  function prepareViewElementSource(id: number): void {\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const {elementType, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IndeterminateComponent:\n      case FunctionComponent:\n        global.$type = type;\n        break;\n      case ForwardRef:\n        global.$type = type.render;\n        break;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        global.$type =\n          elementType != null && elementType.type != null\n            ? elementType.type\n            : type;\n        break;\n      default:\n        global.$type = null;\n        break;\n    }\n  }\n\n  function fiberToSerializedElement(fiber: Fiber): SerializedElement {\n    return {\n      displayName: getDisplayNameForFiber(fiber) || 'Anonymous',\n      id: getFiberIDThrows(fiber),\n      key: fiber.key,\n      type: getElementTypeForFiber(fiber),\n    };\n  }\n\n  function getOwnersList(id: number): Array<SerializedElement> | null {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber == null) {\n      return null;\n    }\n\n    const {_debugOwner} = fiber;\n\n    const owners: Array<SerializedElement> = [fiberToSerializedElement(fiber)];\n\n    if (_debugOwner) {\n      let owner = _debugOwner;\n      while (owner !== null) {\n        owners.unshift(fiberToSerializedElement(owner));\n        owner = owner._debugOwner || null;\n      }\n    }\n\n    return owners;\n  }\n\n  // Fast path props lookup for React Native style editor.\n  // Could use inspectElementRaw() but that would require shallow rendering hooks components,\n  // and could also mess with memoization.\n  function getInstanceAndStyle(id: number): InstanceAndStyle {\n    let instance = null;\n    let style = null;\n\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      instance = fiber.stateNode;\n\n      if (fiber.memoizedProps !== null) {\n        style = fiber.memoizedProps.style;\n      }\n    }\n\n    return {instance, style};\n  }\n\n  function isErrorBoundary(fiber: Fiber): boolean {\n    const {tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n        const instance = fiber.stateNode;\n        return (\n          typeof type.getDerivedStateFromError === 'function' ||\n          (instance !== null &&\n            typeof instance.componentDidCatch === 'function')\n        );\n      default:\n        return false;\n    }\n  }\n\n  function getNearestErrorBoundaryID(fiber: Fiber): number | null {\n    let parent = fiber.return;\n    while (parent !== null) {\n      if (isErrorBoundary(parent)) {\n        return getFiberIDUnsafe(parent);\n      }\n      parent = parent.return;\n    }\n    return null;\n  }\n\n  function inspectElementRaw(id: number): InspectedElement | null {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber == null) {\n      return null;\n    }\n\n    const {\n      _debugOwner,\n      _debugSource,\n      stateNode,\n      key,\n      memoizedProps,\n      memoizedState,\n      dependencies,\n      tag,\n      type,\n    } = fiber;\n\n    const elementType = getElementTypeForFiber(fiber);\n\n    const usesHooks =\n      (tag === FunctionComponent ||\n        tag === SimpleMemoComponent ||\n        tag === ForwardRef) &&\n      (!!memoizedState || !!dependencies);\n\n    // TODO Show custom UI for Cache like we do for Suspense\n    // For now, just hide state data entirely since it's not meant to be inspected.\n    const showState = !usesHooks && tag !== CacheComponent;\n\n    const typeSymbol = getTypeSymbol(type);\n\n    let canViewSource = false;\n    let context = null;\n    if (\n      tag === ClassComponent ||\n      tag === FunctionComponent ||\n      tag === IncompleteClassComponent ||\n      tag === IndeterminateComponent ||\n      tag === MemoComponent ||\n      tag === ForwardRef ||\n      tag === SimpleMemoComponent\n    ) {\n      canViewSource = true;\n      if (stateNode && stateNode.context != null) {\n        // Don't show an empty context object for class components that don't use the context API.\n        const shouldHideContext =\n          elementType === ElementTypeClass &&\n          !(type.contextTypes || type.contextType);\n\n        if (!shouldHideContext) {\n          context = stateNode.context;\n        }\n      }\n    } else if (\n      typeSymbol === CONTEXT_NUMBER ||\n      typeSymbol === CONTEXT_SYMBOL_STRING\n    ) {\n      // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n      // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n      // NOTE Keep in sync with getDisplayNameForFiber()\n      const consumerResolvedContext = type._context || type;\n\n      // Global context value.\n      context = consumerResolvedContext._currentValue || null;\n\n      // Look for overridden value.\n      let current = ((fiber: any): Fiber).return;\n      while (current !== null) {\n        const currentType = current.type;\n        const currentTypeSymbol = getTypeSymbol(currentType);\n        if (\n          currentTypeSymbol === PROVIDER_NUMBER ||\n          currentTypeSymbol === PROVIDER_SYMBOL_STRING\n        ) {\n          // 16.3.0 exposed the context object as \"context\"\n          // PR #12501 changed it to \"_context\" for 16.3.1+\n          // NOTE Keep in sync with getDisplayNameForFiber()\n          const providerResolvedContext =\n            currentType._context || currentType.context;\n          if (providerResolvedContext === consumerResolvedContext) {\n            context = current.memoizedProps.value;\n            break;\n          }\n        }\n\n        current = current.return;\n      }\n    }\n\n    let hasLegacyContext = false;\n    if (context !== null) {\n      hasLegacyContext = !!type.contextTypes;\n\n      // To simplify hydration and display logic for context, wrap in a value object.\n      // Otherwise simple values (e.g. strings, booleans) become harder to handle.\n      context = {value: context};\n    }\n\n    let owners = null;\n    if (_debugOwner) {\n      owners = [];\n      let owner = _debugOwner;\n      while (owner !== null) {\n        owners.push(fiberToSerializedElement(owner));\n        owner = owner._debugOwner || null;\n      }\n    }\n\n    const isTimedOutSuspense =\n      tag === SuspenseComponent && memoizedState !== null;\n\n    let hooks = null;\n    if (usesHooks) {\n      const originalConsoleMethods = {};\n\n      // Temporarily disable all console logging before re-running the hook.\n      for (const method in console) {\n        try {\n          originalConsoleMethods[method] = console[method];\n          // $FlowFixMe property error|warn is not writable.\n          console[method] = () => {};\n        } catch (error) {}\n      }\n\n      try {\n        hooks = inspectHooksOfFiber(\n          fiber,\n          (renderer.currentDispatcherRef: any),\n          true, // Include source location info for hooks\n        );\n      } finally {\n        // Restore original console functionality.\n        for (const method in originalConsoleMethods) {\n          try {\n            // $FlowFixMe property error|warn is not writable.\n            console[method] = originalConsoleMethods[method];\n          } catch (error) {}\n        }\n      }\n    }\n\n    let rootType = null;\n    let current = fiber;\n    while (current.return !== null) {\n      current = current.return;\n    }\n    const fiberRoot = current.stateNode;\n    if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n      rootType = fiberRoot._debugRootType;\n    }\n\n    const errors = fiberIDToErrorsMap.get(id) || new Map();\n    const warnings = fiberIDToWarningsMap.get(id) || new Map();\n\n    const isErrored =\n      (fiber.flags & DidCapture) !== NoFlags ||\n      forceErrorForFiberIDs.get(id) === true;\n\n    let targetErrorBoundaryID;\n    if (isErrorBoundary(fiber)) {\n      // if the current inspected element is an error boundary,\n      // either that we want to use it to toggle off error state\n      // or that we allow to force error state on it if it's within another\n      // error boundary\n      targetErrorBoundaryID = isErrored ? id : getNearestErrorBoundaryID(fiber);\n    } else {\n      targetErrorBoundaryID = getNearestErrorBoundaryID(fiber);\n    }\n\n    return {\n      id,\n\n      // Does the current renderer support editable hooks and function props?\n      canEditHooks: typeof overrideHookState === 'function',\n      canEditFunctionProps: typeof overrideProps === 'function',\n\n      // Does the current renderer support advanced editing interface?\n      canEditHooksAndDeletePaths:\n        typeof overrideHookStateDeletePath === 'function',\n      canEditHooksAndRenamePaths:\n        typeof overrideHookStateRenamePath === 'function',\n      canEditFunctionPropsDeletePaths:\n        typeof overridePropsDeletePath === 'function',\n      canEditFunctionPropsRenamePaths:\n        typeof overridePropsRenamePath === 'function',\n\n      canToggleError: supportsTogglingError && targetErrorBoundaryID != null,\n      // Is this error boundary in error state.\n      isErrored,\n      targetErrorBoundaryID,\n\n      canToggleSuspense:\n        supportsTogglingSuspense &&\n        // If it's showing the real content, we can always flip fallback.\n        (!isTimedOutSuspense ||\n          // If it's showing fallback because we previously forced it to,\n          // allow toggling it back to remove the fallback override.\n          forceFallbackForSuspenseIDs.has(id)),\n\n      // Can view component source location.\n      canViewSource,\n\n      // Does the component have legacy context attached to it.\n      hasLegacyContext,\n\n      key: key != null ? key : null,\n\n      displayName: getDisplayNameForFiber(fiber),\n      type: elementType,\n\n      // Inspectable properties.\n      // TODO Review sanitization approach for the below inspectable values.\n      context,\n      hooks,\n      props: memoizedProps,\n      state: showState ? memoizedState : null,\n      errors: Array.from(errors.entries()),\n      warnings: Array.from(warnings.entries()),\n\n      // List of owners\n      owners,\n\n      // Location of component in source code.\n      source: _debugSource || null,\n\n      rootType,\n      rendererPackageName: renderer.rendererPackageName,\n      rendererVersion: renderer.version,\n    };\n  }\n\n  let mostRecentlyInspectedElement: InspectedElement | null = null;\n  let hasElementUpdatedSinceLastInspected: boolean = false;\n  let currentlyInspectedPaths: Object = {};\n\n  function isMostRecentlyInspectedElement(id: number): boolean {\n    return (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === id\n    );\n  }\n\n  function isMostRecentlyInspectedElementCurrent(id: number): boolean {\n    return (\n      isMostRecentlyInspectedElement(id) && !hasElementUpdatedSinceLastInspected\n    );\n  }\n\n  // Track the intersection of currently inspected paths,\n  // so that we can send their data along if the element is re-rendered.\n  function mergeInspectedPaths(path: Array<string | number>) {\n    let current = currentlyInspectedPaths;\n    path.forEach(key => {\n      if (!current[key]) {\n        current[key] = {};\n      }\n      current = current[key];\n    });\n  }\n\n  function createIsPathAllowed(\n    key: string | null,\n    secondaryCategory: 'hooks' | null,\n  ) {\n    // This function helps prevent previously-inspected paths from being dehydrated in updates.\n    // This is important to avoid a bad user experience where expanded toggles collapse on update.\n    return function isPathAllowed(path: Array<string | number>): boolean {\n      switch (secondaryCategory) {\n        case 'hooks':\n          if (path.length === 1) {\n            // Never dehydrate the \"hooks\" object at the top levels.\n            return true;\n          }\n\n          if (\n            path[path.length - 2] === 'hookSource' &&\n            path[path.length - 1] === 'fileName'\n          ) {\n            // It's important to preserve the full file name (URL) for hook sources\n            // in case the user has enabled the named hooks feature.\n            // Otherwise the frontend may end up with a partial URL which it can't load.\n            return true;\n          }\n\n          if (\n            path[path.length - 1] === 'subHooks' ||\n            path[path.length - 2] === 'subHooks'\n          ) {\n            // Dehydrating the 'subHooks' property makes the HooksTree UI a lot more complicated,\n            // so it's easiest for now if we just don't break on this boundary.\n            // We can always dehydrate a level deeper (in the value object).\n            return true;\n          }\n          break;\n        default:\n          break;\n      }\n\n      let current =\n        key === null ? currentlyInspectedPaths : currentlyInspectedPaths[key];\n      if (!current) {\n        return false;\n      }\n      for (let i = 0; i < path.length; i++) {\n        current = current[path[i]];\n        if (!current) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n\n  function updateSelectedElement(inspectedElement: InspectedElement): void {\n    const {hooks, id, props} = inspectedElement;\n\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const {elementType, stateNode, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IndeterminateComponent:\n        global.$r = stateNode;\n        break;\n      case FunctionComponent:\n        global.$r = {\n          hooks,\n          props,\n          type,\n        };\n        break;\n      case ForwardRef:\n        global.$r = {\n          hooks,\n          props,\n          type: type.render,\n        };\n        break;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        global.$r = {\n          hooks,\n          props,\n          type:\n            elementType != null && elementType.type != null\n              ? elementType.type\n              : type,\n        };\n        break;\n      default:\n        global.$r = null;\n        break;\n    }\n  }\n\n  function storeAsGlobal(\n    id: number,\n    path: Array<string | number>,\n    count: number,\n  ): void {\n    if (isMostRecentlyInspectedElement(id)) {\n      const value = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n      const key = `$reactTemp${count}`;\n\n      window[key] = value;\n\n      console.log(key);\n      console.log(value);\n    }\n  }\n\n  function copyElementPath(id: number, path: Array<string | number>): void {\n    if (isMostRecentlyInspectedElement(id)) {\n      copyToClipboard(\n        getInObject(\n          ((mostRecentlyInspectedElement: any): InspectedElement),\n          path,\n        ),\n      );\n    }\n  }\n\n  function inspectElement(\n    requestID: number,\n    id: number,\n    path: Array<string | number> | null,\n  ): InspectedElementPayload {\n    if (path !== null) {\n      mergeInspectedPaths(path);\n    }\n\n    if (isMostRecentlyInspectedElement(id)) {\n      if (!hasElementUpdatedSinceLastInspected) {\n        if (path !== null) {\n          let secondaryCategory = null;\n          if (path[0] === 'hooks') {\n            secondaryCategory = 'hooks';\n          }\n\n          // If this element has not been updated since it was last inspected,\n          // we can just return the subset of data in the newly-inspected path.\n          return {\n            id,\n            responseID: requestID,\n            type: 'hydrated-path',\n            path,\n            value: cleanForBridge(\n              getInObject(\n                ((mostRecentlyInspectedElement: any): InspectedElement),\n                path,\n              ),\n              createIsPathAllowed(null, secondaryCategory),\n              path,\n            ),\n          };\n        } else {\n          // If this element has not been updated since it was last inspected, we don't need to return it.\n          // Instead we can just return the ID to indicate that it has not changed.\n          return {\n            id,\n            responseID: requestID,\n            type: 'no-change',\n          };\n        }\n      }\n    } else {\n      currentlyInspectedPaths = {};\n    }\n\n    hasElementUpdatedSinceLastInspected = false;\n\n    mostRecentlyInspectedElement = inspectElementRaw(id);\n    if (mostRecentlyInspectedElement === null) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    }\n\n    // Any time an inspected element has an update,\n    // we should update the selected $r value as wel.\n    // Do this before dehydration (cleanForBridge).\n    updateSelectedElement(mostRecentlyInspectedElement);\n\n    // Clone before cleaning so that we preserve the full data.\n    // This will enable us to send patches without re-inspecting if hydrated paths are requested.\n    // (Reducing how often we shallow-render is a better DX for function components that use hooks.)\n    const cleanedInspectedElement = {...mostRecentlyInspectedElement};\n    cleanedInspectedElement.context = cleanForBridge(\n      cleanedInspectedElement.context,\n      createIsPathAllowed('context', null),\n    );\n    cleanedInspectedElement.hooks = cleanForBridge(\n      cleanedInspectedElement.hooks,\n      createIsPathAllowed('hooks', 'hooks'),\n    );\n    cleanedInspectedElement.props = cleanForBridge(\n      cleanedInspectedElement.props,\n      createIsPathAllowed('props', null),\n    );\n    cleanedInspectedElement.state = cleanForBridge(\n      cleanedInspectedElement.state,\n      createIsPathAllowed('state', null),\n    );\n\n    return {\n      id,\n      responseID: requestID,\n      type: 'full-data',\n      value: cleanedInspectedElement,\n    };\n  }\n\n  function logElementToConsole(id) {\n    const result = isMostRecentlyInspectedElementCurrent(id)\n      ? mostRecentlyInspectedElement\n      : inspectElementRaw(id);\n    if (result === null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const supportsGroup = typeof console.groupCollapsed === 'function';\n    if (supportsGroup) {\n      console.groupCollapsed(\n        `[Click to expand] %c<${result.displayName || 'Component'} />`,\n        // --dom-tag-name-color is the CSS variable Chrome styles HTML elements with in the console.\n        'color: var(--dom-tag-name-color); font-weight: normal;',\n      );\n    }\n    if (result.props !== null) {\n      console.log('Props:', result.props);\n    }\n    if (result.state !== null) {\n      console.log('State:', result.state);\n    }\n    if (result.hooks !== null) {\n      console.log('Hooks:', result.hooks);\n    }\n    const nativeNodes = findNativeNodesForFiberID(id);\n    if (nativeNodes !== null) {\n      console.log('Nodes:', nativeNodes);\n    }\n    if (result.source !== null) {\n      console.log('Location:', result.source);\n    }\n    if (window.chrome || /firefox/i.test(navigator.userAgent)) {\n      console.log(\n        'Right-click any value to save it as a global variable for further inspection.',\n      );\n    }\n    if (supportsGroup) {\n      console.groupEnd();\n    }\n  }\n\n  function deletePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value (noop)\n              } else {\n                deletePathInObject(instance.context, path);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateDeletePath === 'function') {\n            overrideHookStateDeletePath(fiber, ((hookID: any): number), path);\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsDeletePath === 'function') {\n              overridePropsDeletePath(fiber, path);\n            }\n          } else {\n            fiber.pendingProps = copyWithDelete(instance.props, path);\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          deletePathInObject(instance.state, path);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function renamePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    oldPath: Array<string | number>,\n    newPath: Array<string | number>,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          oldPath = oldPath.slice(1);\n          newPath = newPath.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (oldPath.length === 0) {\n                // Simple context value (noop)\n              } else {\n                renamePathInObject(instance.context, oldPath, newPath);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateRenamePath === 'function') {\n            overrideHookStateRenamePath(\n              fiber,\n              ((hookID: any): number),\n              oldPath,\n              newPath,\n            );\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsRenamePath === 'function') {\n              overridePropsRenamePath(fiber, oldPath, newPath);\n            }\n          } else {\n            fiber.pendingProps = copyWithRename(\n              instance.props,\n              oldPath,\n              newPath,\n            );\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          renamePathInObject(instance.state, oldPath, newPath);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function overrideValueAtPath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n    value: any,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value\n                instance.context = value;\n              } else {\n                setInObject(instance.context, path, value);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookState === 'function') {\n            overrideHookState(fiber, ((hookID: any): number), path, value);\n          }\n          break;\n        case 'props':\n          switch (fiber.tag) {\n            case ClassComponent:\n              fiber.pendingProps = copyWithSet(instance.props, path, value);\n              instance.forceUpdate();\n              break;\n            default:\n              if (typeof overrideProps === 'function') {\n                overrideProps(fiber, path, value);\n              }\n              break;\n          }\n          break;\n        case 'state':\n          switch (fiber.tag) {\n            case ClassComponent:\n              setInObject(instance.state, path, value);\n              instance.forceUpdate();\n              break;\n          }\n          break;\n      }\n    }\n  }\n\n  type CommitProfilingData = {|\n    changeDescriptions: Map<number, ChangeDescription> | null,\n    commitTime: number,\n    durations: Array<number>,\n    effectDuration: number | null,\n    maxActualDuration: number,\n    passiveEffectDuration: number | null,\n    priorityLevel: string | null,\n    updaters: Array<SerializedElement> | null,\n  |};\n\n  type CommitProfilingMetadataMap = Map<number, Array<CommitProfilingData>>;\n  type DisplayNamesByRootID = Map<number, string>;\n\n  let currentCommitProfilingMetadata: CommitProfilingData | null = null;\n  let displayNamesByRootID: DisplayNamesByRootID | null = null;\n  let idToContextsMap: Map<number, any> | null = null;\n  let initialTreeBaseDurationsMap: Map<number, number> | null = null;\n  let initialIDToRootMap: Map<number, number> | null = null;\n  let isProfiling: boolean = false;\n  let profilingStartTime: number = 0;\n  let recordChangeDescriptions: boolean = false;\n  let rootToCommitProfilingMetadataMap: CommitProfilingMetadataMap | null = null;\n\n  function getProfilingData(): ProfilingDataBackend {\n    const dataForRoots: Array<ProfilingDataForRootBackend> = [];\n\n    if (rootToCommitProfilingMetadataMap === null) {\n      throw Error(\n        'getProfilingData() called before any profiling data was recorded',\n      );\n    }\n\n    rootToCommitProfilingMetadataMap.forEach(\n      (commitProfilingMetadata, rootID) => {\n        const commitData: Array<CommitDataBackend> = [];\n        const initialTreeBaseDurations: Array<[number, number]> = [];\n\n        const displayName =\n          (displayNamesByRootID !== null && displayNamesByRootID.get(rootID)) ||\n          'Unknown';\n\n        if (initialTreeBaseDurationsMap != null) {\n          initialTreeBaseDurationsMap.forEach((treeBaseDuration, id) => {\n            if (\n              initialIDToRootMap != null &&\n              initialIDToRootMap.get(id) === rootID\n            ) {\n              // We don't need to convert milliseconds to microseconds in this case,\n              // because the profiling summary is JSON serialized.\n              initialTreeBaseDurations.push([id, treeBaseDuration]);\n            }\n          });\n        }\n\n        commitProfilingMetadata.forEach((commitProfilingData, commitIndex) => {\n          const {\n            changeDescriptions,\n            durations,\n            effectDuration,\n            maxActualDuration,\n            passiveEffectDuration,\n            priorityLevel,\n            commitTime,\n            updaters,\n          } = commitProfilingData;\n\n          const fiberActualDurations: Array<[number, number]> = [];\n          const fiberSelfDurations: Array<[number, number]> = [];\n          for (let i = 0; i < durations.length; i += 3) {\n            const fiberID = durations[i];\n            fiberActualDurations.push([fiberID, durations[i + 1]]);\n            fiberSelfDurations.push([fiberID, durations[i + 2]]);\n          }\n\n          commitData.push({\n            changeDescriptions:\n              changeDescriptions !== null\n                ? Array.from(changeDescriptions.entries())\n                : null,\n            duration: maxActualDuration,\n            effectDuration,\n            fiberActualDurations,\n            fiberSelfDurations,\n            passiveEffectDuration,\n            priorityLevel,\n            timestamp: commitTime,\n            updaters,\n          });\n        });\n\n        dataForRoots.push({\n          commitData,\n          displayName,\n          initialTreeBaseDurations,\n          rootID,\n        });\n      },\n    );\n\n    return {\n      dataForRoots,\n      rendererID,\n    };\n  }\n\n  function startProfiling(shouldRecordChangeDescriptions: boolean) {\n    if (isProfiling) {\n      return;\n    }\n\n    recordChangeDescriptions = shouldRecordChangeDescriptions;\n\n    // Capture initial values as of the time profiling starts.\n    // It's important we snapshot both the durations and the id-to-root map,\n    // since either of these may change during the profiling session\n    // (e.g. when a fiber is re-rendered or when a fiber gets removed).\n    displayNamesByRootID = new Map();\n    initialTreeBaseDurationsMap = new Map(idToTreeBaseDurationMap);\n    initialIDToRootMap = new Map(idToRootMap);\n    idToContextsMap = new Map();\n\n    hook.getFiberRoots(rendererID).forEach(root => {\n      const rootID = getFiberIDThrows(root.current);\n      ((displayNamesByRootID: any): DisplayNamesByRootID).set(\n        rootID,\n        getDisplayNameForRoot(root.current),\n      );\n\n      if (shouldRecordChangeDescriptions) {\n        // Record all contexts at the time profiling is started.\n        // Fibers only store the current context value,\n        // so we need to track them separately in order to determine changed keys.\n        crawlToInitializeContextsMap(root.current);\n      }\n    });\n\n    isProfiling = true;\n    profilingStartTime = getCurrentTime();\n    rootToCommitProfilingMetadataMap = new Map();\n  }\n\n  function stopProfiling() {\n    isProfiling = false;\n    recordChangeDescriptions = false;\n  }\n\n  // Automatically start profiling so that we don't miss timing info from initial \"mount\".\n  if (\n    sessionStorageGetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY) === 'true'\n  ) {\n    startProfiling(\n      sessionStorageGetItem(SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY) ===\n        'true',\n    );\n  }\n\n  // React will switch between these implementations depending on whether\n  // we have any manually suspended/errored-out Fibers or not.\n  function shouldErrorFiberAlwaysNull() {\n    return null;\n  }\n\n  // Map of id and its force error status: true (error), false (toggled off),\n  // null (do nothing)\n  const forceErrorForFiberIDs = new Map();\n\n  function shouldErrorFiberAccordingToMap(fiber) {\n    if (typeof setErrorHandler !== 'function') {\n      throw new Error(\n        'Expected overrideError() to not get called for earlier React versions.',\n      );\n    }\n\n    const id = getFiberIDUnsafe(fiber);\n    if (id === null) {\n      return null;\n    }\n\n    let status = null;\n    if (forceErrorForFiberIDs.has(id)) {\n      status = forceErrorForFiberIDs.get(id);\n      if (status === false) {\n        // TRICKY overrideError adds entries to this Map,\n        // so ideally it would be the method that clears them too,\n        // but that would break the functionality of the feature,\n        // since DevTools needs to tell React to act differently than it normally would\n        // (don't just re-render the failed boundary, but reset its errored state too).\n        // So we can only clear it after telling React to reset the state.\n        // Technically this is premature and we should schedule it for later,\n        // since the render could always fail without committing the updated error boundary,\n        // but since this is a DEV-only feature, the simplicity is worth the trade off.\n        forceErrorForFiberIDs.delete(id);\n\n        if (forceErrorForFiberIDs.size === 0) {\n          // Last override is gone. Switch React back to fast path.\n          setErrorHandler(shouldErrorFiberAlwaysNull);\n        }\n      }\n    }\n    return status;\n  }\n\n  function overrideError(id, forceError) {\n    if (\n      typeof setErrorHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideError() to not get called for earlier React versions.',\n      );\n    }\n\n    forceErrorForFiberIDs.set(id, forceError);\n\n    if (forceErrorForFiberIDs.size === 1) {\n      // First override is added. Switch React to slower path.\n      setErrorHandler(shouldErrorFiberAccordingToMap);\n    }\n\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber != null) {\n      scheduleUpdate(fiber);\n    }\n  }\n\n  function shouldSuspendFiberAlwaysFalse() {\n    return false;\n  }\n\n  const forceFallbackForSuspenseIDs = new Set();\n\n  function shouldSuspendFiberAccordingToSet(fiber) {\n    const maybeID = getFiberIDUnsafe(((fiber: any): Fiber));\n    return maybeID !== null && forceFallbackForSuspenseIDs.has(maybeID);\n  }\n\n  function overrideSuspense(id, forceFallback) {\n    if (\n      typeof setSuspenseHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideSuspense() to not get called for earlier React versions.',\n      );\n    }\n    if (forceFallback) {\n      forceFallbackForSuspenseIDs.add(id);\n      if (forceFallbackForSuspenseIDs.size === 1) {\n        // First override is added. Switch React to slower path.\n        setSuspenseHandler(shouldSuspendFiberAccordingToSet);\n      }\n    } else {\n      forceFallbackForSuspenseIDs.delete(id);\n      if (forceFallbackForSuspenseIDs.size === 0) {\n        // Last override is gone. Switch React back to fast path.\n        setSuspenseHandler(shouldSuspendFiberAlwaysFalse);\n      }\n    }\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber != null) {\n      scheduleUpdate(fiber);\n    }\n  }\n\n  // Remember if we're trying to restore the selection after reload.\n  // In that case, we'll do some extra checks for matching mounts.\n  let trackedPath: Array<PathFrame> | null = null;\n  let trackedPathMatchFiber: Fiber | null = null;\n  let trackedPathMatchDepth = -1;\n  let mightBeOnTrackedPath = false;\n\n  function setTrackedPath(path: Array<PathFrame> | null) {\n    if (path === null) {\n      trackedPathMatchFiber = null;\n      trackedPathMatchDepth = -1;\n      mightBeOnTrackedPath = false;\n    }\n    trackedPath = path;\n  }\n\n  // We call this before traversing a new mount.\n  // It remembers whether this Fiber is the next best match for tracked path.\n  // The return value signals whether we should keep matching siblings or not.\n  function updateTrackedPathStateBeforeMount(fiber: Fiber): boolean {\n    if (trackedPath === null || !mightBeOnTrackedPath) {\n      // Fast path: there's nothing to track so do nothing and ignore siblings.\n      return false;\n    }\n    const returnFiber = fiber.return;\n    const returnAlternate = returnFiber !== null ? returnFiber.alternate : null;\n    // By now we know there's some selection to restore, and this is a new Fiber.\n    // Is this newly mounted Fiber a direct child of the current best match?\n    // (This will also be true for new roots if we haven't matched anything yet.)\n    if (\n      trackedPathMatchFiber === returnFiber ||\n      (trackedPathMatchFiber === returnAlternate && returnAlternate !== null)\n    ) {\n      // Is this the next Fiber we should select? Let's compare the frames.\n      const actualFrame = getPathFrame(fiber);\n      const expectedFrame = trackedPath[trackedPathMatchDepth + 1];\n      if (expectedFrame === undefined) {\n        throw new Error('Expected to see a frame at the next depth.');\n      }\n      if (\n        actualFrame.index === expectedFrame.index &&\n        actualFrame.key === expectedFrame.key &&\n        actualFrame.displayName === expectedFrame.displayName\n      ) {\n        // We have our next match.\n        trackedPathMatchFiber = fiber;\n        trackedPathMatchDepth++;\n        // Are we out of frames to match?\n        if (trackedPathMatchDepth === trackedPath.length - 1) {\n          // There's nothing that can possibly match afterwards.\n          // Don't check the children.\n          mightBeOnTrackedPath = false;\n        } else {\n          // Check the children, as they might reveal the next match.\n          mightBeOnTrackedPath = true;\n        }\n        // In either case, since we have a match, we don't need\n        // to check the siblings. They'll never match.\n        return false;\n      }\n    }\n    // This Fiber's parent is on the path, but this Fiber itself isn't.\n    // There's no need to check its children--they won't be on the path either.\n    mightBeOnTrackedPath = false;\n    // However, one of its siblings may be on the path so keep searching.\n    return true;\n  }\n\n  function updateTrackedPathStateAfterMount(mightSiblingsBeOnTrackedPath) {\n    // updateTrackedPathStateBeforeMount() told us whether to match siblings.\n    // Now that we're entering siblings, let's use that information.\n    mightBeOnTrackedPath = mightSiblingsBeOnTrackedPath;\n  }\n\n  // Roots don't have a real persistent identity.\n  // A root's \"pseudo key\" is \"childDisplayName:indexWithThatName\".\n  // For example, \"App:0\" or, in case of similar roots, \"Story:0\", \"Story:1\", etc.\n  // We will use this to try to disambiguate roots when restoring selection between reloads.\n  const rootPseudoKeys: Map<number, string> = new Map();\n  const rootDisplayNameCounter: Map<string, number> = new Map();\n\n  function setRootPseudoKey(id: number, fiber: Fiber) {\n    const name = getDisplayNameForRoot(fiber);\n    const counter = rootDisplayNameCounter.get(name) || 0;\n    rootDisplayNameCounter.set(name, counter + 1);\n    const pseudoKey = `${name}:${counter}`;\n    rootPseudoKeys.set(id, pseudoKey);\n  }\n\n  function removeRootPseudoKey(id: number) {\n    const pseudoKey = rootPseudoKeys.get(id);\n    if (pseudoKey === undefined) {\n      throw new Error('Expected root pseudo key to be known.');\n    }\n    const name = pseudoKey.substring(0, pseudoKey.lastIndexOf(':'));\n    const counter = rootDisplayNameCounter.get(name);\n    if (counter === undefined) {\n      throw new Error('Expected counter to be known.');\n    }\n    if (counter > 1) {\n      rootDisplayNameCounter.set(name, counter - 1);\n    } else {\n      rootDisplayNameCounter.delete(name);\n    }\n    rootPseudoKeys.delete(id);\n  }\n\n  function getDisplayNameForRoot(fiber: Fiber): string {\n    let preferredDisplayName = null;\n    let fallbackDisplayName = null;\n    let child = fiber.child;\n    // Go at most three levels deep into direct children\n    // while searching for a child that has a displayName.\n    for (let i = 0; i < 3; i++) {\n      if (child === null) {\n        break;\n      }\n      const displayName = getDisplayNameForFiber(child);\n      if (displayName !== null) {\n        // Prefer display names that we get from user-defined components.\n        // We want to avoid using e.g. 'Suspense' unless we find nothing else.\n        if (typeof child.type === 'function') {\n          // There's a few user-defined tags, but we'll prefer the ones\n          // that are usually explicitly named (function or class components).\n          preferredDisplayName = displayName;\n        } else if (fallbackDisplayName === null) {\n          fallbackDisplayName = displayName;\n        }\n      }\n      if (preferredDisplayName !== null) {\n        break;\n      }\n      child = child.child;\n    }\n    return preferredDisplayName || fallbackDisplayName || 'Anonymous';\n  }\n\n  function getPathFrame(fiber: Fiber): PathFrame {\n    const {key} = fiber;\n    let displayName = getDisplayNameForFiber(fiber);\n    const index = fiber.index;\n    switch (fiber.tag) {\n      case HostRoot:\n        // Roots don't have a real displayName, index, or key.\n        // Instead, we'll use the pseudo key (childDisplayName:indexWithThatName).\n        const id = getFiberIDThrows(fiber);\n        const pseudoKey = rootPseudoKeys.get(id);\n        if (pseudoKey === undefined) {\n          throw new Error('Expected mounted root to have known pseudo key.');\n        }\n        displayName = pseudoKey;\n        break;\n      case HostComponent:\n        displayName = fiber.type;\n        break;\n      default:\n        break;\n    }\n    return {\n      displayName,\n      key,\n      index,\n    };\n  }\n\n  // Produces a serializable representation that does a best effort\n  // of identifying a particular Fiber between page reloads.\n  // The return path will contain Fibers that are \"invisible\" to the store\n  // because their keys and indexes are important to restoring the selection.\n  function getPathForElement(id: number): Array<PathFrame> | null {\n    let fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      return null;\n    }\n    const keyPath = [];\n    while (fiber !== null) {\n      keyPath.push(getPathFrame(fiber));\n      fiber = fiber.return;\n    }\n    keyPath.reverse();\n    return keyPath;\n  }\n\n  function getBestMatchForTrackedPath(): PathMatch | null {\n    if (trackedPath === null) {\n      // Nothing to match.\n      return null;\n    }\n    if (trackedPathMatchFiber === null) {\n      // We didn't find anything.\n      return null;\n    }\n    // Find the closest Fiber store is aware of.\n    let fiber = trackedPathMatchFiber;\n    while (fiber !== null && shouldFilterFiber(fiber)) {\n      fiber = fiber.return;\n    }\n    if (fiber === null) {\n      return null;\n    }\n    return {\n      id: getFiberIDThrows(fiber),\n      isFullMatch: trackedPathMatchDepth === trackedPath.length - 1,\n    };\n  }\n\n  const formatPriorityLevel = (priorityLevel: ?number) => {\n    if (priorityLevel == null) {\n      return 'Unknown';\n    }\n\n    switch (priorityLevel) {\n      case ImmediatePriority:\n        return 'Immediate';\n      case UserBlockingPriority:\n        return 'User-Blocking';\n      case NormalPriority:\n        return 'Normal';\n      case LowPriority:\n        return 'Low';\n      case IdlePriority:\n        return 'Idle';\n      case NoPriority:\n      default:\n        return 'Unknown';\n    }\n  };\n\n  function setTraceUpdatesEnabled(isEnabled: boolean): void {\n    traceUpdatesEnabled = isEnabled;\n  }\n\n  return {\n    cleanup,\n    clearErrorsAndWarnings,\n    clearErrorsForFiberID,\n    clearWarningsForFiberID,\n    copyElementPath,\n    deletePath,\n    findNativeNodesForFiberID,\n    flushInitialOperations,\n    getBestMatchForTrackedPath,\n    getDisplayNameForFiberID,\n    getFiberIDForNative,\n    getInstanceAndStyle,\n    getOwnersList,\n    getPathForElement,\n    getProfilingData,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    handlePostCommitFiberRoot,\n    inspectElement,\n    logElementToConsole,\n    prepareViewAttributeSource,\n    prepareViewElementSource,\n    overrideError,\n    overrideSuspense,\n    overrideValueAtPath,\n    renamePath,\n    renderer,\n    setTraceUpdatesEnabled,\n    setTrackedPath,\n    startProfiling,\n    stopProfiling,\n    storeAsGlobal,\n    updateComponentFilters,\n  };\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","//  Import support https://stackoverflow.com/questions/13673346/supporting-both-commonjs-and-amd\n(function(name, definition) {\n    if (typeof module !== \"undefined\") { module.exports = definition(); }\n    else if (typeof define === \"function\" && typeof define.amd === \"object\") { define(definition); }\n    else { this[name] = definition(); }\n}(\"clipboard\", function() {\n  if (typeof document === 'undefined' || !document.addEventListener) {\n    return null;\n  }\n\n  var clipboard = {};\n\n  clipboard.copy = (function() {\n    var _intercept = false;\n    var _data = null; // Map from data type (e.g. \"text/html\") to value.\n    var _bogusSelection = false;\n\n    function cleanup() {\n      _intercept = false;\n      _data = null;\n      if (_bogusSelection) {\n        window.getSelection().removeAllRanges();\n      }\n      _bogusSelection = false;\n    }\n\n    document.addEventListener(\"copy\", function(e) {\n      if (_intercept) {\n        for (var key in _data) {\n          e.clipboardData.setData(key, _data[key]);\n        }\n        e.preventDefault();\n      }\n    });\n\n    // Workaround for Safari: https://bugs.webkit.org/show_bug.cgi?id=156529\n    function bogusSelect() {\n      var sel = document.getSelection();\n      // If \"nothing\" is selected...\n      if (!document.queryCommandEnabled(\"copy\") && sel.isCollapsed) {\n        // ... temporarily select the entire body.\n        //\n        // We select the entire body because:\n        // - it's guaranteed to exist,\n        // - it works (unlike, say, document.head, or phantom element that is\n        //   not inserted into the DOM),\n        // - it doesn't seem to flicker (due to the synchronous copy event), and\n        // - it avoids modifying the DOM (can trigger mutation observers).\n        //\n        // Because we can't do proper feature detection (we already checked\n        // document.queryCommandEnabled(\"copy\") , which actually gives a false\n        // negative for Blink when nothing is selected) and UA sniffing is not\n        // reliable (a lot of UA strings contain \"Safari\"), this will also\n        // happen for some browsers other than Safari. :-()\n        var range = document.createRange();\n        range.selectNodeContents(document.body);\n        sel.removeAllRanges();\n        sel.addRange(range);\n        _bogusSelection = true;\n      }\n    };\n\n    return function(data) {\n      return new Promise(function(resolve, reject) {\n        _intercept = true;\n        if (typeof data === \"string\") {\n          _data = {\"text/plain\": data};\n        } else if (data instanceof Node) {\n          _data = {\"text/html\": new XMLSerializer().serializeToString(data)};\n        } else if (data instanceof Object){\n          _data = data;\n        } else {\n          reject(\"Invalid data type. Must be string, DOM node, or an object mapping MIME types to strings.\")\n        }\n\n        function triggerCopy(tryBogusSelect) {\n          try {\n            if (document.execCommand(\"copy\")) {\n              // document.execCommand is synchronous: http://www.w3.org/TR/2015/WD-clipboard-apis-20150421/#integration-with-rich-text-editing-apis\n              // So we can call resolve() back here.\n              cleanup();\n              resolve();\n            }\n            else {\n              if (!tryBogusSelect) {\n                bogusSelect();\n                triggerCopy(true);\n              } else {\n                cleanup();\n                throw new Error(\"Unable to copy. Perhaps it's not available in your browser?\");\n              }\n            }\n          } catch (e) {\n            cleanup();\n            reject(e);\n          }\n        }\n        triggerCopy(false);\n\n      });\n    };\n  })();\n\n  clipboard.paste = (function() {\n    var _intercept = false;\n    var _resolve;\n    var _dataType;\n\n    document.addEventListener(\"paste\", function(e) {\n      if (_intercept) {\n        _intercept = false;\n        e.preventDefault();\n        var resolve = _resolve;\n        _resolve = null;\n        resolve(e.clipboardData.getData(_dataType));\n      }\n    });\n\n    return function(dataType) {\n      return new Promise(function(resolve, reject) {\n        _intercept = true;\n        _resolve = resolve;\n        _dataType = dataType || \"text/plain\";\n        try {\n          if (!document.execCommand(\"paste\")) {\n            _intercept = false;\n            reject(new Error(\"Unable to paste. Pasting only works in Internet Explorer at the moment.\"));\n          }\n        } catch (e) {\n          _intercept = false;\n          reject(new Error(e));\n        }\n      });\n    };\n  })();\n\n  // Handle IE behaviour.\n  if (typeof ClipboardEvent === \"undefined\" &&\n      typeof window.clipboardData !== \"undefined\" &&\n      typeof window.clipboardData.setData !== \"undefined\") {\n\n    /*! promise-polyfill 2.0.1 */\n    (function(a){function b(a,b){return function(){a.apply(b,arguments)}}function c(a){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof a)throw new TypeError(\"not a function\");this._state=null,this._value=null,this._deferreds=[],i(a,b(e,this),b(f,this))}function d(a){var b=this;return null===this._state?void this._deferreds.push(a):void j(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)return void(b._state?a.resolve:a.reject)(b._value);var d;try{d=c(b._value)}catch(e){return void a.reject(e)}a.resolve(d)})}function e(a){try{if(a===this)throw new TypeError(\"A promise cannot be resolved with itself.\");if(a&&(\"object\"==typeof a||\"function\"==typeof a)){var c=a.then;if(\"function\"==typeof c)return void i(b(c,a),b(e,this),b(f,this))}this._state=!0,this._value=a,g.call(this)}catch(d){f.call(this,d)}}function f(a){this._state=!1,this._value=a,g.call(this)}function g(){for(var a=0,b=this._deferreds.length;b>a;a++)d.call(this,this._deferreds[a]);this._deferreds=null}function h(a,b,c,d){this.onFulfilled=\"function\"==typeof a?a:null,this.onRejected=\"function\"==typeof b?b:null,this.resolve=c,this.reject=d}function i(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}var j=c.immediateFn||\"function\"==typeof setImmediate&&setImmediate||function(a){setTimeout(a,1)},k=Array.isArray||function(a){return\"[object Array]\"===Object.prototype.toString.call(a)};c.prototype[\"catch\"]=function(a){return this.then(null,a)},c.prototype.then=function(a,b){var e=this;return new c(function(c,f){d.call(e,new h(a,b,c,f))})},c.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&k(arguments[0])?arguments[0]:arguments);return new c(function(b,c){function d(f,g){try{if(g&&(\"object\"==typeof g||\"function\"==typeof g)){var h=g.then;if(\"function\"==typeof h)return void h.call(g,function(a){d(f,a)},c)}a[f]=g,0===--e&&b(a)}catch(i){c(i)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},c.resolve=function(a){return a&&\"object\"==typeof a&&a.constructor===c?a:new c(function(b){b(a)})},c.reject=function(a){return new c(function(b,c){c(a)})},c.race=function(a){return new c(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})},\"undefined\"!=typeof module&&module.exports?module.exports=c:a.Promise||(a.Promise=c)})(this);\n\n    clipboard.copy = function(data) {\n      return new Promise(function(resolve, reject) {\n        // IE supports string and URL types: https://msdn.microsoft.com/en-us/library/ms536744(v=vs.85).aspx\n        // We only support the string type for now.\n        if (typeof data !== \"string\" && !(\"text/plain\" in data)) {\n          throw new Error(\"You must provide a text/plain type.\");\n        }\n\n        var strData = (typeof data === \"string\" ? data : data[\"text/plain\"]);\n        var copySucceeded = window.clipboardData.setData(\"Text\", strData);\n        if (copySucceeded) {\n          resolve();\n        } else {\n          reject(new Error(\"Copying was rejected.\"));\n        }\n      });\n    };\n\n    clipboard.paste = function() {\n      return new Promise(function(resolve, reject) {\n        var strData = window.clipboardData.getData(\"Text\");\n        if (strData) {\n          resolve(strData);\n        } else {\n          // The user rejected the paste request.\n          reject(new Error(\"Pasting was rejected.\"));\n        }\n      });\n    };\n  }\n\n  return clipboard;\n}));\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-debug-tools.production.min.js');\n} else {\n  module.exports = require('./cjs/react-debug-tools.development.js');\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of shared/ConsolePatchingDev.\n// The shared console patching code is DEV-only.\n// We can't use it since DevTools only ships production builds.\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\n\nlet disabledDepth = 0;\nlet prevLog;\nlet prevInfo;\nlet prevWarn;\nlet prevError;\nlet prevGroup;\nlet prevGroupCollapsed;\nlet prevGroupEnd;\n\nfunction disabledLog() {}\ndisabledLog.__reactDisabledLog = true;\n\nexport function disableLogs(): void {\n  if (disabledDepth === 0) {\n    /* eslint-disable react-internal/no-production-logging */\n    prevLog = console.log;\n    prevInfo = console.info;\n    prevWarn = console.warn;\n    prevError = console.error;\n    prevGroup = console.group;\n    prevGroupCollapsed = console.groupCollapsed;\n    prevGroupEnd = console.groupEnd;\n    // https://github.com/facebook/react/issues/19099\n    const props = {\n      configurable: true,\n      enumerable: true,\n      value: disabledLog,\n      writable: true,\n    };\n    // $FlowFixMe Flow thinks console is immutable.\n    Object.defineProperties(console, {\n      info: props,\n      log: props,\n      warn: props,\n      error: props,\n      group: props,\n      groupCollapsed: props,\n      groupEnd: props,\n    });\n    /* eslint-enable react-internal/no-production-logging */\n  }\n  disabledDepth++;\n}\n\nexport function reenableLogs(): void {\n  disabledDepth--;\n  if (disabledDepth === 0) {\n    /* eslint-disable react-internal/no-production-logging */\n    const props = {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n    };\n    // $FlowFixMe Flow thinks console is immutable.\n    Object.defineProperties(console, {\n      log: {...props, value: prevLog},\n      info: {...props, value: prevInfo},\n      warn: {...props, value: prevWarn},\n      error: {...props, value: prevError},\n      group: {...props, value: prevGroup},\n      groupCollapsed: {...props, value: prevGroupCollapsed},\n      groupEnd: {...props, value: prevGroupEnd},\n    });\n    /* eslint-enable react-internal/no-production-logging */\n  }\n  if (disabledDepth < 0) {\n    console.error(\n      'disabledDepth fell below zero. ' +\n        'This is a bug in React. Please file an issue.',\n    );\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactComponentStackFrame.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {Source} from 'shared/ReactElementType';\nimport type {LazyComponent} from 'react/src/ReactLazy';\nimport type {CurrentDispatcherRef} from './types';\n\nimport {\n  FORWARD_REF_NUMBER,\n  FORWARD_REF_SYMBOL_STRING,\n  LAZY_NUMBER,\n  LAZY_SYMBOL_STRING,\n  MEMO_NUMBER,\n  MEMO_SYMBOL_STRING,\n  SUSPENSE_NUMBER,\n  SUSPENSE_SYMBOL_STRING,\n  SUSPENSE_LIST_NUMBER,\n  SUSPENSE_LIST_SYMBOL_STRING,\n} from './ReactSymbols';\n\n// The shared console patching code is DEV-only.\n// We can't use it since DevTools only ships production builds.\nimport {disableLogs, reenableLogs} from './DevToolsConsolePatching';\n\nlet prefix;\nexport function describeBuiltInComponentFrame(\n  name: string,\n  source: void | null | Source,\n  ownerFn: void | null | Function,\n): string {\n  if (prefix === undefined) {\n    // Extract the VM specific prefix used by each line.\n    try {\n      throw Error();\n    } catch (x) {\n      const match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || '';\n    }\n  }\n  // We use the prefix to ensure our stacks line up with native stack frames.\n  return '\\n' + prefix + name;\n}\n\nlet reentry = false;\nlet componentFrameCache;\nif (__DEV__) {\n  const PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n\nexport function describeNativeComponentFrame(\n  fn: Function,\n  construct: boolean,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  if (__DEV__) {\n    const frame = componentFrameCache.get(fn);\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  let control;\n\n  const previousPrepareStackTrace = Error.prepareStackTrace;\n  // $FlowFixMe It does accept undefined.\n  Error.prepareStackTrace = undefined;\n\n  reentry = true;\n\n  // Override the dispatcher so effects scheduled by this shallow render are thrown away.\n  //\n  // Note that unlike the code this was forked from (in ReactComponentStackFrame)\n  // DevTools should override the dispatcher even when DevTools is compiled in production mode,\n  // because the app itself may be in development mode and log errors/warnings.\n  const previousDispatcher = currentDispatcherRef.current;\n  currentDispatcherRef.current = null;\n  disableLogs();\n\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      const Fake = function() {\n        throw Error();\n      };\n      // $FlowFixMe\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function() {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        },\n      });\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      const sampleLines = sample.stack.split('\\n');\n      const controlLines = control.stack.split('\\n');\n      let s = sampleLines.length - 1;\n      let c = controlLines.length - 1;\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--;\n              // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                const frame = '\\n' + sampleLines[s].replace(' at new ', ' at ');\n                if (__DEV__) {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, frame);\n                  }\n                }\n                // Return the line we found.\n                return frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n\n    currentDispatcherRef.current = previousDispatcher;\n    reenableLogs();\n  }\n  // Fallback to just using the name if we couldn't make it throw.\n  const name = fn ? fn.displayName || fn.name : '';\n  const syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n  if (__DEV__) {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n  return syntheticFrame;\n}\n\nexport function describeClassComponentFrame(\n  ctor: Function,\n  source: void | null | Source,\n  ownerFn: void | null | Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(ctor, true, currentDispatcherRef);\n}\n\nexport function describeFunctionComponentFrame(\n  fn: Function,\n  source: void | null | Source,\n  ownerFn: void | null | Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(fn, false, currentDispatcherRef);\n}\n\nfunction shouldConstruct(Component: Function) {\n  const prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nexport function describeUnknownElementTypeFrameInDEV(\n  type: any,\n  source: void | null | Source,\n  ownerFn: void | null | Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  if (!__DEV__) {\n    return '';\n  }\n  if (type == null) {\n    return '';\n  }\n  if (typeof type === 'function') {\n    return describeNativeComponentFrame(\n      type,\n      shouldConstruct(type),\n      currentDispatcherRef,\n    );\n  }\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type, source, ownerFn);\n  }\n  switch (type) {\n    case SUSPENSE_NUMBER:\n    case SUSPENSE_SYMBOL_STRING:\n      return describeBuiltInComponentFrame('Suspense', source, ownerFn);\n    case SUSPENSE_LIST_NUMBER:\n    case SUSPENSE_LIST_SYMBOL_STRING:\n      return describeBuiltInComponentFrame('SuspenseList', source, ownerFn);\n  }\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case FORWARD_REF_NUMBER:\n      case FORWARD_REF_SYMBOL_STRING:\n        return describeFunctionComponentFrame(\n          type.render,\n          source,\n          ownerFn,\n          currentDispatcherRef,\n        );\n      case MEMO_NUMBER:\n      case MEMO_SYMBOL_STRING:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(\n          type.type,\n          source,\n          ownerFn,\n          currentDispatcherRef,\n        );\n      case LAZY_NUMBER:\n      case LAZY_SYMBOL_STRING: {\n        const lazyComponent: LazyComponent<any, any> = (type: any);\n        const payload = lazyComponent._payload;\n        const init = lazyComponent._init;\n        try {\n          // Lazy may contain any component type so we recursively resolve it.\n          return describeUnknownElementTypeFrameInDEV(\n            init(payload),\n            source,\n            ownerFn,\n            currentDispatcherRef,\n          );\n        } catch (x) {}\n      }\n    }\n  }\n  return '';\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactFiberComponentStack.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {CurrentDispatcherRef, WorkTagMap} from './types';\n\nimport {\n  describeBuiltInComponentFrame,\n  describeFunctionComponentFrame,\n  describeClassComponentFrame,\n} from './DevToolsComponentStackFrame';\n\nfunction describeFiber(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  const {\n    HostComponent,\n    LazyComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    SimpleMemoComponent,\n    ForwardRef,\n    ClassComponent,\n  } = workTagMap;\n\n  const owner: null | Function = __DEV__\n    ? workInProgress._debugOwner\n      ? workInProgress._debugOwner.type\n      : null\n    : null;\n  const source = __DEV__ ? workInProgress._debugSource : null;\n  switch (workInProgress.tag) {\n    case HostComponent:\n      return describeBuiltInComponentFrame(workInProgress.type, source, owner);\n    case LazyComponent:\n      return describeBuiltInComponentFrame('Lazy', source, owner);\n    case SuspenseComponent:\n      return describeBuiltInComponentFrame('Suspense', source, owner);\n    case SuspenseListComponent:\n      return describeBuiltInComponentFrame('SuspenseList', source, owner);\n    case FunctionComponent:\n    case IndeterminateComponent:\n    case SimpleMemoComponent:\n      return describeFunctionComponentFrame(\n        workInProgress.type,\n        source,\n        owner,\n        currentDispatcherRef,\n      );\n    case ForwardRef:\n      return describeFunctionComponentFrame(\n        workInProgress.type.render,\n        source,\n        owner,\n        currentDispatcherRef,\n      );\n    case ClassComponent:\n      return describeClassComponentFrame(\n        workInProgress.type,\n        source,\n        owner,\n        currentDispatcherRef,\n      );\n    default:\n      return '';\n  }\n}\n\nexport function getStackByFiberInDevAndProd(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  try {\n    let info = '';\n    let node = workInProgress;\n    do {\n      info += describeFiber(workTagMap, node, currentDispatcherRef);\n      node = node.return;\n    } while (node);\n    return info;\n  } catch (x) {\n    return '\\nError generating stack: ' + x.message + '\\n' + x.stack;\n  }\n}\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount /*, ...nodes */) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 2; i < arguments.length; i++) {\n    walker = insert(this, walker, arguments[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","/** @license React vundefined\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var b=60103,c=60106,d=60107,e=60108,f=60114,g=60109,h=60110,k=60112,l=60113,m=60120,n=60115,p=60116,q=60129,r=60130,u=60131,v=60132;\nif(\"function\"===typeof Symbol&&Symbol.for){var w=Symbol.for;b=w(\"react.element\");c=w(\"react.portal\");d=w(\"react.fragment\");e=w(\"react.strict_mode\");f=w(\"react.profiler\");g=w(\"react.provider\");h=w(\"react.context\");k=w(\"react.forward_ref\");l=w(\"react.suspense\");m=w(\"react.suspense_list\");n=w(\"react.memo\");p=w(\"react.lazy\");q=w(\"react.debug_trace_mode\");r=w(\"react.offscreen\");u=w(\"react.legacy_hidden\");v=w(\"react.cache\")}var x=0;\"function\"===typeof Symbol&&(x=Symbol.for(\"react.module.reference\"));\nfunction y(a){if(\"object\"===typeof a&&null!==a){var t=a.$$typeof;switch(t){case b:switch(a=a.type,a){case d:case f:case e:case l:case m:return a;default:switch(a=a&&a.$$typeof,a){case h:case k:case p:case n:case g:return a;default:return t}}case c:return t}}}var z=g,A=b,B=k,C=d,D=p,E=n,F=c,G=f,H=e,I=l,J=m;exports.ContextConsumer=h;exports.ContextProvider=z;exports.Element=A;exports.ForwardRef=B;exports.Fragment=C;exports.Lazy=D;exports.Memo=E;exports.Portal=F;exports.Profiler=G;\nexports.StrictMode=H;exports.Suspense=I;exports.SuspenseList=J;exports.isAsyncMode=function(){return!1};exports.isConcurrentMode=function(){return!1};exports.isContextConsumer=function(a){return y(a)===h};exports.isContextProvider=function(a){return y(a)===g};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===b};exports.isForwardRef=function(a){return y(a)===k};exports.isFragment=function(a){return y(a)===d};exports.isLazy=function(a){return y(a)===p};\nexports.isMemo=function(a){return y(a)===n};exports.isPortal=function(a){return y(a)===c};exports.isProfiler=function(a){return y(a)===f};exports.isStrictMode=function(a){return y(a)===e};exports.isSuspense=function(a){return y(a)===l};exports.isSuspenseList=function(a){return y(a)===m};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===d||a===f||a===q||a===e||a===l||a===m||a===u||a===r||a===v||\"object\"===typeof a&&null!==a&&(a.$$typeof===p||a.$$typeof===n||a.$$typeof===g||a.$$typeof===h||a.$$typeof===k||a.$$typeof===x||void 0!==a.getModuleId)?!0:!1};exports.typeOf=y;\n","/** @license React vundefined\n * react-debug-tools.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var k=require(\"object-assign\"),p=require(\"error-stack-parser\");function r(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,e=1;e<arguments.length;e++)b+=\"&args[]=\"+encodeURIComponent(arguments[e]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var w=require(\"react\").__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60128;\nif(\"function\"===typeof Symbol&&Symbol.for){var y=Symbol.for;x=y(\"react.opaque.id\")}var z=[],A=null,B=null;\nfunction C(){if(null===A){var a=new Map;try{D.useContext({_currentValue:null}),D.useState(null),D.useReducer(function(a){return a},null),D.useRef(null),\"function\"===typeof D.useCacheRefresh&&D.useCacheRefresh(),D.useLayoutEffect(function(){}),D.useEffect(function(){}),D.useImperativeHandle(void 0,function(){return null}),D.useDebugValue(null),D.useCallback(function(){}),D.useMemo(function(){return null})}finally{var b=z;z=[]}for(var e=0;e<b.length;e++){var f=b[e];a.set(f.primitive,p.parse(f.stackError))}A=\na}return A}var E=null;function F(){var a=E;null!==a&&(E=a.next);return a}\nvar D={getCacheForType:function(){throw Error(r(248));},readContext:function(a){return a._currentValue},useCacheRefresh:function(){var a=F();z.push({primitive:\"CacheRefresh\",stackError:Error(),value:null!==a?a.memoizedState:function(){}});return function(){}},useCallback:function(a){var b=F();z.push({primitive:\"Callback\",stackError:Error(),value:null!==b?b.memoizedState[0]:a});return a},useContext:function(a){z.push({primitive:\"Context\",stackError:Error(),value:a._currentValue});return a._currentValue},\nuseEffect:function(a){F();z.push({primitive:\"Effect\",stackError:Error(),value:a})},useImperativeHandle:function(a){F();var b=void 0;null!==a&&\"object\"===typeof a&&(b=a.current);z.push({primitive:\"ImperativeHandle\",stackError:Error(),value:b})},useDebugValue:function(a,b){z.push({primitive:\"DebugValue\",stackError:Error(),value:\"function\"===typeof b?b(a):a})},useLayoutEffect:function(a){F();z.push({primitive:\"LayoutEffect\",stackError:Error(),value:a})},useMemo:function(a){var b=F();a=null!==b?b.memoizedState[0]:\na();z.push({primitive:\"Memo\",stackError:Error(),value:a});return a},useReducer:function(a,b,e){a=F();b=null!==a?a.memoizedState:void 0!==e?e(b):b;z.push({primitive:\"Reducer\",stackError:Error(),value:b});return[b,function(){}]},useRef:function(a){var b=F();a=null!==b?b.memoizedState:{current:a};z.push({primitive:\"Ref\",stackError:Error(),value:a.current});return a},useState:function(a){var b=F();a=null!==b?b.memoizedState:\"function\"===typeof a?a():a;z.push({primitive:\"State\",stackError:Error(),value:a});\nreturn[a,function(){}]},useTransition:function(){F();F();z.push({primitive:\"Transition\",stackError:Error(),value:void 0});return[!1,function(){}]},useMutableSource:function(a,b){F();F();F();F();a=b(a._source);z.push({primitive:\"MutableSource\",stackError:Error(),value:a});return a},useDeferredValue:function(a){F();F();z.push({primitive:\"DeferredValue\",stackError:Error(),value:a});return a},useOpaqueIdentifier:function(){var a=F();B&&0===B.mode&&F();(a=null===a?void 0:a.memoizedState)&&a.$$typeof===\nx&&(a=void 0);z.push({primitive:\"OpaqueIdentifier\",stackError:Error(),value:a});return a}},G=0;function H(a,b,e){var f=b[e].source,c=0;a:for(;c<a.length;c++)if(a[c].source===f){for(var l=e+1,q=c+1;l<b.length&&q<a.length;l++,q++)if(a[q].source!==b[l].source)continue a;return c}return-1}function I(a,b){if(!a)return!1;b=\"use\"+b;return a.length<b.length?!1:a.lastIndexOf(b)===a.length-b.length}\nfunction J(a,b,e){for(var f=[],c=null,l=f,q=0,t=[],v=0;v<b.length;v++){var u=b[v];var d=a;var h=p.parse(u.stackError);b:{var m=h,n=H(m,d,G);if(-1!==n)d=n;else{for(var g=0;g<d.length&&5>g;g++)if(n=H(m,d,g),-1!==n){G=g;d=n;break b}d=-1}}b:{m=h;n=C().get(u.primitive);if(void 0!==n)for(g=0;g<n.length&&g<m.length;g++)if(n[g].source!==m[g].source){g<m.length-1&&I(m[g].functionName,u.primitive)&&g++;g<m.length-1&&I(m[g].functionName,u.primitive)&&g++;m=g;break b}m=-1}h=-1===d||-1===m||2>d-m?null:h.slice(m,\nd-1);if(null!==h){d=0;if(null!==c){for(;d<h.length&&d<c.length&&h[h.length-d-1].source===c[c.length-d-1].source;)d++;for(c=c.length-1;c>d;c--)l=t.pop()}for(c=h.length-d-1;1<=c;c--)d=[],m=h[c],(n=h[c-1].functionName)?(g=n.lastIndexOf(\".\"),-1===g&&(g=0),\"use\"===n.substr(g,3)&&(g+=3),n=n.substr(g)):n=\"\",n={id:null,isStateEditable:!1,name:n,value:void 0,subHooks:d},e&&(n.hookSource={lineNumber:m.lineNumber,columnNumber:m.columnNumber,functionName:m.functionName,fileName:m.fileName}),l.push(n),t.push(l),\nl=d;c=h}d=u.primitive;u={id:\"Context\"===d||\"DebugValue\"===d?null:q++,isStateEditable:\"Reducer\"===d||\"State\"===d,name:d,value:u.value,subHooks:[]};e&&(d={lineNumber:null,functionName:null,fileName:null,columnNumber:null},h&&1<=h.length&&(h=h[0],d.lineNumber=h.lineNumber,d.functionName=h.functionName,d.fileName=h.fileName,d.columnNumber=h.columnNumber),u.hookSource=d);l.push(u)}K(f,null);return f}\nfunction K(a,b){for(var e=[],f=0;f<a.length;f++){var c=a[f];\"DebugValue\"===c.name&&0===c.subHooks.length?(a.splice(f,1),f--,e.push(c)):K(c.subHooks,c)}null!==b&&(1===e.length?b.value=e[0].value:1<e.length&&(b.value=e.map(function(a){return a.value})))}function L(a,b,e){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;null==e&&(e=w.ReactCurrentDispatcher);var c=e.current;e.current=D;try{var l=Error();a(b)}finally{var q=z;z=[];e.current=c}c=p.parse(l);return J(c,q,f)}\nfunction M(a){a.forEach(function(a,e){return e._currentValue=a})}exports.inspectHooks=L;\nexports.inspectHooksOfFiber=function(a,b){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;null==b&&(b=w.ReactCurrentDispatcher);B=a;if(0!==a.tag&&15!==a.tag&&11!==a.tag)throw Error(\"Unknown Fiber. Needs to be a function component to inspect hooks.\");C();var f=a.type,c=a.memoizedProps;if(f!==a.elementType&&f&&f.defaultProps){c=k({},c);var l=f.defaultProps;for(q in l)void 0===c[q]&&(c[q]=l[q])}E=a.memoizedState;var q=new Map;try{for(l=a;l;){if(10===l.tag){var t=l.type._context;q.has(t)||\n(q.set(t,t._currentValue),t._currentValue=l.memoizedProps.value)}l=l.return}if(11===a.tag){var v=f.render;f=c;var u=a.ref;t=b;var d=t.current;t.current=D;try{var h=Error();v(f,u)}finally{var m=z;z=[];t.current=d}var n=p.parse(h);return J(n,m,e)}return L(f,c,b,e)}finally{E=null,M(q)}};\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(\\),.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                var tokens = sanitizedLine.split(/\\s+/).slice(1);\n                // if a location was matched, pass it to extractLocation() otherwise pop the last token\n                var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n\n    function StackFrame(obj) {\n        if (!obj) return;\n        for (var i = 0; i < props.length; i++) {\n            if (obj[props[i]] !== undefined) {\n                this['set' + _capitalize(props[i])](obj[props[i]]);\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var fileName = this.getFileName() || '';\n            var lineNumber = this.getLineNumber() || '';\n            var columnNumber = this.getColumnNumber() || '';\n            var functionName = this.getFunctionName() || '';\n            if (this.getIsEval()) {\n                if (fileName) {\n                    return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n                }\n                return '[eval]:' + lineNumber + ':' + columnNumber;\n            }\n            if (functionName) {\n                return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n            }\n            return fileName + ':' + lineNumber + ':' + columnNumber;\n        }\n    };\n\n    StackFrame.fromString = function StackFrame$$fromString(str) {\n        var argsStartIndex = str.indexOf('(');\n        var argsEndIndex = str.lastIndexOf(')');\n\n        var functionName = str.substring(0, argsStartIndex);\n        var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n        var locationString = str.substring(argsEndIndex + 1);\n\n        if (locationString.indexOf('@') === 0) {\n            var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n            var fileName = parts[1];\n            var lineNumber = parts[2];\n            var columnNumber = parts[3];\n        }\n\n        return new StackFrame({\n            functionName: functionName,\n            args: args || undefined,\n            fileName: fileName,\n            lineNumber: lineNumber || undefined,\n            columnNumber: columnNumber || undefined\n        });\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/** @license React vundefined\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=require(\"object-assign\"),m=60103,p=60106;exports.Fragment=60107;exports.StrictMode=60108;exports.Profiler=60114;var q=60109,r=60110,t=60112;exports.Suspense=60113;exports.SuspenseList=60120;var u=60115,v=60116;exports.unstable_DebugTracingMode=60129;exports.unstable_Offscreen=60130;exports.unstable_LegacyHidden=60131;exports.unstable_Cache=60132;\nif(\"function\"===typeof Symbol&&Symbol.for){var w=Symbol.for;m=w(\"react.element\");p=w(\"react.portal\");exports.Fragment=w(\"react.fragment\");exports.StrictMode=w(\"react.strict_mode\");exports.Profiler=w(\"react.profiler\");q=w(\"react.provider\");r=w(\"react.context\");t=w(\"react.forward_ref\");exports.Suspense=w(\"react.suspense\");exports.SuspenseList=w(\"react.suspense_list\");u=w(\"react.memo\");v=w(\"react.lazy\");exports.unstable_DebugTracingMode=w(\"react.debug_trace_mode\");exports.unstable_Offscreen=w(\"react.offscreen\");\nexports.unstable_LegacyHidden=w(\"react.legacy_hidden\");exports.unstable_Cache=w(\"react.cache\")}var x=\"function\"===typeof Symbol&&Symbol.iterator;function y(a){if(null===a||\"object\"!==typeof a)return null;a=x&&a[x]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nfunction z(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};\nfunction C(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}C.prototype.isReactComponent={};C.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(z(85));this.updater.enqueueSetState(this,a,b,\"setState\")};C.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function D(){}D.prototype=C.prototype;function E(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}var F=E.prototype=new D;\nF.constructor=E;l(F,C.prototype);F.isPureReactComponent=!0;var G=Array.isArray,H=Object.prototype.hasOwnProperty,I={current:null},J={key:!0,ref:!0,__self:!0,__source:!0};\nfunction K(a,b,c){var e,d={},k=null,h=null;if(null!=b)for(e in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)H.call(b,e)&&!J.hasOwnProperty(e)&&(d[e]=b[e]);var g=arguments.length-2;if(1===g)d.children=c;else if(1<g){for(var f=Array(g),n=0;n<g;n++)f[n]=arguments[n+2];d.children=f}if(a&&a.defaultProps)for(e in g=a.defaultProps,g)void 0===d[e]&&(d[e]=g[e]);return{$$typeof:m,type:a,key:k,ref:h,props:d,_owner:I.current}}\nfunction L(a,b){return{$$typeof:m,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function M(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===m}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var N=/\\/+/g;function O(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction P(a,b,c,e,d){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case m:case p:h=!0}}if(h)return h=a,d=d(h),a=\"\"===e?\".\"+O(h,0):e,G(d)?(c=\"\",null!=a&&(c=a.replace(N,\"$&/\")+\"/\"),P(d,b,c,\"\",function(a){return a})):null!=d&&(M(d)&&(d=L(d,c+(!d.key||h&&h.key===d.key?\"\":(\"\"+d.key).replace(N,\"$&/\")+\"/\")+a)),b.push(d)),1;h=0;e=\"\"===e?\".\":e+\":\";if(G(a))for(var g=0;g<a.length;g++){k=\na[g];var f=e+O(k,g);h+=P(k,b,c,f,d)}else if(f=y(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=e+O(k,g++),h+=P(k,b,c,f,d);else if(\"object\"===k)throw b=\"\"+a,Error(z(31,\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b));return h}function Q(a,b,c){if(null==a)return a;var e=[],d=0;P(a,e,\"\",\"\",function(a){return b.call(c,a,d++)});return e}\nfunction R(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}var S={current:null},T={transition:0},U={ReactCurrentDispatcher:S,ReactCurrentBatchConfig:T,ReactCurrentOwner:I,assign:l};\nexports.Children={map:Q,forEach:function(a,b,c){Q(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;Q(a,function(){b++});return b},toArray:function(a){return Q(a,function(a){return a})||[]},only:function(a){if(!M(a))throw Error(z(143));return a}};exports.Component=C;exports.PureComponent=E;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U;\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(z(267,a));var e=l({},a.props),d=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=I.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)H.call(b,f)&&!J.hasOwnProperty(f)&&(e[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){g=Array(f);for(var n=0;n<f;n++)g[n]=arguments[n+2];e.children=g}return{$$typeof:m,type:a.type,\nkey:d,ref:k,props:e,_owner:h}};exports.createContext=function(a){a={$$typeof:r,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:q,_context:a};return a.Consumer=a};exports.createElement=K;exports.createFactory=function(a){var b=K.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:t,render:a}};exports.isValidElement=M;\nexports.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:R}};exports.memo=function(a,b){return{$$typeof:u,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=T.transition;T.transition=1;try{a()}finally{T.transition=b}};exports.unstable_act=function(){throw Error(z(406));};exports.unstable_createMutableSource=function(a,b){return{_getVersion:b,_source:a,_workInProgressVersionPrimary:null,_workInProgressVersionSecondary:null}};\nexports.unstable_getCacheForType=function(a){return S.current.getCacheForType(a)};exports.unstable_useCacheRefresh=function(){return S.current.useCacheRefresh()};exports.unstable_useMutableSource=function(a,b,c){return S.current.useMutableSource(a,b,c)};exports.unstable_useOpaqueIdentifier=function(){return S.current.useOpaqueIdentifier()};exports.useCallback=function(a,b){return S.current.useCallback(a,b)};exports.useContext=function(a){return S.current.useContext(a)};exports.useDebugValue=function(){};\nexports.useDeferredValue=function(a){return S.current.useDeferredValue(a)};exports.useEffect=function(a,b){return S.current.useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return S.current.useImperativeHandle(a,b,c)};exports.useLayoutEffect=function(a,b){return S.current.useLayoutEffect(a,b)};exports.useMemo=function(a,b){return S.current.useMemo(a,b)};exports.useReducer=function(a,b,c){return S.current.useReducer(a,b,c)};exports.useRef=function(a){return S.current.useRef(a)};\nexports.useState=function(a){return S.current.useState(a)};exports.useTransition=function(){return S.current.useTransition()};exports.version=\"18.0.0-experimental-3385b377f-20210901\";\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport default class EventEmitter<Events: Object> {\n  listenersMap: Map<string, Array<Function>> = new Map();\n\n  addListener<Event: $Keys<Events>>(\n    event: Event,\n    listener: (...$ElementType<Events, Event>) => any,\n  ): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners === undefined) {\n      this.listenersMap.set(event, [listener]);\n    } else {\n      const index = listeners.indexOf(listener);\n      if (index < 0) {\n        listeners.push(listener);\n      }\n    }\n  }\n\n  emit<Event: $Keys<Events>>(\n    event: Event,\n    ...args: $ElementType<Events, Event>\n  ): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners !== undefined) {\n      if (listeners.length === 1) {\n        // No need to clone or try/catch\n        const listener = listeners[0];\n        listener.apply(null, args);\n      } else {\n        let didThrow = false;\n        let caughtError = null;\n\n        const clonedListeners = Array.from(listeners);\n        for (let i = 0; i < clonedListeners.length; i++) {\n          const listener = clonedListeners[i];\n          try {\n            listener.apply(null, args);\n          } catch (error) {\n            if (caughtError === null) {\n              didThrow = true;\n              caughtError = error;\n            }\n          }\n        }\n\n        if (didThrow) {\n          throw caughtError;\n        }\n      }\n    }\n  }\n\n  removeAllListeners(): void {\n    this.listenersMap.clear();\n  }\n\n  removeListener(event: $Keys<Events>, listener: Function): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners !== undefined) {\n      const index = listeners.indexOf(listener);\n      if (index >= 0) {\n        listeners.splice(index, 1);\n      }\n    }\n  }\n}\n","\n\nvar simpleIsEqual = function simpleIsEqual(a, b) {\n  return a === b;\n};\n\nexport default function (resultFn) {\n  var isEqual = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : simpleIsEqual;\n\n  var lastThis = void 0;\n  var lastArgs = [];\n  var lastResult = void 0;\n  var calledOnce = false;\n\n  var isNewArgEqualToLast = function isNewArgEqualToLast(newArg, index) {\n    return isEqual(newArg, lastArgs[index]);\n  };\n\n  var result = function result() {\n    for (var _len = arguments.length, newArgs = Array(_len), _key = 0; _key < _len; _key++) {\n      newArgs[_key] = arguments[_key];\n    }\n\n    if (calledOnce && lastThis === this && newArgs.length === lastArgs.length && newArgs.every(isNewArgEqualToLast)) {\n      return lastResult;\n    }\n\n    calledOnce = true;\n    lastThis = this;\n    lastArgs = newArgs;\n    lastResult = resultFn.apply(this, newArgs);\n    return lastResult;\n  };\n\n  return result;\n}","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport type Rect = {\n  bottom: number,\n  height: number,\n  left: number,\n  right: number,\n  top: number,\n  width: number,\n  ...\n};\n\n// Get the window object for the document that a node belongs to,\n// or return null if it cannot be found (node not attached to DOM,\n// etc).\nexport function getOwnerWindow(node: HTMLElement): typeof window | null {\n  if (!node.ownerDocument) {\n    return null;\n  }\n  return node.ownerDocument.defaultView;\n}\n\n// Get the iframe containing a node, or return null if it cannot\n// be found (node not within iframe, etc).\nexport function getOwnerIframe(node: HTMLElement): HTMLElement | null {\n  const nodeWindow = getOwnerWindow(node);\n  if (nodeWindow) {\n    return nodeWindow.frameElement;\n  }\n  return null;\n}\n\n// Get a bounding client rect for a node, with an\n// offset added to compensate for its border.\nexport function getBoundingClientRectWithBorderOffset(node: HTMLElement) {\n  const dimensions = getElementDimensions(node);\n  return mergeRectOffsets([\n    node.getBoundingClientRect(),\n    {\n      top: dimensions.borderTop,\n      left: dimensions.borderLeft,\n      bottom: dimensions.borderBottom,\n      right: dimensions.borderRight,\n      // This width and height won't get used by mergeRectOffsets (since this\n      // is not the first rect in the array), but we set them so that this\n      // object typechecks as a ClientRect.\n      width: 0,\n      height: 0,\n    },\n  ]);\n}\n\n// Add together the top, left, bottom, and right properties of\n// each ClientRect, but keep the width and height of the first one.\nexport function mergeRectOffsets(rects: Array<Rect>): Rect {\n  return rects.reduce((previousRect, rect) => {\n    if (previousRect == null) {\n      return rect;\n    }\n\n    return {\n      top: previousRect.top + rect.top,\n      left: previousRect.left + rect.left,\n      width: previousRect.width,\n      height: previousRect.height,\n      bottom: previousRect.bottom + rect.bottom,\n      right: previousRect.right + rect.right,\n    };\n  });\n}\n\n// Calculate a boundingClientRect for a node relative to boundaryWindow,\n// taking into account any offsets caused by intermediate iframes.\nexport function getNestedBoundingClientRect(\n  node: HTMLElement,\n  boundaryWindow: typeof window,\n): Rect {\n  const ownerIframe = getOwnerIframe(node);\n  if (ownerIframe && ownerIframe !== boundaryWindow) {\n    const rects = [node.getBoundingClientRect()];\n    let currentIframe = ownerIframe;\n    let onlyOneMore = false;\n    while (currentIframe) {\n      const rect = getBoundingClientRectWithBorderOffset(currentIframe);\n      rects.push(rect);\n      currentIframe = getOwnerIframe(currentIframe);\n\n      if (onlyOneMore) {\n        break;\n      }\n      // We don't want to calculate iframe offsets upwards beyond\n      // the iframe containing the boundaryWindow, but we\n      // need to calculate the offset relative to the boundaryWindow.\n      if (currentIframe && getOwnerWindow(currentIframe) === boundaryWindow) {\n        onlyOneMore = true;\n      }\n    }\n\n    return mergeRectOffsets(rects);\n  } else {\n    return node.getBoundingClientRect();\n  }\n}\n\nexport function getElementDimensions(domElement: Element) {\n  const calculatedStyle = window.getComputedStyle(domElement);\n  return {\n    borderLeft: parseInt(calculatedStyle.borderLeftWidth, 10),\n    borderRight: parseInt(calculatedStyle.borderRightWidth, 10),\n    borderTop: parseInt(calculatedStyle.borderTopWidth, 10),\n    borderBottom: parseInt(calculatedStyle.borderBottomWidth, 10),\n    marginLeft: parseInt(calculatedStyle.marginLeft, 10),\n    marginRight: parseInt(calculatedStyle.marginRight, 10),\n    marginTop: parseInt(calculatedStyle.marginTop, 10),\n    marginBottom: parseInt(calculatedStyle.marginBottom, 10),\n    paddingLeft: parseInt(calculatedStyle.paddingLeft, 10),\n    paddingRight: parseInt(calculatedStyle.paddingRight, 10),\n    paddingTop: parseInt(calculatedStyle.paddingTop, 10),\n    paddingBottom: parseInt(calculatedStyle.paddingBottom, 10),\n  };\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport assign from 'object-assign';\nimport {getElementDimensions, getNestedBoundingClientRect} from '../utils';\n\nimport type {DevToolsHook} from 'react-devtools-shared/src/backend/types';\nimport type {Rect} from '../utils';\n\ntype Box = {|top: number, left: number, width: number, height: number|};\n\n// Note that the Overlay components are not affected by the active Theme,\n// because they highlight elements in the main Chrome window (outside of devtools).\n// The colors below were chosen to roughly match those used by Chrome devtools.\n\nclass OverlayRect {\n  node: HTMLElement;\n  border: HTMLElement;\n  padding: HTMLElement;\n  content: HTMLElement;\n\n  constructor(doc: Document, container: HTMLElement) {\n    this.node = doc.createElement('div');\n    this.border = doc.createElement('div');\n    this.padding = doc.createElement('div');\n    this.content = doc.createElement('div');\n\n    this.border.style.borderColor = overlayStyles.border;\n    this.padding.style.borderColor = overlayStyles.padding;\n    this.content.style.backgroundColor = overlayStyles.background;\n\n    assign(this.node.style, {\n      borderColor: overlayStyles.margin,\n      pointerEvents: 'none',\n      position: 'fixed',\n    });\n\n    this.node.style.zIndex = '10000000';\n\n    this.node.appendChild(this.border);\n    this.border.appendChild(this.padding);\n    this.padding.appendChild(this.content);\n    container.appendChild(this.node);\n  }\n\n  remove() {\n    if (this.node.parentNode) {\n      this.node.parentNode.removeChild(this.node);\n    }\n  }\n\n  update(box: Rect, dims: any) {\n    boxWrap(dims, 'margin', this.node);\n    boxWrap(dims, 'border', this.border);\n    boxWrap(dims, 'padding', this.padding);\n\n    assign(this.content.style, {\n      height:\n        box.height -\n        dims.borderTop -\n        dims.borderBottom -\n        dims.paddingTop -\n        dims.paddingBottom +\n        'px',\n      width:\n        box.width -\n        dims.borderLeft -\n        dims.borderRight -\n        dims.paddingLeft -\n        dims.paddingRight +\n        'px',\n    });\n\n    assign(this.node.style, {\n      top: box.top - dims.marginTop + 'px',\n      left: box.left - dims.marginLeft + 'px',\n    });\n  }\n}\n\nclass OverlayTip {\n  tip: HTMLElement;\n  nameSpan: HTMLElement;\n  dimSpan: HTMLElement;\n\n  constructor(doc: Document, container: HTMLElement) {\n    this.tip = doc.createElement('div');\n    assign(this.tip.style, {\n      display: 'flex',\n      flexFlow: 'row nowrap',\n      backgroundColor: '#333740',\n      borderRadius: '2px',\n      fontFamily:\n        '\"SFMono-Regular\", Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n      fontWeight: 'bold',\n      padding: '3px 5px',\n      pointerEvents: 'none',\n      position: 'fixed',\n      fontSize: '12px',\n      whiteSpace: 'nowrap',\n    });\n\n    this.nameSpan = doc.createElement('span');\n    this.tip.appendChild(this.nameSpan);\n    assign(this.nameSpan.style, {\n      color: '#ee78e6',\n      borderRight: '1px solid #aaaaaa',\n      paddingRight: '0.5rem',\n      marginRight: '0.5rem',\n    });\n    this.dimSpan = doc.createElement('span');\n    this.tip.appendChild(this.dimSpan);\n    assign(this.dimSpan.style, {\n      color: '#d7d7d7',\n    });\n\n    this.tip.style.zIndex = '10000000';\n    container.appendChild(this.tip);\n  }\n\n  remove() {\n    if (this.tip.parentNode) {\n      this.tip.parentNode.removeChild(this.tip);\n    }\n  }\n\n  updateText(name: string, width: number, height: number) {\n    this.nameSpan.textContent = name;\n    this.dimSpan.textContent =\n      Math.round(width) + 'px × ' + Math.round(height) + 'px';\n  }\n\n  updatePosition(dims: Box, bounds: Box) {\n    const tipRect = this.tip.getBoundingClientRect();\n    const tipPos = findTipPos(dims, bounds, {\n      width: tipRect.width,\n      height: tipRect.height,\n    });\n    assign(this.tip.style, tipPos.style);\n  }\n}\n\nexport default class Overlay {\n  window: window;\n  tipBoundsWindow: window;\n  container: HTMLElement;\n  tip: OverlayTip;\n  rects: Array<OverlayRect>;\n\n  constructor() {\n    // Find the root window, because overlays are positioned relative to it.\n    const currentWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n    this.window = currentWindow;\n\n    // When opened in shells/dev, the tooltip should be bound by the app iframe, not by the topmost window.\n    const tipBoundsWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n    this.tipBoundsWindow = tipBoundsWindow;\n\n    const doc = currentWindow.document;\n    this.container = doc.createElement('div');\n    this.container.style.zIndex = '10000000';\n\n    this.tip = new OverlayTip(doc, this.container);\n    this.rects = [];\n\n    doc.body.appendChild(this.container);\n  }\n\n  remove() {\n    this.tip.remove();\n    this.rects.forEach(rect => {\n      rect.remove();\n    });\n    this.rects.length = 0;\n    if (this.container.parentNode) {\n      this.container.parentNode.removeChild(this.container);\n    }\n  }\n\n  inspect(nodes: Array<HTMLElement>, name?: ?string) {\n    // We can't get the size of text nodes or comment nodes. React as of v15\n    // heavily uses comment nodes to delimit text.\n    const elements = nodes.filter(node => node.nodeType === Node.ELEMENT_NODE);\n\n    while (this.rects.length > elements.length) {\n      const rect = this.rects.pop();\n      rect.remove();\n    }\n    if (elements.length === 0) {\n      return;\n    }\n\n    while (this.rects.length < elements.length) {\n      this.rects.push(new OverlayRect(this.window.document, this.container));\n    }\n\n    const outerBox = {\n      top: Number.POSITIVE_INFINITY,\n      right: Number.NEGATIVE_INFINITY,\n      bottom: Number.NEGATIVE_INFINITY,\n      left: Number.POSITIVE_INFINITY,\n    };\n    elements.forEach((element, index) => {\n      const box = getNestedBoundingClientRect(element, this.window);\n      const dims = getElementDimensions(element);\n\n      outerBox.top = Math.min(outerBox.top, box.top - dims.marginTop);\n      outerBox.right = Math.max(\n        outerBox.right,\n        box.left + box.width + dims.marginRight,\n      );\n      outerBox.bottom = Math.max(\n        outerBox.bottom,\n        box.top + box.height + dims.marginBottom,\n      );\n      outerBox.left = Math.min(outerBox.left, box.left - dims.marginLeft);\n\n      const rect = this.rects[index];\n      rect.update(box, dims);\n    });\n\n    if (!name) {\n      name = elements[0].nodeName.toLowerCase();\n\n      const node = elements[0];\n      const hook: DevToolsHook =\n        node.ownerDocument.defaultView.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n      if (hook != null && hook.rendererInterfaces != null) {\n        let ownerName = null;\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const rendererInterface of hook.rendererInterfaces.values()) {\n          const id = rendererInterface.getFiberIDForNative(node, true);\n          if (id !== null) {\n            ownerName = rendererInterface.getDisplayNameForFiberID(id, true);\n            break;\n          }\n        }\n\n        if (ownerName) {\n          name += ' (in ' + ownerName + ')';\n        }\n      }\n    }\n\n    this.tip.updateText(\n      name,\n      outerBox.right - outerBox.left,\n      outerBox.bottom - outerBox.top,\n    );\n    const tipBounds = getNestedBoundingClientRect(\n      this.tipBoundsWindow.document.documentElement,\n      this.window,\n    );\n\n    this.tip.updatePosition(\n      {\n        top: outerBox.top,\n        left: outerBox.left,\n        height: outerBox.bottom - outerBox.top,\n        width: outerBox.right - outerBox.left,\n      },\n      {\n        top: tipBounds.top + this.tipBoundsWindow.scrollY,\n        left: tipBounds.left + this.tipBoundsWindow.scrollX,\n        height: this.tipBoundsWindow.innerHeight,\n        width: this.tipBoundsWindow.innerWidth,\n      },\n    );\n  }\n}\n\nfunction findTipPos(dims, bounds, tipSize) {\n  const tipHeight = Math.max(tipSize.height, 20);\n  const tipWidth = Math.max(tipSize.width, 60);\n  const margin = 5;\n\n  let top;\n  if (dims.top + dims.height + tipHeight <= bounds.top + bounds.height) {\n    if (dims.top + dims.height < bounds.top + 0) {\n      top = bounds.top + margin;\n    } else {\n      top = dims.top + dims.height + margin;\n    }\n  } else if (dims.top - tipHeight <= bounds.top + bounds.height) {\n    if (dims.top - tipHeight - margin < bounds.top + margin) {\n      top = bounds.top + margin;\n    } else {\n      top = dims.top - tipHeight - margin;\n    }\n  } else {\n    top = bounds.top + bounds.height - tipHeight - margin;\n  }\n\n  let left = dims.left + margin;\n  if (dims.left < bounds.left) {\n    left = bounds.left + margin;\n  }\n  if (dims.left + tipWidth > bounds.left + bounds.width) {\n    left = bounds.left + bounds.width - tipWidth - margin;\n  }\n\n  top += 'px';\n  left += 'px';\n  return {\n    style: {top, left},\n  };\n}\n\nfunction boxWrap(dims, what, node) {\n  assign(node.style, {\n    borderTopWidth: dims[what + 'Top'] + 'px',\n    borderLeftWidth: dims[what + 'Left'] + 'px',\n    borderRightWidth: dims[what + 'Right'] + 'px',\n    borderBottomWidth: dims[what + 'Bottom'] + 'px',\n    borderStyle: 'solid',\n  });\n}\n\nconst overlayStyles = {\n  background: 'rgba(120, 170, 210, 0.7)',\n  padding: 'rgba(77, 200, 0, 0.3)',\n  margin: 'rgba(255, 155, 0, 0.3)',\n  border: 'rgba(255, 200, 50, 0.3)',\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Overlay from './Overlay';\n\nconst SHOW_DURATION = 2000;\n\nlet timeoutID: TimeoutID | null = null;\nlet overlay: Overlay | null = null;\n\nexport function hideOverlay() {\n  timeoutID = null;\n\n  if (overlay !== null) {\n    overlay.remove();\n    overlay = null;\n  }\n}\n\nexport function showOverlay(\n  elements: Array<HTMLElement> | null,\n  componentName: string | null,\n  hideAfterTimeout: boolean,\n) {\n  // TODO (npm-packages) Detect RN and support it somehow\n  if (window.document == null) {\n    return;\n  }\n\n  if (timeoutID !== null) {\n    clearTimeout(timeoutID);\n  }\n\n  if (elements == null) {\n    return;\n  }\n\n  if (overlay === null) {\n    overlay = new Overlay();\n  }\n\n  overlay.inspect(elements, componentName);\n\n  if (hideAfterTimeout) {\n    timeoutID = setTimeout(hideOverlay, SHOW_DURATION);\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport memoize from 'memoize-one';\nimport throttle from 'lodash.throttle';\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport {hideOverlay, showOverlay} from './Highlighter';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\n\n// This plug-in provides in-page highlighting of the selected element.\n// It is used by the browser extension and the standalone DevTools shell (when connected to a browser).\n// It is not currently the mechanism used to highlight React Native views.\n// That is done by the React Native Inspector component.\n\nlet iframesListeningTo: Set<HTMLIFrameElement> = new Set();\n\nexport default function setupHighlighter(\n  bridge: BackendBridge,\n  agent: Agent,\n): void {\n  bridge.addListener(\n    'clearNativeElementHighlight',\n    clearNativeElementHighlight,\n  );\n  bridge.addListener('highlightNativeElement', highlightNativeElement);\n  bridge.addListener('shutdown', stopInspectingNative);\n  bridge.addListener('startInspectingNative', startInspectingNative);\n  bridge.addListener('stopInspectingNative', stopInspectingNative);\n\n  function startInspectingNative() {\n    registerListenersOnWindow(window);\n  }\n\n  function registerListenersOnWindow(window) {\n    // This plug-in may run in non-DOM environments (e.g. React Native).\n    if (window && typeof window.addEventListener === 'function') {\n      window.addEventListener('click', onClick, true);\n      window.addEventListener('mousedown', onMouseEvent, true);\n      window.addEventListener('mouseover', onMouseEvent, true);\n      window.addEventListener('mouseup', onMouseEvent, true);\n      window.addEventListener('pointerdown', onPointerDown, true);\n      window.addEventListener('pointerover', onPointerOver, true);\n      window.addEventListener('pointerup', onPointerUp, true);\n    }\n  }\n\n  function stopInspectingNative() {\n    hideOverlay();\n    removeListenersOnWindow(window);\n    iframesListeningTo.forEach(function(frame) {\n      try {\n        removeListenersOnWindow(frame.contentWindow);\n      } catch (error) {\n        // This can error when the iframe is on a cross-origin.\n      }\n    });\n    iframesListeningTo = new Set();\n  }\n\n  function removeListenersOnWindow(window) {\n    // This plug-in may run in non-DOM environments (e.g. React Native).\n    if (window && typeof window.removeEventListener === 'function') {\n      window.removeEventListener('click', onClick, true);\n      window.removeEventListener('mousedown', onMouseEvent, true);\n      window.removeEventListener('mouseover', onMouseEvent, true);\n      window.removeEventListener('mouseup', onMouseEvent, true);\n      window.removeEventListener('pointerdown', onPointerDown, true);\n      window.removeEventListener('pointerover', onPointerOver, true);\n      window.removeEventListener('pointerup', onPointerUp, true);\n    }\n  }\n\n  function clearNativeElementHighlight() {\n    hideOverlay();\n  }\n\n  function highlightNativeElement({\n    displayName,\n    hideAfterTimeout,\n    id,\n    openNativeElementsPanel,\n    rendererID,\n    scrollIntoView,\n  }: {\n    displayName: string | null,\n    hideAfterTimeout: boolean,\n    id: number,\n    openNativeElementsPanel: boolean,\n    rendererID: number,\n    scrollIntoView: boolean,\n    ...\n  }) {\n    const renderer = agent.rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    }\n\n    let nodes: ?Array<HTMLElement> = null;\n    if (renderer != null) {\n      nodes = ((renderer.findNativeNodesForFiberID(\n        id,\n      ): any): ?Array<HTMLElement>);\n    }\n\n    if (nodes != null && nodes[0] != null) {\n      const node = nodes[0];\n      if (scrollIntoView && typeof node.scrollIntoView === 'function') {\n        // If the node isn't visible show it before highlighting it.\n        // We may want to reconsider this; it might be a little disruptive.\n        // $FlowFixMe Flow only knows about 'start' | 'end'\n        node.scrollIntoView({block: 'nearest', inline: 'nearest'});\n      }\n\n      showOverlay(nodes, displayName, hideAfterTimeout);\n\n      if (openNativeElementsPanel) {\n        window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0 = node;\n        bridge.send('syncSelectionToNativeElementsPanel');\n      }\n    } else {\n      hideOverlay();\n    }\n  }\n\n  function onClick(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    stopInspectingNative();\n\n    bridge.send('stopInspectingNative', true);\n  }\n\n  function onMouseEvent(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  function onPointerDown(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    selectFiberForNode(((event.target: any): HTMLElement));\n  }\n\n  function onPointerOver(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    const target = ((event.target: any): HTMLElement);\n\n    if (target.tagName === 'IFRAME') {\n      const iframe: HTMLIFrameElement = (target: any);\n      try {\n        if (!iframesListeningTo.has(iframe)) {\n          const window = iframe.contentWindow;\n          registerListenersOnWindow(window);\n          iframesListeningTo.add(iframe);\n        }\n      } catch (error) {\n        // This can error when the iframe is on a cross-origin.\n      }\n    }\n\n    // Don't pass the name explicitly.\n    // It will be inferred from DOM tag and Fiber owner.\n    showOverlay([target], null, false);\n\n    selectFiberForNode(target);\n  }\n\n  function onPointerUp(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  const selectFiberForNode = throttle(\n    memoize((node: HTMLElement) => {\n      const id = agent.getIDForNode(node);\n      if (id !== null) {\n        bridge.send('selectFiber', id);\n      }\n    }),\n    200,\n    // Don't change the selection in the very first 200ms\n    // because those are usually unintentional as you lift the cursor.\n    {leading: false},\n  );\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Data} from './index';\nimport type {Rect} from '../utils';\nimport type {NativeType} from '../../types';\n\nconst OUTLINE_COLOR = '#f0f0f0';\n\n// Note these colors are in sync with DevTools Profiler chart colors.\nconst COLORS = [\n  '#37afa9',\n  '#63b19e',\n  '#80b393',\n  '#97b488',\n  '#abb67d',\n  '#beb771',\n  '#cfb965',\n  '#dfba57',\n  '#efbb49',\n  '#febc38',\n];\n\nlet canvas: HTMLCanvasElement | null = null;\n\nexport function draw(nodeToData: Map<NativeType, Data>): void {\n  if (canvas === null) {\n    initialize();\n  }\n\n  const canvasFlow: HTMLCanvasElement = ((canvas: any): HTMLCanvasElement);\n  canvasFlow.width = window.innerWidth;\n  canvasFlow.height = window.innerHeight;\n\n  const context = canvasFlow.getContext('2d');\n  context.clearRect(0, 0, canvasFlow.width, canvasFlow.height);\n\n  nodeToData.forEach(({count, rect}) => {\n    if (rect !== null) {\n      const colorIndex = Math.min(COLORS.length - 1, count - 1);\n      const color = COLORS[colorIndex];\n\n      drawBorder(context, rect, color);\n    }\n  });\n}\n\nfunction drawBorder(\n  context: CanvasRenderingContext2D,\n  rect: Rect,\n  color: string,\n): void {\n  const {height, left, top, width} = rect;\n\n  // outline\n  context.lineWidth = 1;\n  context.strokeStyle = OUTLINE_COLOR;\n\n  context.strokeRect(left - 1, top - 1, width + 2, height + 2);\n\n  // inset\n  context.lineWidth = 1;\n  context.strokeStyle = OUTLINE_COLOR;\n  context.strokeRect(left + 1, top + 1, width - 1, height - 1);\n  context.strokeStyle = color;\n\n  context.setLineDash([0]);\n\n  // border\n  context.lineWidth = 1;\n  context.strokeRect(left, top, width - 1, height - 1);\n\n  context.setLineDash([0]);\n}\n\nexport function destroy(): void {\n  if (canvas !== null) {\n    if (canvas.parentNode != null) {\n      canvas.parentNode.removeChild(canvas);\n    }\n    canvas = null;\n  }\n}\n\nfunction initialize(): void {\n  canvas = window.document.createElement('canvas');\n  canvas.style.cssText = `\n    xx-background-color: red;\n    xx-opacity: 0.5;\n    bottom: 0;\n    left: 0;\n    pointer-events: none;\n    position: fixed;\n    right: 0;\n    top: 0;\n    z-index: 1000000000;\n  `;\n\n  const root = window.document.documentElement;\n  root.insertBefore(canvas, root.firstChild);\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport {destroy as destroyCanvas, draw} from './canvas';\nimport {getNestedBoundingClientRect} from '../utils';\n\nimport type {NativeType} from '../../types';\nimport type {Rect} from '../utils';\n\n// How long the rect should be shown for?\nconst DISPLAY_DURATION = 250;\n\n// What's the longest we are willing to show the overlay for?\n// This can be important if we're getting a flurry of events (e.g. scroll update).\nconst MAX_DISPLAY_DURATION = 3000;\n\n// How long should a rect be considered valid for?\nconst REMEASUREMENT_AFTER_DURATION = 250;\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\nexport type Data = {|\n  count: number,\n  expirationTime: number,\n  lastMeasuredAt: number,\n  rect: Rect | null,\n|};\n\nconst nodeToData: Map<NativeType, Data> = new Map();\n\nlet agent: Agent = ((null: any): Agent);\nlet drawAnimationFrameID: AnimationFrameID | null = null;\nlet isEnabled: boolean = false;\nlet redrawTimeoutID: TimeoutID | null = null;\n\nexport function initialize(injectedAgent: Agent): void {\n  agent = injectedAgent;\n  agent.addListener('traceUpdates', traceUpdates);\n}\n\nexport function toggleEnabled(value: boolean): void {\n  isEnabled = value;\n\n  if (!isEnabled) {\n    nodeToData.clear();\n\n    if (drawAnimationFrameID !== null) {\n      cancelAnimationFrame(drawAnimationFrameID);\n      drawAnimationFrameID = null;\n    }\n\n    if (redrawTimeoutID !== null) {\n      clearTimeout(redrawTimeoutID);\n      redrawTimeoutID = null;\n    }\n\n    destroyCanvas();\n  }\n}\n\nfunction traceUpdates(nodes: Set<NativeType>): void {\n  if (!isEnabled) {\n    return;\n  }\n\n  nodes.forEach(node => {\n    const data = nodeToData.get(node);\n    const now = getCurrentTime();\n\n    let lastMeasuredAt = data != null ? data.lastMeasuredAt : 0;\n    let rect = data != null ? data.rect : null;\n    if (rect === null || lastMeasuredAt + REMEASUREMENT_AFTER_DURATION < now) {\n      lastMeasuredAt = now;\n      rect = measureNode(node);\n    }\n\n    nodeToData.set(node, {\n      count: data != null ? data.count + 1 : 1,\n      expirationTime:\n        data != null\n          ? Math.min(\n              now + MAX_DISPLAY_DURATION,\n              data.expirationTime + DISPLAY_DURATION,\n            )\n          : now + DISPLAY_DURATION,\n      lastMeasuredAt,\n      rect,\n    });\n  });\n\n  if (redrawTimeoutID !== null) {\n    clearTimeout(redrawTimeoutID);\n    redrawTimeoutID = null;\n  }\n\n  if (drawAnimationFrameID === null) {\n    drawAnimationFrameID = requestAnimationFrame(prepareToDraw);\n  }\n}\n\nfunction prepareToDraw(): void {\n  drawAnimationFrameID = null;\n  redrawTimeoutID = null;\n\n  const now = getCurrentTime();\n  let earliestExpiration = Number.MAX_VALUE;\n\n  // Remove any items that have already expired.\n  nodeToData.forEach((data, node) => {\n    if (data.expirationTime < now) {\n      nodeToData.delete(node);\n    } else {\n      earliestExpiration = Math.min(earliestExpiration, data.expirationTime);\n    }\n  });\n\n  draw(nodeToData);\n\n  if (earliestExpiration !== Number.MAX_VALUE) {\n    redrawTimeoutID = setTimeout(prepareToDraw, earliestExpiration - now);\n  }\n}\n\nfunction measureNode(node: Object): Rect | null {\n  if (!node || typeof node.getBoundingClientRect !== 'function') {\n    return null;\n  }\n\n  const currentWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n\n  return getNestedBoundingClientRect(node, currentWindow);\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport EventEmitter from './events';\n\nimport type {ComponentFilter, Wall} from './types';\nimport type {\n  InspectedElementPayload,\n  OwnersList,\n  ProfilingDataBackend,\n  RendererID,\n} from 'react-devtools-shared/src/backend/types';\nimport type {StyleAndLayout as StyleAndLayoutPayload} from 'react-devtools-shared/src/backend/NativeStyleEditor/types';\nimport type {BrowserTheme} from 'react-devtools-shared/src/devtools/views/DevTools';\n\nconst BATCH_DURATION = 100;\n\n// This message specifies the version of the DevTools protocol currently supported by the backend,\n// as well as the earliest NPM version (e.g. \"4.13.0\") that protocol is supported by on the frontend.\n// This enables an older frontend to display an upgrade message to users for a newer, unsupported backend.\nexport type BridgeProtocol = {|\n  // Version supported by the current frontend/backend.\n  version: number,\n\n  // NPM version range that also supports this version.\n  // Note that 'maxNpmVersion' is only set when the version is bumped.\n  minNpmVersion: string,\n  maxNpmVersion: string | null,\n|};\n\n// Bump protocol version whenever a backwards breaking change is made\n// in the messages sent between BackendBridge and FrontendBridge.\n// This mapping is embedded in both frontend and backend builds.\n//\n// The backend protocol will always be the latest entry in the BRIDGE_PROTOCOL array.\n//\n// When an older frontend connects to a newer backend,\n// the backend can send the minNpmVersion and the frontend can display an NPM upgrade prompt.\n//\n// When a newer frontend connects with an older protocol version,\n// the frontend can use the embedded minNpmVersion/maxNpmVersion values to display a downgrade prompt.\nexport const BRIDGE_PROTOCOL: Array<BridgeProtocol> = [\n  // This version technically never existed,\n  // but a backwards breaking change was added in 4.11,\n  // so the safest guess to downgrade the frontend would be to version 4.10.\n  {\n    version: 0,\n    minNpmVersion: '\"<4.11.0\"',\n    maxNpmVersion: '\"<4.11.0\"',\n  },\n  {\n    version: 1,\n    minNpmVersion: '4.13.0',\n    maxNpmVersion: null,\n  },\n];\n\nexport const currentBridgeProtocol: BridgeProtocol =\n  BRIDGE_PROTOCOL[BRIDGE_PROTOCOL.length - 1];\n\ntype ElementAndRendererID = {|id: number, rendererID: RendererID|};\n\ntype Message = {|\n  event: string,\n  payload: any,\n|};\n\ntype HighlightElementInDOM = {|\n  ...ElementAndRendererID,\n  displayName: string | null,\n  hideAfterTimeout: boolean,\n  openNativeElementsPanel: boolean,\n  scrollIntoView: boolean,\n|};\n\ntype OverrideValue = {|\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n  wasForwarded?: boolean,\n  value: any,\n|};\n\ntype OverrideHookState = {|\n  ...OverrideValue,\n  hookID: number,\n|};\n\ntype PathType = 'props' | 'hooks' | 'state' | 'context';\n\ntype DeletePath = {|\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  path: Array<string | number>,\n|};\n\ntype RenamePath = {|\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n|};\n\ntype OverrideValueAtPath = {|\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  path: Array<string | number>,\n  value: any,\n|};\n\ntype OverrideError = {|\n  ...ElementAndRendererID,\n  forceError: boolean,\n|};\n\ntype OverrideSuspense = {|\n  ...ElementAndRendererID,\n  forceFallback: boolean,\n|};\n\ntype CopyElementPathParams = {|\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n|};\n\ntype ViewAttributeSourceParams = {|\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n|};\n\ntype InspectElementParams = {|\n  ...ElementAndRendererID,\n  path: Array<number | string> | null,\n  requestID: number,\n|};\n\ntype StoreAsGlobalParams = {|\n  ...ElementAndRendererID,\n  count: number,\n  path: Array<string | number>,\n|};\n\ntype NativeStyleEditor_RenameAttributeParams = {|\n  ...ElementAndRendererID,\n  oldName: string,\n  newName: string,\n  value: string,\n|};\n\ntype NativeStyleEditor_SetValueParams = {|\n  ...ElementAndRendererID,\n  name: string,\n  value: string,\n|};\n\ntype UpdateConsolePatchSettingsParams = {|\n  appendComponentStack: boolean,\n  breakOnConsoleErrors: boolean,\n  showInlineWarningsAndErrors: boolean,\n  hideConsoleLogsInStrictMode: boolean,\n  browserTheme: BrowserTheme,\n|};\n\nexport type BackendEvents = {|\n  bridgeProtocol: [BridgeProtocol],\n  extensionBackendInitialized: [],\n  fastRefreshScheduled: [],\n  inspectedElement: [InspectedElementPayload],\n  isBackendStorageAPISupported: [boolean],\n  isSynchronousXHRSupported: [boolean],\n  operations: [Array<number>],\n  ownersList: [OwnersList],\n  overrideComponentFilters: [Array<ComponentFilter>],\n  profilingData: [ProfilingDataBackend],\n  profilingStatus: [boolean],\n  reloadAppForProfiling: [],\n  selectFiber: [number],\n  shutdown: [],\n  stopInspectingNative: [boolean],\n  syncSelectionFromNativeElementsPanel: [],\n  syncSelectionToNativeElementsPanel: [],\n  unsupportedRendererVersion: [RendererID],\n\n  // React Native style editor plug-in.\n  isNativeStyleEditorSupported: [\n    {|isSupported: boolean, validAttributes: ?$ReadOnlyArray<string>|},\n  ],\n  NativeStyleEditor_styleAndLayout: [StyleAndLayoutPayload],\n|};\n\ntype FrontendEvents = {|\n  clearErrorsAndWarnings: [{|rendererID: RendererID|}],\n  clearErrorsForFiberID: [ElementAndRendererID],\n  clearNativeElementHighlight: [],\n  clearWarningsForFiberID: [ElementAndRendererID],\n  copyElementPath: [CopyElementPathParams],\n  deletePath: [DeletePath],\n  getBridgeProtocol: [],\n  getOwnersList: [ElementAndRendererID],\n  getProfilingData: [{|rendererID: RendererID|}],\n  getProfilingStatus: [],\n  highlightNativeElement: [HighlightElementInDOM],\n  inspectElement: [InspectElementParams],\n  logElementToConsole: [ElementAndRendererID],\n  overrideError: [OverrideError],\n  overrideSuspense: [OverrideSuspense],\n  overrideValueAtPath: [OverrideValueAtPath],\n  profilingData: [ProfilingDataBackend],\n  reloadAndProfile: [boolean],\n  renamePath: [RenamePath],\n  selectFiber: [number],\n  setTraceUpdatesEnabled: [boolean],\n  shutdown: [],\n  startInspectingNative: [],\n  startProfiling: [boolean],\n  stopInspectingNative: [boolean],\n  stopProfiling: [],\n  storeAsGlobal: [StoreAsGlobalParams],\n  updateComponentFilters: [Array<ComponentFilter>],\n  updateConsolePatchSettings: [UpdateConsolePatchSettingsParams],\n  viewAttributeSource: [ViewAttributeSourceParams],\n  viewElementSource: [ElementAndRendererID],\n\n  // React Native style editor plug-in.\n  NativeStyleEditor_measure: [ElementAndRendererID],\n  NativeStyleEditor_renameAttribute: [NativeStyleEditor_RenameAttributeParams],\n  NativeStyleEditor_setValue: [NativeStyleEditor_SetValueParams],\n\n  // Temporarily support newer standalone front-ends sending commands to older embedded backends.\n  // We do this because React Native embeds the React DevTools backend,\n  // but cannot control which version of the frontend users use.\n  //\n  // Note that nothing in the newer backend actually listens to these events,\n  // but the new frontend still dispatches them (in case older backends are listening to them instead).\n  //\n  // Note that this approach does no support the combination of a newer backend with an older frontend.\n  // It would be more work to support both approaches (and not run handlers twice)\n  // so I chose to support the more likely/common scenario (and the one more difficult for an end user to \"fix\").\n  overrideContext: [OverrideValue],\n  overrideHookState: [OverrideHookState],\n  overrideProps: [OverrideValue],\n  overrideState: [OverrideValue],\n|};\n\nclass Bridge<\n  OutgoingEvents: Object,\n  IncomingEvents: Object,\n> extends EventEmitter<{|\n  ...IncomingEvents,\n  ...OutgoingEvents,\n|}> {\n  _isShutdown: boolean = false;\n  _messageQueue: Array<any> = [];\n  _timeoutID: TimeoutID | null = null;\n  _wall: Wall;\n  _wallUnlisten: Function | null = null;\n\n  constructor(wall: Wall) {\n    super();\n\n    this._wall = wall;\n\n    this._wallUnlisten =\n      wall.listen((message: Message) => {\n        (this: any).emit(message.event, message.payload);\n      }) || null;\n\n    // Temporarily support older standalone front-ends sending commands to newer embedded backends.\n    // We do this because React Native embeds the React DevTools backend,\n    // but cannot control which version of the frontend users use.\n    this.addListener('overrideValueAtPath', this.overrideValueAtPath);\n  }\n\n  // Listening directly to the wall isn't advised.\n  // It can be used to listen for legacy (v3) messages (since they use a different format).\n  get wall(): Wall {\n    return this._wall;\n  }\n\n  send<EventName: $Keys<OutgoingEvents>>(\n    event: EventName,\n    ...payload: $ElementType<OutgoingEvents, EventName>\n  ) {\n    if (this._isShutdown) {\n      console.warn(\n        `Cannot send message \"${event}\" through a Bridge that has been shutdown.`,\n      );\n      return;\n    }\n\n    // When we receive a message:\n    // - we add it to our queue of messages to be sent\n    // - if there hasn't been a message recently, we set a timer for 0 ms in\n    //   the future, allowing all messages created in the same tick to be sent\n    //   together\n    // - if there *has* been a message flushed in the last BATCH_DURATION ms\n    //   (or we're waiting for our setTimeout-0 to fire), then _timeoutID will\n    //   be set, and we'll simply add to the queue and wait for that\n    this._messageQueue.push(event, payload);\n    if (!this._timeoutID) {\n      this._timeoutID = setTimeout(this._flush, 0);\n    }\n  }\n\n  shutdown() {\n    if (this._isShutdown) {\n      console.warn('Bridge was already shutdown.');\n      return;\n    }\n\n    // Queue the shutdown outgoing message for subscribers.\n    this.send('shutdown');\n\n    // Mark this bridge as destroyed, i.e. disable its public API.\n    this._isShutdown = true;\n\n    // Disable the API inherited from EventEmitter that can add more listeners and send more messages.\n    // $FlowFixMe This property is not writable.\n    this.addListener = function() {};\n    // $FlowFixMe This property is not writable.\n    this.emit = function() {};\n    // NOTE: There's also EventEmitter API like `on` and `prependListener` that we didn't add to our Flow type of EventEmitter.\n\n    // Unsubscribe this bridge incoming message listeners to be sure, and so they don't have to do that.\n    this.removeAllListeners();\n\n    // Stop accepting and emitting incoming messages from the wall.\n    const wallUnlisten = this._wallUnlisten;\n    if (wallUnlisten) {\n      wallUnlisten();\n    }\n\n    // Synchronously flush all queued outgoing messages.\n    // At this step the subscribers' code may run in this call stack.\n    do {\n      this._flush();\n    } while (this._messageQueue.length);\n\n    // Make sure once again that there is no dangling timer.\n    if (this._timeoutID !== null) {\n      clearTimeout(this._timeoutID);\n      this._timeoutID = null;\n    }\n  }\n\n  _flush = () => {\n    // This method is used after the bridge is marked as destroyed in shutdown sequence,\n    // so we do not bail out if the bridge marked as destroyed.\n    // It is a private method that the bridge ensures is only called at the right times.\n\n    if (this._timeoutID !== null) {\n      clearTimeout(this._timeoutID);\n      this._timeoutID = null;\n    }\n\n    if (this._messageQueue.length) {\n      for (let i = 0; i < this._messageQueue.length; i += 2) {\n        this._wall.send(this._messageQueue[i], ...this._messageQueue[i + 1]);\n      }\n      this._messageQueue.length = 0;\n\n      // Check again for queued messages in BATCH_DURATION ms. This will keep\n      // flushing in a loop as long as messages continue to be added. Once no\n      // more are, the timer expires.\n      this._timeoutID = setTimeout(this._flush, BATCH_DURATION);\n    }\n  };\n\n  // Temporarily support older standalone backends by forwarding \"overrideValueAtPath\" commands\n  // to the older message types they may be listening to.\n  overrideValueAtPath = ({\n    id,\n    path,\n    rendererID,\n    type,\n    value,\n  }: OverrideValueAtPath) => {\n    switch (type) {\n      case 'context':\n        this.send('overrideContext', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'hooks':\n        this.send('overrideHookState', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'props':\n        this.send('overrideProps', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'state':\n        this.send('overrideState', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n    }\n  };\n}\n\nexport type BackendBridge = Bridge<BackendEvents, FrontendEvents>;\nexport type FrontendBridge = Bridge<FrontendEvents, BackendEvents>;\n\nexport default Bridge;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport EventEmitter from '../events';\nimport throttle from 'lodash.throttle';\nimport {\n  SESSION_STORAGE_LAST_SELECTION_KEY,\n  SESSION_STORAGE_RELOAD_AND_PROFILE_KEY,\n  SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n  __DEBUG__,\n} from '../constants';\nimport {\n  sessionStorageGetItem,\n  sessionStorageRemoveItem,\n  sessionStorageSetItem,\n} from 'react-devtools-shared/src/storage';\nimport setupHighlighter from './views/Highlighter';\nimport {\n  initialize as setupTraceUpdates,\n  toggleEnabled as setTraceUpdatesEnabled,\n} from './views/TraceUpdates';\nimport {patch as patchConsole} from './console';\nimport {currentBridgeProtocol} from 'react-devtools-shared/src/bridge';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {\n  InstanceAndStyle,\n  NativeType,\n  OwnersList,\n  PathFrame,\n  PathMatch,\n  RendererID,\n  RendererInterface,\n} from './types';\nimport type {ComponentFilter} from '../types';\nimport {isSynchronousXHRSupported} from './utils';\nimport type {BrowserTheme} from 'react-devtools-shared/src/devtools/views/DevTools';\n\nconst debug = (methodName, ...args) => {\n  if (__DEBUG__) {\n    console.log(\n      `%cAgent %c${methodName}`,\n      'color: purple; font-weight: bold;',\n      'font-weight: bold;',\n      ...args,\n    );\n  }\n};\n\ntype ElementAndRendererID = {|\n  id: number,\n  rendererID: number,\n|};\n\ntype StoreAsGlobalParams = {|\n  count: number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n|};\n\ntype CopyElementParams = {|\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n|};\n\ntype InspectElementParams = {|\n  id: number,\n  path: Array<string | number> | null,\n  rendererID: number,\n  requestID: number,\n|};\n\ntype OverrideHookParams = {|\n  id: number,\n  hookID: number,\n  path: Array<string | number>,\n  rendererID: number,\n  wasForwarded?: boolean,\n  value: any,\n|};\n\ntype SetInParams = {|\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n  wasForwarded?: boolean,\n  value: any,\n|};\n\ntype PathType = 'props' | 'hooks' | 'state' | 'context';\n\ntype DeletePathParams = {|\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n|};\n\ntype RenamePathParams = {|\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n  rendererID: number,\n|};\n\ntype OverrideValueAtPathParams = {|\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n  value: any,\n|};\n\ntype OverrideErrorParams = {|\n  id: number,\n  rendererID: number,\n  forceError: boolean,\n|};\n\ntype OverrideSuspenseParams = {|\n  id: number,\n  rendererID: number,\n  forceFallback: boolean,\n|};\n\ntype PersistedSelection = {|\n  rendererID: number,\n  path: Array<PathFrame>,\n|};\n\nexport default class Agent extends EventEmitter<{|\n  hideNativeHighlight: [],\n  showNativeHighlight: [NativeType],\n  shutdown: [],\n  traceUpdates: [Set<NativeType>],\n|}> {\n  _bridge: BackendBridge;\n  _isProfiling: boolean = false;\n  _recordChangeDescriptions: boolean = false;\n  _rendererInterfaces: {[key: RendererID]: RendererInterface, ...} = {};\n  _persistedSelection: PersistedSelection | null = null;\n  _persistedSelectionMatch: PathMatch | null = null;\n  _traceUpdatesEnabled: boolean = false;\n\n  constructor(bridge: BackendBridge) {\n    super();\n\n    if (\n      sessionStorageGetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY) === 'true'\n    ) {\n      this._recordChangeDescriptions =\n        sessionStorageGetItem(\n          SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n        ) === 'true';\n      this._isProfiling = true;\n\n      sessionStorageRemoveItem(SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY);\n      sessionStorageRemoveItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY);\n    }\n\n    const persistedSelectionString = sessionStorageGetItem(\n      SESSION_STORAGE_LAST_SELECTION_KEY,\n    );\n    if (persistedSelectionString != null) {\n      this._persistedSelection = JSON.parse(persistedSelectionString);\n    }\n\n    this._bridge = bridge;\n\n    bridge.addListener('clearErrorsAndWarnings', this.clearErrorsAndWarnings);\n    bridge.addListener('clearErrorsForFiberID', this.clearErrorsForFiberID);\n    bridge.addListener('clearWarningsForFiberID', this.clearWarningsForFiberID);\n    bridge.addListener('copyElementPath', this.copyElementPath);\n    bridge.addListener('deletePath', this.deletePath);\n    bridge.addListener('getBridgeProtocol', this.getBridgeProtocol);\n    bridge.addListener('getProfilingData', this.getProfilingData);\n    bridge.addListener('getProfilingStatus', this.getProfilingStatus);\n    bridge.addListener('getOwnersList', this.getOwnersList);\n    bridge.addListener('inspectElement', this.inspectElement);\n    bridge.addListener('logElementToConsole', this.logElementToConsole);\n    bridge.addListener('overrideError', this.overrideError);\n    bridge.addListener('overrideSuspense', this.overrideSuspense);\n    bridge.addListener('overrideValueAtPath', this.overrideValueAtPath);\n    bridge.addListener('reloadAndProfile', this.reloadAndProfile);\n    bridge.addListener('renamePath', this.renamePath);\n    bridge.addListener('setTraceUpdatesEnabled', this.setTraceUpdatesEnabled);\n    bridge.addListener('startProfiling', this.startProfiling);\n    bridge.addListener('stopProfiling', this.stopProfiling);\n    bridge.addListener('storeAsGlobal', this.storeAsGlobal);\n    bridge.addListener(\n      'syncSelectionFromNativeElementsPanel',\n      this.syncSelectionFromNativeElementsPanel,\n    );\n    bridge.addListener('shutdown', this.shutdown);\n    bridge.addListener(\n      'updateConsolePatchSettings',\n      this.updateConsolePatchSettings,\n    );\n    bridge.addListener('updateComponentFilters', this.updateComponentFilters);\n    bridge.addListener('viewAttributeSource', this.viewAttributeSource);\n    bridge.addListener('viewElementSource', this.viewElementSource);\n\n    // Temporarily support older standalone front-ends sending commands to newer embedded backends.\n    // We do this because React Native embeds the React DevTools backend,\n    // but cannot control which version of the frontend users use.\n    bridge.addListener('overrideContext', this.overrideContext);\n    bridge.addListener('overrideHookState', this.overrideHookState);\n    bridge.addListener('overrideProps', this.overrideProps);\n    bridge.addListener('overrideState', this.overrideState);\n\n    if (this._isProfiling) {\n      bridge.send('profilingStatus', true);\n    }\n\n    // Notify the frontend if the backend supports the Storage API (e.g. localStorage).\n    // If not, features like reload-and-profile will not work correctly and must be disabled.\n    let isBackendStorageAPISupported = false;\n    try {\n      localStorage.getItem('test');\n      isBackendStorageAPISupported = true;\n    } catch (error) {}\n    bridge.send('isBackendStorageAPISupported', isBackendStorageAPISupported);\n    bridge.send('isSynchronousXHRSupported', isSynchronousXHRSupported());\n\n    setupHighlighter(bridge, this);\n    setupTraceUpdates(this);\n  }\n\n  get rendererInterfaces(): {[key: RendererID]: RendererInterface, ...} {\n    return this._rendererInterfaces;\n  }\n\n  clearErrorsAndWarnings = ({rendererID}: {|rendererID: RendererID|}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearErrorsAndWarnings();\n    }\n  };\n\n  clearErrorsForFiberID = ({id, rendererID}: ElementAndRendererID) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearErrorsForFiberID(id);\n    }\n  };\n\n  clearWarningsForFiberID = ({id, rendererID}: ElementAndRendererID) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearWarningsForFiberID(id);\n    }\n  };\n\n  copyElementPath = ({id, path, rendererID}: CopyElementParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.copyElementPath(id, path);\n    }\n  };\n\n  deletePath = ({hookID, id, path, rendererID, type}: DeletePathParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.deletePath(type, id, hookID, path);\n    }\n  };\n\n  getInstanceAndStyle({\n    id,\n    rendererID,\n  }: ElementAndRendererID): InstanceAndStyle | null {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n      return null;\n    }\n    return renderer.getInstanceAndStyle(id);\n  }\n\n  getIDForNode(node: Object): number | null {\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n\n      try {\n        const id = renderer.getFiberIDForNative(node, true);\n        if (id !== null) {\n          return id;\n        }\n      } catch (error) {\n        // Some old React versions might throw if they can't find a match.\n        // If so we should ignore it...\n      }\n    }\n    return null;\n  }\n\n  getBridgeProtocol = () => {\n    this._bridge.send('bridgeProtocol', currentBridgeProtocol);\n  };\n\n  getProfilingData = ({rendererID}: {|rendererID: RendererID|}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    }\n\n    this._bridge.send('profilingData', renderer.getProfilingData());\n  };\n\n  getProfilingStatus = () => {\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  getOwnersList = ({id, rendererID}: ElementAndRendererID) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      const owners = renderer.getOwnersList(id);\n      this._bridge.send('ownersList', ({id, owners}: OwnersList));\n    }\n  };\n\n  inspectElement = ({\n    id,\n    path,\n    rendererID,\n    requestID,\n  }: InspectElementParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      this._bridge.send(\n        'inspectedElement',\n        renderer.inspectElement(requestID, id, path),\n      );\n\n      // When user selects an element, stop trying to restore the selection,\n      // and instead remember the current selection for the next reload.\n      if (\n        this._persistedSelectionMatch === null ||\n        this._persistedSelectionMatch.id !== id\n      ) {\n        this._persistedSelection = null;\n        this._persistedSelectionMatch = null;\n        renderer.setTrackedPath(null);\n        this._throttledPersistSelection(rendererID, id);\n      }\n\n      // TODO: If there was a way to change the selected DOM element\n      // in native Elements tab without forcing a switch to it, we'd do it here.\n      // For now, it doesn't seem like there is a way to do that:\n      // https://github.com/bvaughn/react-devtools-experimental/issues/102\n      // (Setting $0 doesn't work, and calling inspect() switches the tab.)\n    }\n  };\n\n  logElementToConsole = ({id, rendererID}: ElementAndRendererID) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.logElementToConsole(id);\n    }\n  };\n\n  overrideError = ({id, rendererID, forceError}: OverrideErrorParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideError(id, forceError);\n    }\n  };\n\n  overrideSuspense = ({\n    id,\n    rendererID,\n    forceFallback,\n  }: OverrideSuspenseParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideSuspense(id, forceFallback);\n    }\n  };\n\n  overrideValueAtPath = ({\n    hookID,\n    id,\n    path,\n    rendererID,\n    type,\n    value,\n  }: OverrideValueAtPathParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideValueAtPath(type, id, hookID, path, value);\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideContext = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }: SetInParams) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'context',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideHookState = ({\n    id,\n    hookID,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }: OverrideHookParams) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'hooks',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideProps = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }: SetInParams) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'props',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideState = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }: SetInParams) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'state',\n        value,\n      });\n    }\n  };\n\n  reloadAndProfile = (recordChangeDescriptions: boolean) => {\n    sessionStorageSetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY, 'true');\n    sessionStorageSetItem(\n      SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n      recordChangeDescriptions ? 'true' : 'false',\n    );\n\n    // This code path should only be hit if the shell has explicitly told the Store that it supports profiling.\n    // In that case, the shell must also listen for this specific message to know when it needs to reload the app.\n    // The agent can't do this in a way that is renderer agnostic.\n    this._bridge.send('reloadAppForProfiling');\n  };\n\n  renamePath = ({\n    hookID,\n    id,\n    newPath,\n    oldPath,\n    rendererID,\n    type,\n  }: RenamePathParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.renamePath(type, id, hookID, oldPath, newPath);\n    }\n  };\n\n  selectNode(target: Object): void {\n    const id = this.getIDForNode(target);\n    if (id !== null) {\n      this._bridge.send('selectFiber', id);\n    }\n  }\n\n  setRendererInterface(\n    rendererID: RendererID,\n    rendererInterface: RendererInterface,\n  ) {\n    this._rendererInterfaces[rendererID] = rendererInterface;\n\n    if (this._isProfiling) {\n      rendererInterface.startProfiling(this._recordChangeDescriptions);\n    }\n\n    rendererInterface.setTraceUpdatesEnabled(this._traceUpdatesEnabled);\n\n    // When the renderer is attached, we need to tell it whether\n    // we remember the previous selection that we'd like to restore.\n    // It'll start tracking mounts for matches to the last selection path.\n    const selection = this._persistedSelection;\n    if (selection !== null && selection.rendererID === rendererID) {\n      rendererInterface.setTrackedPath(selection.path);\n    }\n  }\n\n  setTraceUpdatesEnabled = (traceUpdatesEnabled: boolean) => {\n    this._traceUpdatesEnabled = traceUpdatesEnabled;\n\n    setTraceUpdatesEnabled(traceUpdatesEnabled);\n\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      renderer.setTraceUpdatesEnabled(traceUpdatesEnabled);\n    }\n  };\n\n  syncSelectionFromNativeElementsPanel = () => {\n    const target = window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0;\n    if (target == null) {\n      return;\n    }\n    this.selectNode(target);\n  };\n\n  shutdown = () => {\n    // Clean up the overlay if visible, and associated events.\n    this.emit('shutdown');\n  };\n\n  startProfiling = (recordChangeDescriptions: boolean) => {\n    this._recordChangeDescriptions = recordChangeDescriptions;\n    this._isProfiling = true;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      renderer.startProfiling(recordChangeDescriptions);\n    }\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  stopProfiling = () => {\n    this._isProfiling = false;\n    this._recordChangeDescriptions = false;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      renderer.stopProfiling();\n    }\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  storeAsGlobal = ({count, id, path, rendererID}: StoreAsGlobalParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.storeAsGlobal(id, path, count);\n    }\n  };\n\n  updateConsolePatchSettings = ({\n    appendComponentStack,\n    breakOnConsoleErrors,\n    showInlineWarningsAndErrors,\n    hideConsoleLogsInStrictMode,\n    browserTheme,\n  }: {|\n    appendComponentStack: boolean,\n    breakOnConsoleErrors: boolean,\n    showInlineWarningsAndErrors: boolean,\n    hideConsoleLogsInStrictMode: boolean,\n    browserTheme: BrowserTheme,\n  |}) => {\n    // If the frontend preference has change,\n    // or in the case of React Native- if the backend is just finding out the preference-\n    // then reinstall the console overrides.\n    // It's safe to call these methods multiple times, so we don't need to worry about that.\n    patchConsole({\n      appendComponentStack,\n      breakOnConsoleErrors,\n      showInlineWarningsAndErrors,\n      hideConsoleLogsInStrictMode,\n      browserTheme,\n    });\n  };\n\n  updateComponentFilters = (componentFilters: Array<ComponentFilter>) => {\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      renderer.updateComponentFilters(componentFilters);\n    }\n  };\n\n  viewAttributeSource = ({id, path, rendererID}: CopyElementParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.prepareViewAttributeSource(id, path);\n    }\n  };\n\n  viewElementSource = ({id, rendererID}: ElementAndRendererID) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.prepareViewElementSource(id);\n    }\n  };\n\n  onTraceUpdates = (nodes: Set<NativeType>) => {\n    this.emit('traceUpdates', nodes);\n  };\n\n  onFastRefreshScheduled = () => {\n    if (__DEBUG__) {\n      debug('onFastRefreshScheduled');\n    }\n\n    this._bridge.send('fastRefreshScheduled');\n  };\n\n  onHookOperations = (operations: Array<number>) => {\n    if (__DEBUG__) {\n      debug(\n        'onHookOperations',\n        `(${operations.length}) [${operations.join(', ')}]`,\n      );\n    }\n\n    // TODO:\n    // The chrome.runtime does not currently support transferables; it forces JSON serialization.\n    // See bug https://bugs.chromium.org/p/chromium/issues/detail?id=927134\n    //\n    // Regarding transferables, the postMessage doc states:\n    // If the ownership of an object is transferred, it becomes unusable (neutered)\n    // in the context it was sent from and becomes available only to the worker it was sent to.\n    //\n    // Even though Chrome is eventually JSON serializing the array buffer,\n    // using the transferable approach also sometimes causes it to throw:\n    //   DOMException: Failed to execute 'postMessage' on 'Window': ArrayBuffer at index 0 is already neutered.\n    //\n    // See bug https://github.com/bvaughn/react-devtools-experimental/issues/25\n    //\n    // The Store has a fallback in place that parses the message as JSON if the type isn't an array.\n    // For now the simplest fix seems to be to not transfer the array.\n    // This will negatively impact performance on Firefox so it's unfortunate,\n    // but until we're able to fix the Chrome error mentioned above, it seems necessary.\n    //\n    // this._bridge.send('operations', operations, [operations.buffer]);\n    this._bridge.send('operations', operations);\n\n    if (this._persistedSelection !== null) {\n      const rendererID = operations[0];\n      if (this._persistedSelection.rendererID === rendererID) {\n        // Check if we can select a deeper match for the persisted selection.\n        const renderer = this._rendererInterfaces[rendererID];\n        if (renderer == null) {\n          console.warn(`Invalid renderer id \"${rendererID}\"`);\n        } else {\n          const prevMatch = this._persistedSelectionMatch;\n          const nextMatch = renderer.getBestMatchForTrackedPath();\n          this._persistedSelectionMatch = nextMatch;\n          const prevMatchID = prevMatch !== null ? prevMatch.id : null;\n          const nextMatchID = nextMatch !== null ? nextMatch.id : null;\n          if (prevMatchID !== nextMatchID) {\n            if (nextMatchID !== null) {\n              // We moved forward, unlocking a deeper node.\n              this._bridge.send('selectFiber', nextMatchID);\n            }\n          }\n          if (nextMatch !== null && nextMatch.isFullMatch) {\n            // We've just unlocked the innermost selected node.\n            // There's no point tracking it further.\n            this._persistedSelection = null;\n            this._persistedSelectionMatch = null;\n            renderer.setTrackedPath(null);\n          }\n        }\n      }\n    }\n  };\n\n  onUnsupportedRenderer(rendererID: number) {\n    this._bridge.send('unsupportedRendererVersion', rendererID);\n  }\n\n  _throttledPersistSelection = throttle((rendererID: number, id: number) => {\n    // This is throttled, so both renderer and selected ID\n    // might not be available by the time we read them.\n    // This is why we need the defensive checks here.\n    const renderer = this._rendererInterfaces[rendererID];\n    const path = renderer != null ? renderer.getPathForElement(id) : null;\n    if (path !== null) {\n      sessionStorageSetItem(\n        SESSION_STORAGE_LAST_SELECTION_KEY,\n        JSON.stringify(({rendererID, path}: PersistedSelection)),\n      );\n    } else {\n      sessionStorageRemoveItem(SESSION_STORAGE_LAST_SELECTION_KEY);\n    }\n  }, 1000);\n}\n","/**\n * Install the hook on window, which is an event emitter.\n * Note because Chrome content scripts cannot directly modify the window object,\n * we are evaling this function by inserting a script tag.\n * That's why we have to inline the whole event emitter implementation,\n * the string format implementation, and part of the console implementation here.\n *\n * @flow\n */\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {ReactRenderer} from './backend/types';\nimport type {BrowserTheme} from 'react-devtools-shared/src/devtools/views/DevTools';\n\nimport {\n  patch as patchConsole,\n  registerRenderer as registerRendererWithConsole,\n} from './backend/console';\nimport {consoleManagedByDevToolsDuringStrictMode} from 'react-devtools-feature-flags';\n\nimport type {DevToolsHook} from 'react-devtools-shared/src/backend/types';\n\ndeclare var window: any;\n\nexport function installHook(target: any): DevToolsHook | null {\n  if (target.hasOwnProperty('__REACT_DEVTOOLS_GLOBAL_HOOK__')) {\n    return null;\n  }\n\n  function detectReactBuildType(renderer) {\n    try {\n      if (typeof renderer.version === 'string') {\n        // React DOM Fiber (16+)\n        if (renderer.bundleType > 0) {\n          // This is not a production build.\n          // We are currently only using 0 (PROD) and 1 (DEV)\n          // but might add 2 (PROFILE) in the future.\n          return 'development';\n        }\n\n        // React 16 uses flat bundles. If we report the bundle as production\n        // version, it means we also minified and envified it ourselves.\n        return 'production';\n        // Note: There is still a risk that the CommonJS entry point has not\n        // been envified or uglified. In this case the user would have *both*\n        // development and production bundle, but only the prod one would run.\n        // This would be really bad. We have a separate check for this because\n        // it happens *outside* of the renderer injection. See `checkDCE` below.\n      }\n\n      const toString = Function.prototype.toString;\n      if (renderer.Mount && renderer.Mount._renderNewRootComponent) {\n        // React DOM Stack\n        const renderRootCode = toString.call(\n          renderer.Mount._renderNewRootComponent,\n        );\n        // Filter out bad results (if that is even possible):\n        if (renderRootCode.indexOf('function') !== 0) {\n          // Hope for the best if we're not sure.\n          return 'production';\n        }\n        // Check for React DOM Stack < 15.1.0 in development.\n        // If it contains \"storedMeasure\" call, it's wrapped in ReactPerf (DEV only).\n        // This would be true even if it's minified, as method name still matches.\n        if (renderRootCode.indexOf('storedMeasure') !== -1) {\n          return 'development';\n        }\n        // For other versions (and configurations) it's not so easy.\n        // Let's quickly exclude proper production builds.\n        // If it contains a warning message, it's either a DEV build,\n        // or an PROD build without proper dead code elimination.\n        if (renderRootCode.indexOf('should be a pure function') !== -1) {\n          // Now how do we tell a DEV build from a bad PROD build?\n          // If we see NODE_ENV, we're going to assume this is a dev build\n          // because most likely it is referring to an empty shim.\n          if (renderRootCode.indexOf('NODE_ENV') !== -1) {\n            return 'development';\n          }\n          // If we see \"development\", we're dealing with an envified DEV build\n          // (such as the official React DEV UMD).\n          if (renderRootCode.indexOf('development') !== -1) {\n            return 'development';\n          }\n          // I've seen process.env.NODE_ENV !== 'production' being smartly\n          // replaced by `true` in DEV by Webpack. I don't know how that\n          // works but we can safely guard against it because `true` was\n          // never used in the function source since it was written.\n          if (renderRootCode.indexOf('true') !== -1) {\n            return 'development';\n          }\n          // By now either it is a production build that has not been minified,\n          // or (worse) this is a minified development build using non-standard\n          // environment (e.g. \"staging\"). We're going to look at whether\n          // the function argument name is mangled:\n          if (\n            // 0.13 to 15\n            renderRootCode.indexOf('nextElement') !== -1 ||\n            // 0.12\n            renderRootCode.indexOf('nextComponent') !== -1\n          ) {\n            // We can't be certain whether this is a development build or not,\n            // but it is definitely unminified.\n            return 'unminified';\n          } else {\n            // This is likely a minified development build.\n            return 'development';\n          }\n        }\n        // By now we know that it's envified and dead code elimination worked,\n        // but what if it's still not minified? (Is this even possible?)\n        // Let's check matches for the first argument name.\n        if (\n          // 0.13 to 15\n          renderRootCode.indexOf('nextElement') !== -1 ||\n          // 0.12\n          renderRootCode.indexOf('nextComponent') !== -1\n        ) {\n          return 'unminified';\n        }\n        // Seems like we're using the production version.\n        // However, the branch above is Stack-only so this is 15 or earlier.\n        return 'outdated';\n      }\n    } catch (err) {\n      // Weird environments may exist.\n      // This code needs a higher fault tolerance\n      // because it runs even with closed DevTools.\n      // TODO: should we catch errors in all injected code, and not just this part?\n    }\n    return 'production';\n  }\n\n  function checkDCE(fn: Function) {\n    // This runs for production versions of React.\n    // Needs to be super safe.\n    try {\n      const toString = Function.prototype.toString;\n      const code = toString.call(fn);\n\n      // This is a string embedded in the passed function under DEV-only\n      // condition. However the function executes only in PROD. Therefore,\n      // if we see it, dead code elimination did not work.\n      if (code.indexOf('^_^') > -1) {\n        // Remember to report during next injection.\n        hasDetectedBadDCE = true;\n\n        // Bonus: throw an exception hoping that it gets picked up by a reporting system.\n        // Not synchronously so that it doesn't break the calling code.\n        setTimeout(function() {\n          throw new Error(\n            'React is running in production mode, but dead code ' +\n              'elimination has not been applied. Read how to correctly ' +\n              'configure React for production: ' +\n              'https://reactjs.org/link/perf-use-production-build',\n          );\n        });\n      }\n    } catch (err) {}\n  }\n\n  // NOTE: KEEP IN SYNC with src/backend/utils.js\n  function format(\n    maybeMessage: any,\n    ...inputArgs: $ReadOnlyArray<any>\n  ): string {\n    if (consoleManagedByDevToolsDuringStrictMode) {\n      const args = inputArgs.slice();\n\n      // Symbols cannot be concatenated with Strings.\n      let formatted: string =\n        typeof maybeMessage === 'symbol'\n          ? maybeMessage.toString()\n          : '' + maybeMessage;\n\n      // If the first argument is a string, check for substitutions.\n      if (typeof maybeMessage === 'string') {\n        if (args.length) {\n          const REGEXP = /(%?)(%([jds]))/g;\n\n          formatted = formatted.replace(REGEXP, (match, escaped, ptn, flag) => {\n            let arg = args.shift();\n            switch (flag) {\n              case 's':\n                arg += '';\n                break;\n              case 'd':\n              case 'i':\n                arg = parseInt(arg, 10).toString();\n                break;\n              case 'f':\n                arg = parseFloat(arg).toString();\n                break;\n            }\n            if (!escaped) {\n              return arg;\n            }\n            args.unshift(arg);\n            return match;\n          });\n        }\n      }\n\n      // Arguments that remain after formatting.\n      if (args.length) {\n        for (let i = 0; i < args.length; i++) {\n          const arg = args[i];\n\n          // Symbols cannot be concatenated with Strings.\n          formatted += ' ' + (typeof arg === 'symbol' ? arg.toString() : arg);\n        }\n      }\n\n      // Update escaped %% values.\n      formatted = formatted.replace(/%{2,2}/g, '%');\n\n      return '' + formatted;\n    }\n\n    return '';\n  }\n\n  // NOTE: KEEP IN SYNC with src/backend/console.js:patch\n  function patchConsoleForInitialRenderInExtension(\n    renderer: ReactRenderer,\n    {\n      hideConsoleLogsInStrictMode,\n      browserTheme,\n    }: {hideConsoleLogsInStrictMode: boolean, browserTheme: BrowserTheme},\n  ): void {\n    if (consoleManagedByDevToolsDuringStrictMode) {\n      const overrideConsoleMethods = ['error', 'trace', 'warn', 'log'];\n\n      if (__EXTENSION__) {\n        const targetConsole = console;\n\n        const originalConsoleMethods = {};\n\n        overrideConsoleMethods.forEach(method => {\n          try {\n            const originalMethod = (originalConsoleMethods[\n              method\n            ] = targetConsole[method].__REACT_DEVTOOLS_ORIGINAL_METHOD__\n              ? targetConsole[method].__REACT_DEVTOOLS_ORIGINAL_METHOD__\n              : targetConsole[method]);\n\n            const overrideMethod = (...args) => {\n              let isInStrictMode = false;\n\n              // Search for the first renderer that has a current Fiber.\n              // We don't handle the edge case of stacks for more than one (e.g. interleaved renderers?)\n              const {getCurrentFiber, getIsStrictMode} = renderer;\n              if (typeof getCurrentFiber !== 'function') {\n                return;\n              }\n\n              const current: ?Fiber = getCurrentFiber();\n              if (current != null) {\n                try {\n                  if (\n                    typeof getIsStrictMode === 'function' &&\n                    getIsStrictMode()\n                  ) {\n                    isInStrictMode = true;\n                  }\n                } catch (error) {\n                  // Don't let a DevTools or React internal error interfere with logging.\n                }\n              }\n\n              if (isInStrictMode) {\n                if (!hideConsoleLogsInStrictMode) {\n                  // Dim the text color of the double logs if we're not\n                  // hiding them.\n                  let color;\n                  switch (method) {\n                    case 'warn':\n                      color =\n                        browserTheme === 'light'\n                          ? process.env.LIGHT_MODE_DIMMED_WARNING_COLOR\n                          : process.env.DARK_MODE_DIMMED_WARNING_COLOR;\n                      break;\n                    case 'error':\n                      color =\n                        browserTheme === 'light'\n                          ? process.env.LIGHT_MODE_DIMMED_ERROR_COLOR\n                          : process.env.DARK_MODE_DIMMED_ERROR_COLOR;\n                      break;\n                    case 'log':\n                    default:\n                      color =\n                        browserTheme === 'light'\n                          ? process.env.LIGHT_MODE_DIMMED_LOG_COLOR\n                          : process.env.DARK_MODE_DIMMED_LOG_COLOR;\n                      break;\n                  }\n\n                  if (color) {\n                    originalMethod(`%c${format(...args)}`, `color: ${color}`);\n                  } else {\n                    throw Error('Console color is not defined');\n                  }\n                }\n              } else {\n                originalMethod(...args);\n              }\n            };\n\n            overrideMethod.__REACT_DEVTOOLS_ORIGINAL_METHOD__ = originalMethod;\n            originalMethod.__REACT_DEVTOOLS_OVERRIDE_METHOD__ = overrideMethod;\n\n            // $FlowFixMe property error|warn is not writable.\n            targetConsole[method] = overrideMethod;\n          } catch (error) {}\n        });\n      }\n    }\n  }\n\n  let uidCounter = 0;\n\n  function inject(renderer) {\n    const id = ++uidCounter;\n    renderers.set(id, renderer);\n\n    const reactBuildType = hasDetectedBadDCE\n      ? 'deadcode'\n      : detectReactBuildType(renderer);\n\n    // Patching the console enables DevTools to do a few useful things:\n    // * Append component stacks to warnings and error messages\n    // * Disabling or marking logs during a double render in Strict Mode\n    // * Disable logging during re-renders to inspect hooks (see inspectHooksOfFiber)\n    //\n    // For React Native, we intentionally patch early (during injection).\n    // This provides React Native developers with components stacks even if they don't run DevTools.\n    //\n    // This won't work for DOM though, since this entire file is eval'ed and inserted as a script tag.\n    // In that case, we'll only patch parts of the console that are needed during the first render\n    // and patch everything else later (when the frontend attaches).\n    //\n    // Don't patch in test environments because we don't want to interfere with Jest's own console overrides.\n    //\n    // Note that because this function is inlined, this conditional check must only use static booleans.\n    // Otherwise the extension will throw with an undefined error.\n    // (See comments in the try/catch below for more context on inlining.)\n    if (!__TEST__) {\n      try {\n        const appendComponentStack =\n          window.__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__ !== false;\n        const breakOnConsoleErrors =\n          window.__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__ === true;\n        const showInlineWarningsAndErrors =\n          window.__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__ !== false;\n        const hideConsoleLogsInStrictMode =\n          window.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__ === true;\n        const browserTheme = window.__REACT_DEVTOOLS_BROWSER_THEME__;\n\n        // The installHook() function is injected by being stringified in the browser,\n        // so imports outside of this function do not get included.\n        //\n        // Normally we could check \"typeof patchConsole === 'function'\",\n        // but Webpack wraps imports with an object (e.g. _backend_console__WEBPACK_IMPORTED_MODULE_0__)\n        // and the object itself will be undefined as well for the reasons mentioned above,\n        // so we use try/catch instead.\n        if (!__EXTENSION__) {\n          registerRendererWithConsole(renderer);\n          patchConsole({\n            appendComponentStack,\n            breakOnConsoleErrors,\n            showInlineWarningsAndErrors,\n            hideConsoleLogsInStrictMode,\n            browserTheme,\n          });\n        } else {\n          if (consoleManagedByDevToolsDuringStrictMode) {\n            patchConsoleForInitialRenderInExtension(renderer, {\n              hideConsoleLogsInStrictMode,\n              browserTheme,\n            });\n          }\n        }\n      } catch (error) {}\n    }\n\n    // If we have just reloaded to profile, we need to inject the renderer interface before the app loads.\n    // Otherwise the renderer won't yet exist and we can skip this step.\n    const attach = target.__REACT_DEVTOOLS_ATTACH__;\n    if (typeof attach === 'function') {\n      const rendererInterface = attach(hook, id, renderer, target);\n      hook.rendererInterfaces.set(id, rendererInterface);\n    }\n\n    hook.emit('renderer', {\n      id,\n      renderer,\n      reactBuildType,\n    });\n\n    return id;\n  }\n\n  let hasDetectedBadDCE = false;\n\n  function sub(event, fn) {\n    hook.on(event, fn);\n    return () => hook.off(event, fn);\n  }\n\n  function on(event, fn) {\n    if (!listeners[event]) {\n      listeners[event] = [];\n    }\n    listeners[event].push(fn);\n  }\n\n  function off(event, fn) {\n    if (!listeners[event]) {\n      return;\n    }\n    const index = listeners[event].indexOf(fn);\n    if (index !== -1) {\n      listeners[event].splice(index, 1);\n    }\n    if (!listeners[event].length) {\n      delete listeners[event];\n    }\n  }\n\n  function emit(event, data) {\n    if (listeners[event]) {\n      listeners[event].map(fn => fn(data));\n    }\n  }\n\n  function getFiberRoots(rendererID) {\n    const roots = fiberRoots;\n    if (!roots[rendererID]) {\n      roots[rendererID] = new Set();\n    }\n    return roots[rendererID];\n  }\n\n  function onCommitFiberUnmount(rendererID, fiber) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handleCommitFiberUnmount(fiber);\n    }\n  }\n\n  function onCommitFiberRoot(rendererID, root, priorityLevel) {\n    const mountedRoots = hook.getFiberRoots(rendererID);\n    const current = root.current;\n    const isKnownRoot = mountedRoots.has(root);\n    const isUnmounting =\n      current.memoizedState == null || current.memoizedState.element == null;\n\n    // Keep track of mounted roots so we can hydrate when DevTools connect.\n    if (!isKnownRoot && !isUnmounting) {\n      mountedRoots.add(root);\n    } else if (isKnownRoot && isUnmounting) {\n      mountedRoots.delete(root);\n    }\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handleCommitFiberRoot(root, priorityLevel);\n    }\n  }\n\n  function onPostCommitFiberRoot(rendererID, root) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handlePostCommitFiberRoot(root);\n    }\n  }\n\n  // TODO: More meaningful names for \"rendererInterfaces\" and \"renderers\".\n  const fiberRoots = {};\n  const rendererInterfaces = new Map();\n  const listeners = {};\n  const renderers = new Map();\n\n  const hook: DevToolsHook = {\n    rendererInterfaces,\n    listeners,\n\n    // Fast Refresh for web relies on this.\n    renderers,\n\n    emit,\n    getFiberRoots,\n    inject,\n    on,\n    off,\n    sub,\n\n    // This is a legacy flag.\n    // React v16 checks the hook for this to ensure DevTools is new enough.\n    supportsFiber: true,\n\n    // React calls these methods.\n    checkDCE,\n    onCommitFiberUnmount,\n    onCommitFiberRoot,\n    onPostCommitFiberRoot,\n  };\n\n  Object.defineProperty(\n    target,\n    '__REACT_DEVTOOLS_GLOBAL_HOOK__',\n    ({\n      // This property needs to be configurable for the test environment,\n      // else we won't be able to delete and recreate it between tests.\n      configurable: __DEV__,\n      enumerable: false,\n      get() {\n        return hook;\n      },\n    }: Object),\n  );\n\n  return hook;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {InternalInstance} from './renderer';\n\nexport function decorate(object: Object, attr: string, fn: Function): Function {\n  const old = object[attr];\n  object[attr] = function(instance: InternalInstance) {\n    return fn.call(this, old, arguments);\n  };\n  return old;\n}\n\nexport function decorateMany(\n  source: Object,\n  fns: {[attr: string]: Function, ...},\n): Object {\n  const olds = {};\n  for (const name in fns) {\n    olds[name] = decorate(source, name, fns[name]);\n  }\n  return olds;\n}\n\nexport function restoreMany(source: Object, olds: Object): void {\n  for (const name in olds) {\n    source[name] = olds[name];\n  }\n}\n\nexport function forceUpdate(instance: InternalInstance): void {\n  if (typeof instance.forceUpdate === 'function') {\n    instance.forceUpdate();\n  } else if (\n    instance.updater != null &&\n    typeof instance.updater.enqueueForceUpdate === 'function'\n  ) {\n    instance.updater.enqueueForceUpdate(this, () => {}, 'forceUpdate');\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  ElementTypeClass,\n  ElementTypeFunction,\n  ElementTypeRoot,\n  ElementTypeHostComponent,\n  ElementTypeOtherOrUnknown,\n} from 'react-devtools-shared/src/types';\nimport {getUID, utfEncodeString, printOperationsArray} from '../../utils';\nimport {\n  cleanForBridge,\n  copyToClipboard,\n  copyWithDelete,\n  copyWithRename,\n  copyWithSet,\n} from '../utils';\nimport {\n  deletePathInObject,\n  getDisplayName,\n  getInObject,\n  renamePathInObject,\n  setInObject,\n} from 'react-devtools-shared/src/utils';\nimport {\n  __DEBUG__,\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REORDER_CHILDREN,\n} from '../../constants';\nimport {decorateMany, forceUpdate, restoreMany} from './utils';\n\nimport type {\n  DevToolsHook,\n  GetFiberIDForNative,\n  InspectedElementPayload,\n  InstanceAndStyle,\n  NativeType,\n  PathFrame,\n  PathMatch,\n  RendererInterface,\n} from '../types';\nimport type {\n  ComponentFilter,\n  ElementType,\n} from 'react-devtools-shared/src/types';\nimport type {InspectedElement, SerializedElement} from '../types';\n\nexport type InternalInstance = Object;\ntype LegacyRenderer = Object;\n\nfunction getData(internalInstance: InternalInstance) {\n  let displayName = null;\n  let key = null;\n\n  // != used deliberately here to catch undefined and null\n  if (internalInstance._currentElement != null) {\n    if (internalInstance._currentElement.key) {\n      key = '' + internalInstance._currentElement.key;\n    }\n\n    const elementType = internalInstance._currentElement.type;\n    if (typeof elementType === 'string') {\n      displayName = elementType;\n    } else if (typeof elementType === 'function') {\n      displayName = getDisplayName(elementType);\n    }\n  }\n\n  return {\n    displayName,\n    key,\n  };\n}\n\nfunction getElementType(internalInstance: InternalInstance): ElementType {\n  // != used deliberately here to catch undefined and null\n  if (internalInstance._currentElement != null) {\n    const elementType = internalInstance._currentElement.type;\n    if (typeof elementType === 'function') {\n      const publicInstance = internalInstance.getPublicInstance();\n      if (publicInstance !== null) {\n        return ElementTypeClass;\n      } else {\n        return ElementTypeFunction;\n      }\n    } else if (typeof elementType === 'string') {\n      return ElementTypeHostComponent;\n    }\n  }\n  return ElementTypeOtherOrUnknown;\n}\n\nfunction getChildren(internalInstance: Object): Array<any> {\n  const children = [];\n\n  // If the parent is a native node without rendered children, but with\n  // multiple string children, then the `element` that gets passed in here is\n  // a plain value -- a string or number.\n  if (typeof internalInstance !== 'object') {\n    // No children\n  } else if (\n    internalInstance._currentElement === null ||\n    internalInstance._currentElement === false\n  ) {\n    // No children\n  } else if (internalInstance._renderedComponent) {\n    const child = internalInstance._renderedComponent;\n    if (getElementType(child) !== ElementTypeOtherOrUnknown) {\n      children.push(child);\n    }\n  } else if (internalInstance._renderedChildren) {\n    const renderedChildren = internalInstance._renderedChildren;\n    for (const name in renderedChildren) {\n      const child = renderedChildren[name];\n      if (getElementType(child) !== ElementTypeOtherOrUnknown) {\n        children.push(child);\n      }\n    }\n  }\n  // Note: we skip the case where children are just strings or numbers\n  // because the new DevTools skips over host text nodes anyway.\n  return children;\n}\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: LegacyRenderer,\n  global: Object,\n): RendererInterface {\n  const idToInternalInstanceMap: Map<number, InternalInstance> = new Map();\n  const internalInstanceToIDMap: WeakMap<\n    InternalInstance,\n    number,\n  > = new WeakMap();\n  const internalInstanceToRootIDMap: WeakMap<\n    InternalInstance,\n    number,\n  > = new WeakMap();\n\n  let getInternalIDForNative: GetFiberIDForNative = ((null: any): GetFiberIDForNative);\n  let findNativeNodeForInternalID: (id: number) => ?NativeType;\n\n  if (renderer.ComponentTree) {\n    getInternalIDForNative = (node, findNearestUnfilteredAncestor) => {\n      const internalInstance = renderer.ComponentTree.getClosestInstanceFromNode(\n        node,\n      );\n      return internalInstanceToIDMap.get(internalInstance) || null;\n    };\n    findNativeNodeForInternalID = (id: number) => {\n      const internalInstance = idToInternalInstanceMap.get(id);\n      return renderer.ComponentTree.getNodeFromInstance(internalInstance);\n    };\n  } else if (renderer.Mount.getID && renderer.Mount.getNode) {\n    getInternalIDForNative = (node, findNearestUnfilteredAncestor) => {\n      // Not implemented.\n      return null;\n    };\n    findNativeNodeForInternalID = (id: number) => {\n      // Not implemented.\n      return null;\n    };\n  }\n\n  function getDisplayNameForFiberID(id: number): string | null {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    return internalInstance ? getData(internalInstance).displayName : null;\n  }\n\n  function getID(internalInstance: InternalInstance): number {\n    if (typeof internalInstance !== 'object' || internalInstance === null) {\n      throw new Error('Invalid internal instance: ' + internalInstance);\n    }\n    if (!internalInstanceToIDMap.has(internalInstance)) {\n      const id = getUID();\n      internalInstanceToIDMap.set(internalInstance, id);\n      idToInternalInstanceMap.set(id, internalInstance);\n    }\n    return ((internalInstanceToIDMap.get(internalInstance): any): number);\n  }\n\n  function areEqualArrays(a, b) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // This is shared mutable state that lets us keep track of where we are.\n  let parentIDStack = [];\n\n  let oldReconcilerMethods = null;\n  if (renderer.Reconciler) {\n    // React 15\n    oldReconcilerMethods = decorateMany(renderer.Reconciler, {\n      mountComponent(fn, args) {\n        const internalInstance = args[0];\n        const hostContainerInfo = args[3];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          return fn.apply(this, args);\n        }\n        if (hostContainerInfo._topLevelWrapper === undefined) {\n          // SSR\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        // Push the operation.\n        const parentID =\n          parentIDStack.length > 0\n            ? parentIDStack[parentIDStack.length - 1]\n            : 0;\n        recordMount(internalInstance, id, parentID);\n        parentIDStack.push(id);\n\n        // Remember the root.\n        internalInstanceToRootIDMap.set(\n          internalInstance,\n          getID(hostContainerInfo._topLevelWrapper),\n        );\n\n        try {\n          const result = fn.apply(this, args);\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      performUpdateIfNecessary(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n\n        const prevChildren = getChildren(internalInstance);\n        try {\n          const result = fn.apply(this, args);\n\n          const nextChildren = getChildren(internalInstance);\n          if (!areEqualArrays(prevChildren, nextChildren)) {\n            // Push the operation\n            recordReorder(internalInstance, id, nextChildren);\n          }\n\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      receiveComponent(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n\n        const prevChildren = getChildren(internalInstance);\n        try {\n          const result = fn.apply(this, args);\n\n          const nextChildren = getChildren(internalInstance);\n          if (!areEqualArrays(prevChildren, nextChildren)) {\n            // Push the operation\n            recordReorder(internalInstance, id, nextChildren);\n          }\n\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      unmountComponent(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n        try {\n          const result = fn.apply(this, args);\n          parentIDStack.pop();\n\n          // Push the operation.\n          recordUnmount(internalInstance, id);\n\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n    });\n  }\n\n  function cleanup() {\n    if (oldReconcilerMethods !== null) {\n      if (renderer.Component) {\n        restoreMany(renderer.Component.Mixin, oldReconcilerMethods);\n      } else {\n        restoreMany(renderer.Reconciler, oldReconcilerMethods);\n      }\n    }\n    oldReconcilerMethods = null;\n  }\n\n  function recordMount(\n    internalInstance: InternalInstance,\n    id: number,\n    parentID: number,\n  ) {\n    const isRoot = parentID === 0;\n\n    if (__DEBUG__) {\n      console.log(\n        '%crecordMount()',\n        'color: green; font-weight: bold;',\n        id,\n        getData(internalInstance).displayName,\n      );\n    }\n\n    if (isRoot) {\n      // TODO Is this right? For all versions?\n      const hasOwnerMetadata =\n        internalInstance._currentElement != null &&\n        internalInstance._currentElement._owner != null;\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(ElementTypeRoot);\n      pushOperation(0); // isProfilingSupported?\n      pushOperation(hasOwnerMetadata ? 1 : 0);\n    } else {\n      const type = getElementType(internalInstance);\n      const {displayName, key} = getData(internalInstance);\n\n      const ownerID =\n        internalInstance._currentElement != null &&\n        internalInstance._currentElement._owner != null\n          ? getID(internalInstance._currentElement._owner)\n          : 0;\n\n      const displayNameStringID = getStringID(displayName);\n      const keyStringID = getStringID(key);\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(type);\n      pushOperation(parentID);\n      pushOperation(ownerID);\n      pushOperation(displayNameStringID);\n      pushOperation(keyStringID);\n    }\n  }\n\n  function recordReorder(\n    internalInstance: InternalInstance,\n    id: number,\n    nextChildren: Array<InternalInstance>,\n  ) {\n    pushOperation(TREE_OPERATION_REORDER_CHILDREN);\n    pushOperation(id);\n    const nextChildIDs = nextChildren.map(getID);\n    pushOperation(nextChildIDs.length);\n    for (let i = 0; i < nextChildIDs.length; i++) {\n      pushOperation(nextChildIDs[i]);\n    }\n  }\n\n  function recordUnmount(internalInstance: InternalInstance, id: number) {\n    pendingUnmountedIDs.push(id);\n    idToInternalInstanceMap.delete(id);\n  }\n\n  function crawlAndRecordInitialMounts(\n    id: number,\n    parentID: number,\n    rootID: number,\n  ) {\n    if (__DEBUG__) {\n      console.group('crawlAndRecordInitialMounts() id:', id);\n    }\n\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      internalInstanceToRootIDMap.set(internalInstance, rootID);\n      recordMount(internalInstance, id, parentID);\n      getChildren(internalInstance).forEach(child =>\n        crawlAndRecordInitialMounts(getID(child), id, rootID),\n      );\n    }\n\n    if (__DEBUG__) {\n      console.groupEnd();\n    }\n  }\n\n  function flushInitialOperations() {\n    // Crawl roots though and register any nodes that mounted before we were injected.\n\n    const roots =\n      renderer.Mount._instancesByReactRootID ||\n      renderer.Mount._instancesByContainerID;\n\n    for (const key in roots) {\n      const internalInstance = roots[key];\n      const id = getID(internalInstance);\n      crawlAndRecordInitialMounts(id, 0, id);\n      flushPendingEvents(id);\n    }\n  }\n\n  const pendingOperations: Array<number> = [];\n  const pendingStringTable: Map<string, number> = new Map();\n  let pendingUnmountedIDs: Array<number> = [];\n  let pendingStringTableLength: number = 0;\n  let pendingUnmountedRootID: number | null = null;\n\n  function flushPendingEvents(rootID: number) {\n    if (\n      pendingOperations.length === 0 &&\n      pendingUnmountedIDs.length === 0 &&\n      pendingUnmountedRootID === null\n    ) {\n      return;\n    }\n\n    const numUnmountIDs =\n      pendingUnmountedIDs.length + (pendingUnmountedRootID === null ? 0 : 1);\n\n    const operations = new Array(\n      // Identify which renderer this update is coming from.\n      2 + // [rendererID, rootFiberID]\n      // How big is the string table?\n      1 + // [stringTableLength]\n        // Then goes the actual string table.\n        pendingStringTableLength +\n        // All unmounts are batched in a single message.\n        // [TREE_OPERATION_REMOVE, removedIDLength, ...ids]\n        (numUnmountIDs > 0 ? 2 + numUnmountIDs : 0) +\n        // Mount operations\n        pendingOperations.length,\n    );\n\n    // Identify which renderer this update is coming from.\n    // This enables roots to be mapped to renderers,\n    // Which in turn enables fiber properations, states, and hooks to be inspected.\n    let i = 0;\n    operations[i++] = rendererID;\n    operations[i++] = rootID;\n\n    // Now fill in the string table.\n    // [stringTableLength, str1Length, ...str1, str2Length, ...str2, ...]\n    operations[i++] = pendingStringTableLength;\n    pendingStringTable.forEach((value, key) => {\n      operations[i++] = key.length;\n      const encodedKey = utfEncodeString(key);\n      for (let j = 0; j < encodedKey.length; j++) {\n        operations[i + j] = encodedKey[j];\n      }\n      i += key.length;\n    });\n\n    if (numUnmountIDs > 0) {\n      // All unmounts except roots are batched in a single message.\n      operations[i++] = TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountIDs;\n      // Fill in the unmounts\n      for (let j = 0; j < pendingUnmountedIDs.length; j++) {\n        operations[i++] = pendingUnmountedIDs[j];\n      }\n      // The root ID should always be unmounted last.\n      if (pendingUnmountedRootID !== null) {\n        operations[i] = pendingUnmountedRootID;\n        i++;\n      }\n    }\n\n    // Fill in the rest of the operations.\n    for (let j = 0; j < pendingOperations.length; j++) {\n      operations[i + j] = pendingOperations[j];\n    }\n    i += pendingOperations.length;\n\n    if (__DEBUG__) {\n      printOperationsArray(operations);\n    }\n\n    // If we've already connected to the frontend, just pass the operations through.\n    hook.emit('operations', operations);\n\n    pendingOperations.length = 0;\n    pendingUnmountedIDs = [];\n    pendingUnmountedRootID = null;\n    pendingStringTable.clear();\n    pendingStringTableLength = 0;\n  }\n\n  function pushOperation(op: number): void {\n    if (__DEV__) {\n      if (!Number.isInteger(op)) {\n        console.error(\n          'pushOperation() was called but the value is not an integer.',\n          op,\n        );\n      }\n    }\n    pendingOperations.push(op);\n  }\n\n  function getStringID(str: string | null): number {\n    if (str === null) {\n      return 0;\n    }\n    const existingID = pendingStringTable.get(str);\n    if (existingID !== undefined) {\n      return existingID;\n    }\n    const stringID = pendingStringTable.size + 1;\n    pendingStringTable.set(str, stringID);\n    // The string table total length needs to account\n    // both for the string length, and for the array item\n    // that contains the length itself. Hence + 1.\n    pendingStringTableLength += str.length + 1;\n    return stringID;\n  }\n\n  let currentlyInspectedElementID: number | null = null;\n  let currentlyInspectedPaths: Object = {};\n\n  // Track the intersection of currently inspected paths,\n  // so that we can send their data along if the element is re-rendered.\n  function mergeInspectedPaths(path: Array<string | number>) {\n    let current = currentlyInspectedPaths;\n    path.forEach(key => {\n      if (!current[key]) {\n        current[key] = {};\n      }\n      current = current[key];\n    });\n  }\n\n  function createIsPathAllowed(key: string) {\n    // This function helps prevent previously-inspected paths from being dehydrated in updates.\n    // This is important to avoid a bad user experience where expanded toggles collapse on update.\n    return function isPathAllowed(path: Array<string | number>): boolean {\n      let current = currentlyInspectedPaths[key];\n      if (!current) {\n        return false;\n      }\n      for (let i = 0; i < path.length; i++) {\n        current = current[path[i]];\n        if (!current) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n\n  // Fast path props lookup for React Native style editor.\n  function getInstanceAndStyle(id: number): InstanceAndStyle {\n    let instance = null;\n    let style = null;\n\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      instance = internalInstance._instance || null;\n\n      const element = internalInstance._currentElement;\n      if (element != null && element.props != null) {\n        style = element.props.style || null;\n      }\n    }\n\n    return {\n      instance,\n      style,\n    };\n  }\n\n  function updateSelectedElement(id: number): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance == null) {\n      console.warn(`Could not find instance with id \"${id}\"`);\n      return;\n    }\n\n    switch (getElementType(internalInstance)) {\n      case ElementTypeClass:\n        global.$r = internalInstance._instance;\n        break;\n      case ElementTypeFunction:\n        const element = internalInstance._currentElement;\n        if (element == null) {\n          console.warn(`Could not find element with id \"${id}\"`);\n          return;\n        }\n\n        global.$r = {\n          props: element.props,\n          type: element.type,\n        };\n        break;\n      default:\n        global.$r = null;\n        break;\n    }\n  }\n\n  function storeAsGlobal(\n    id: number,\n    path: Array<string | number>,\n    count: number,\n  ): void {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      const value = getInObject(inspectedElement, path);\n      const key = `$reactTemp${count}`;\n\n      window[key] = value;\n\n      console.log(key);\n      console.log(value);\n    }\n  }\n\n  function copyElementPath(id: number, path: Array<string | number>): void {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      copyToClipboard(getInObject(inspectedElement, path));\n    }\n  }\n\n  function inspectElement(\n    requestID: number,\n    id: number,\n    path: Array<string | number> | null,\n  ): InspectedElementPayload {\n    if (currentlyInspectedElementID !== id) {\n      currentlyInspectedElementID = id;\n      currentlyInspectedPaths = {};\n    }\n\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement === null) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    }\n\n    if (path !== null) {\n      mergeInspectedPaths(path);\n    }\n\n    // Any time an inspected element has an update,\n    // we should update the selected $r value as wel.\n    // Do this before dehyration (cleanForBridge).\n    updateSelectedElement(id);\n\n    inspectedElement.context = cleanForBridge(\n      inspectedElement.context,\n      createIsPathAllowed('context'),\n    );\n    inspectedElement.props = cleanForBridge(\n      inspectedElement.props,\n      createIsPathAllowed('props'),\n    );\n    inspectedElement.state = cleanForBridge(\n      inspectedElement.state,\n      createIsPathAllowed('state'),\n    );\n\n    return {\n      id,\n      responseID: requestID,\n      type: 'full-data',\n      value: inspectedElement,\n    };\n  }\n\n  function inspectElementRaw(id: number): InspectedElement | null {\n    const internalInstance = idToInternalInstanceMap.get(id);\n\n    if (internalInstance == null) {\n      return null;\n    }\n\n    const {displayName, key} = getData(internalInstance);\n    const type = getElementType(internalInstance);\n\n    let context = null;\n    let owners = null;\n    let props = null;\n    let state = null;\n    let source = null;\n\n    const element = internalInstance._currentElement;\n    if (element !== null) {\n      props = element.props;\n      source = element._source != null ? element._source : null;\n\n      let owner = element._owner;\n      if (owner) {\n        owners = [];\n        while (owner != null) {\n          owners.push({\n            displayName: getData(owner).displayName || 'Unknown',\n            id: getID(owner),\n            key: element.key,\n            type: getElementType(owner),\n          });\n          if (owner._currentElement) {\n            owner = owner._currentElement._owner;\n          }\n        }\n      }\n    }\n\n    const publicInstance = internalInstance._instance;\n    if (publicInstance != null) {\n      context = publicInstance.context || null;\n      state = publicInstance.state || null;\n    }\n\n    // Not implemented\n    const errors = [];\n    const warnings = [];\n\n    return {\n      id,\n\n      // Does the current renderer support editable hooks and function props?\n      canEditHooks: false,\n      canEditFunctionProps: false,\n\n      // Does the current renderer support advanced editing interface?\n      canEditHooksAndDeletePaths: false,\n      canEditHooksAndRenamePaths: false,\n      canEditFunctionPropsDeletePaths: false,\n      canEditFunctionPropsRenamePaths: false,\n\n      // Toggle error boundary did not exist in legacy versions\n      canToggleError: false,\n      isErrored: false,\n      targetErrorBoundaryID: null,\n\n      // Suspense did not exist in legacy versions\n      canToggleSuspense: false,\n\n      // Can view component source location.\n      canViewSource: type === ElementTypeClass || type === ElementTypeFunction,\n\n      // Only legacy context exists in legacy versions.\n      hasLegacyContext: true,\n\n      displayName: displayName,\n\n      type: type,\n\n      key: key != null ? key : null,\n\n      // Inspectable properties.\n      context,\n      hooks: null,\n      props,\n      state,\n      errors,\n      warnings,\n\n      // List of owners\n      owners,\n\n      // Location of component in source code.\n      source,\n\n      rootType: null,\n      rendererPackageName: null,\n      rendererVersion: null,\n    };\n  }\n\n  function logElementToConsole(id: number): void {\n    const result = inspectElementRaw(id);\n    if (result === null) {\n      console.warn(`Could not find element with id \"${id}\"`);\n      return;\n    }\n\n    const supportsGroup = typeof console.groupCollapsed === 'function';\n    if (supportsGroup) {\n      console.groupCollapsed(\n        `[Click to expand] %c<${result.displayName || 'Component'} />`,\n        // --dom-tag-name-color is the CSS variable Chrome styles HTML elements with in the console.\n        'color: var(--dom-tag-name-color); font-weight: normal;',\n      );\n    }\n    if (result.props !== null) {\n      console.log('Props:', result.props);\n    }\n    if (result.state !== null) {\n      console.log('State:', result.state);\n    }\n    if (result.context !== null) {\n      console.log('Context:', result.context);\n    }\n    const nativeNode = findNativeNodeForInternalID(id);\n    if (nativeNode !== null) {\n      console.log('Node:', nativeNode);\n    }\n    if (window.chrome || /firefox/i.test(navigator.userAgent)) {\n      console.log(\n        'Right-click any value to save it as a global variable for further inspection.',\n      );\n    }\n    if (supportsGroup) {\n      console.groupEnd();\n    }\n  }\n\n  function prepareViewAttributeSource(\n    id: number,\n    path: Array<string | number>,\n  ): void {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      window.$attribute = getInObject(inspectedElement, path);\n    }\n  }\n\n  function prepareViewElementSource(id: number): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance == null) {\n      console.warn(`Could not find instance with id \"${id}\"`);\n      return;\n    }\n\n    const element = internalInstance._currentElement;\n    if (element == null) {\n      console.warn(`Could not find element with id \"${id}\"`);\n      return;\n    }\n\n    global.$type = element.type;\n  }\n\n  function deletePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            deletePathInObject(publicInstance.context, path);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithDelete(element.props, path),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            deletePathInObject(publicInstance.state, path);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  function renamePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    oldPath: Array<string | number>,\n    newPath: Array<string | number>,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            renamePathInObject(publicInstance.context, oldPath, newPath);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithRename(element.props, oldPath, newPath),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            renamePathInObject(publicInstance.state, oldPath, newPath);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  function overrideValueAtPath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n    value: any,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            setInObject(publicInstance.context, path, value);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithSet(element.props, path, value),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            setInObject(publicInstance.state, path, value);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  // v16+ only features\n  const getProfilingData = () => {\n    throw new Error('getProfilingData not supported by this renderer');\n  };\n  const handleCommitFiberRoot = () => {\n    throw new Error('handleCommitFiberRoot not supported by this renderer');\n  };\n  const handleCommitFiberUnmount = () => {\n    throw new Error('handleCommitFiberUnmount not supported by this renderer');\n  };\n  const handlePostCommitFiberRoot = () => {\n    throw new Error('handlePostCommitFiberRoot not supported by this renderer');\n  };\n  const overrideError = () => {\n    throw new Error('overrideError not supported by this renderer');\n  };\n  const overrideSuspense = () => {\n    throw new Error('overrideSuspense not supported by this renderer');\n  };\n  const startProfiling = () => {\n    // Do not throw, since this would break a multi-root scenario where v15 and v16 were both present.\n  };\n  const stopProfiling = () => {\n    // Do not throw, since this would break a multi-root scenario where v15 and v16 were both present.\n  };\n\n  function getBestMatchForTrackedPath(): PathMatch | null {\n    // Not implemented.\n    return null;\n  }\n\n  function getPathForElement(id: number): Array<PathFrame> | null {\n    // Not implemented.\n    return null;\n  }\n\n  function updateComponentFilters(componentFilters: Array<ComponentFilter>) {\n    // Not implemented.\n  }\n\n  function setTraceUpdatesEnabled(enabled: boolean) {\n    // Not implemented.\n  }\n\n  function setTrackedPath(path: Array<PathFrame> | null) {\n    // Not implemented.\n  }\n\n  function getOwnersList(id: number): Array<SerializedElement> | null {\n    // Not implemented.\n    return null;\n  }\n\n  function clearErrorsAndWarnings() {\n    // Not implemented\n  }\n\n  function clearErrorsForFiberID(id: number) {\n    // Not implemented\n  }\n\n  function clearWarningsForFiberID(id: number) {\n    // Not implemented\n  }\n\n  return {\n    clearErrorsAndWarnings,\n    clearErrorsForFiberID,\n    clearWarningsForFiberID,\n    cleanup,\n    copyElementPath,\n    deletePath,\n    flushInitialOperations,\n    getBestMatchForTrackedPath,\n    getDisplayNameForFiberID,\n    getFiberIDForNative: getInternalIDForNative,\n    getInstanceAndStyle,\n    findNativeNodesForFiberID: (id: number) => {\n      const nativeNode = findNativeNodeForInternalID(id);\n      return nativeNode == null ? null : [nativeNode];\n    },\n    getOwnersList,\n    getPathForElement,\n    getProfilingData,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    handlePostCommitFiberRoot,\n    inspectElement,\n    logElementToConsole,\n    overrideError,\n    overrideSuspense,\n    overrideValueAtPath,\n    renamePath,\n    prepareViewAttributeSource,\n    prepareViewElementSource,\n    renderer,\n    setTraceUpdatesEnabled,\n    setTrackedPath,\n    startProfiling,\n    stopProfiling,\n    storeAsGlobal,\n    updateComponentFilters,\n  };\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from './agent';\n\nimport {attach} from './renderer';\nimport {attach as attachLegacy} from './legacy/renderer';\n\nimport type {DevToolsHook, ReactRenderer, RendererInterface} from './types';\n\nexport function initBackend(\n  hook: DevToolsHook,\n  agent: Agent,\n  global: Object,\n): () => void {\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return () => {};\n  }\n  const subs = [\n    hook.sub(\n      'renderer-attached',\n      ({\n        id,\n        renderer,\n        rendererInterface,\n      }: {\n        id: number,\n        renderer: ReactRenderer,\n        rendererInterface: RendererInterface,\n        ...\n      }) => {\n        agent.setRendererInterface(id, rendererInterface);\n\n        // Now that the Store and the renderer interface are connected,\n        // it's time to flush the pending operation codes to the frontend.\n        rendererInterface.flushInitialOperations();\n      },\n    ),\n\n    hook.sub('unsupported-renderer-version', (id: number) => {\n      agent.onUnsupportedRenderer(id);\n    }),\n\n    hook.sub('fastRefreshScheduled', agent.onFastRefreshScheduled),\n    hook.sub('operations', agent.onHookOperations),\n    hook.sub('traceUpdates', agent.onTraceUpdates),\n\n    // TODO Add additional subscriptions required for profiling mode\n  ];\n\n  const attachRenderer = (id: number, renderer: ReactRenderer) => {\n    let rendererInterface = hook.rendererInterfaces.get(id);\n\n    // Inject any not-yet-injected renderers (if we didn't reload-and-profile)\n    if (rendererInterface == null) {\n      if (typeof renderer.findFiberByHostInstance === 'function') {\n        // react-reconciler v16+\n        rendererInterface = attach(hook, id, renderer, global);\n      } else if (renderer.ComponentTree) {\n        // react-dom v15\n        rendererInterface = attachLegacy(hook, id, renderer, global);\n      } else {\n        // Older react-dom or other unsupported renderer version\n      }\n\n      if (rendererInterface != null) {\n        hook.rendererInterfaces.set(id, rendererInterface);\n      }\n    }\n\n    // Notify the DevTools frontend about new renderers.\n    // This includes any that were attached early (via __REACT_DEVTOOLS_ATTACH__).\n    if (rendererInterface != null) {\n      hook.emit('renderer-attached', {\n        id,\n        renderer,\n        rendererInterface,\n      });\n    } else {\n      hook.emit('unsupported-renderer-version', id);\n    }\n  };\n\n  // Connect renderers that have already injected themselves.\n  hook.renderers.forEach((renderer, id) => {\n    attachRenderer(id, renderer);\n  });\n\n  // Connect any new renderers that injected themselves.\n  subs.push(\n    hook.sub(\n      'renderer',\n      ({id, renderer}: {id: number, renderer: ReactRenderer, ...}) => {\n        attachRenderer(id, renderer);\n      },\n    ),\n  );\n\n  hook.emit('react-devtools', agent);\n  hook.reactDevtoolsAgent = agent;\n  const onAgentShutdown = () => {\n    subs.forEach(fn => fn());\n    hook.rendererInterfaces.forEach(rendererInterface => {\n      rendererInterface.cleanup();\n    });\n    hook.reactDevtoolsAgent = null;\n  };\n  agent.addListener('shutdown', onAgentShutdown);\n  subs.push(() => {\n    agent.removeListener('shutdown', onAgentShutdown);\n  });\n\n  return () => {\n    subs.forEach(fn => fn());\n  };\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {BoxStyle} from './types';\n\n/**\n * This mirrors react-native/Libraries/Inspector/resolveBoxStyle.js (but without RTL support).\n *\n * Resolve a style property into it's component parts, e.g.\n *\n * resolveBoxStyle('margin', {margin: 5, marginBottom: 10})\n * -> {top: 5, left: 5, right: 5, bottom: 10}\n */\nexport default function resolveBoxStyle(\n  prefix: string,\n  style: Object,\n): BoxStyle | null {\n  let hasParts = false;\n  const result = {\n    bottom: 0,\n    left: 0,\n    right: 0,\n    top: 0,\n  };\n\n  const styleForAll = style[prefix];\n  if (styleForAll != null) {\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const key of Object.keys(result)) {\n      result[key] = styleForAll;\n    }\n    hasParts = true;\n  }\n\n  const styleForHorizontal = style[prefix + 'Horizontal'];\n  if (styleForHorizontal != null) {\n    result.left = styleForHorizontal;\n    result.right = styleForHorizontal;\n    hasParts = true;\n  } else {\n    const styleForLeft = style[prefix + 'Left'];\n    if (styleForLeft != null) {\n      result.left = styleForLeft;\n      hasParts = true;\n    }\n\n    const styleForRight = style[prefix + 'Right'];\n    if (styleForRight != null) {\n      result.right = styleForRight;\n      hasParts = true;\n    }\n\n    const styleForEnd = style[prefix + 'End'];\n    if (styleForEnd != null) {\n      // TODO RTL support\n      result.right = styleForEnd;\n      hasParts = true;\n    }\n    const styleForStart = style[prefix + 'Start'];\n    if (styleForStart != null) {\n      // TODO RTL support\n      result.left = styleForStart;\n      hasParts = true;\n    }\n  }\n\n  const styleForVertical = style[prefix + 'Vertical'];\n  if (styleForVertical != null) {\n    result.bottom = styleForVertical;\n    result.top = styleForVertical;\n    hasParts = true;\n  } else {\n    const styleForBottom = style[prefix + 'Bottom'];\n    if (styleForBottom != null) {\n      result.bottom = styleForBottom;\n      hasParts = true;\n    }\n\n    const styleForTop = style[prefix + 'Top'];\n    if (styleForTop != null) {\n      result.top = styleForTop;\n      hasParts = true;\n    }\n  }\n\n  return hasParts ? result : null;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport resolveBoxStyle from './resolveBoxStyle';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {RendererID} from '../types';\nimport type {StyleAndLayout} from './types';\n\nexport type ResolveNativeStyle = (stylesheetID: any) => ?Object;\n\nexport default function setupNativeStyleEditor(\n  bridge: BackendBridge,\n  agent: Agent,\n  resolveNativeStyle: ResolveNativeStyle,\n  validAttributes?: $ReadOnlyArray<string> | null,\n) {\n  bridge.addListener(\n    'NativeStyleEditor_measure',\n    ({id, rendererID}: {|id: number, rendererID: RendererID|}) => {\n      measureStyle(agent, bridge, resolveNativeStyle, id, rendererID);\n    },\n  );\n\n  bridge.addListener(\n    'NativeStyleEditor_renameAttribute',\n    ({\n      id,\n      rendererID,\n      oldName,\n      newName,\n      value,\n    }: {|\n      id: number,\n      rendererID: RendererID,\n      oldName: string,\n      newName: string,\n      value: string,\n    |}) => {\n      renameStyle(agent, id, rendererID, oldName, newName, value);\n      setTimeout(() =>\n        measureStyle(agent, bridge, resolveNativeStyle, id, rendererID),\n      );\n    },\n  );\n\n  bridge.addListener(\n    'NativeStyleEditor_setValue',\n    ({\n      id,\n      rendererID,\n      name,\n      value,\n    }: {|\n      id: number,\n      rendererID: number,\n      name: string,\n      value: string,\n    |}) => {\n      setStyle(agent, id, rendererID, name, value);\n      setTimeout(() =>\n        measureStyle(agent, bridge, resolveNativeStyle, id, rendererID),\n      );\n    },\n  );\n\n  bridge.send('isNativeStyleEditorSupported', {\n    isSupported: true,\n    validAttributes,\n  });\n}\n\nconst EMPTY_BOX_STYLE = {\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n};\n\nconst componentIDToStyleOverrides: Map<number, Object> = new Map();\n\nfunction measureStyle(\n  agent: Agent,\n  bridge: BackendBridge,\n  resolveNativeStyle: ResolveNativeStyle,\n  id: number,\n  rendererID: RendererID,\n) {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: null,\n        style: null,\n      }: StyleAndLayout),\n    );\n    return;\n  }\n\n  const {instance, style} = data;\n\n  let resolvedStyle = resolveNativeStyle(style);\n\n  // If it's a host component we edited before, amend styles.\n  const styleOverrides = componentIDToStyleOverrides.get(id);\n  if (styleOverrides != null) {\n    resolvedStyle = Object.assign({}, resolvedStyle, styleOverrides);\n  }\n\n  if (!instance || typeof instance.measure !== 'function') {\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: null,\n        style: resolvedStyle || null,\n      }: StyleAndLayout),\n    );\n    return;\n  }\n\n  // $FlowFixMe the parameter types of an unknown function are unknown\n  instance.measure((x, y, width, height, left, top) => {\n    // RN Android sometimes returns undefined here. Don't send measurements in this case.\n    // https://github.com/jhen0409/react-native-debugger/issues/84#issuecomment-304611817\n    if (typeof x !== 'number') {\n      bridge.send(\n        'NativeStyleEditor_styleAndLayout',\n        ({\n          id,\n          layout: null,\n          style: resolvedStyle || null,\n        }: StyleAndLayout),\n      );\n      return;\n    }\n    const margin =\n      (resolvedStyle != null && resolveBoxStyle('margin', resolvedStyle)) ||\n      EMPTY_BOX_STYLE;\n    const padding =\n      (resolvedStyle != null && resolveBoxStyle('padding', resolvedStyle)) ||\n      EMPTY_BOX_STYLE;\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: {\n          x,\n          y,\n          width,\n          height,\n          left,\n          top,\n          margin,\n          padding,\n        },\n        style: resolvedStyle || null,\n      }: StyleAndLayout),\n    );\n  });\n}\n\nfunction shallowClone(object: Object): Object {\n  const cloned = {};\n  for (const n in object) {\n    cloned[n] = object[n];\n  }\n  return cloned;\n}\n\nfunction renameStyle(\n  agent: Agent,\n  id: number,\n  rendererID: RendererID,\n  oldName: string,\n  newName: string,\n  value: string,\n): void {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    return;\n  }\n\n  const {instance, style} = data;\n\n  const newStyle = newName\n    ? {[oldName]: undefined, [newName]: value}\n    : {[oldName]: undefined};\n\n  let customStyle;\n\n  // TODO It would be nice if the renderer interface abstracted this away somehow.\n  if (instance !== null && typeof instance.setNativeProps === 'function') {\n    // In the case of a host component, we need to use setNativeProps().\n    // Remember to \"correct\" resolved styles when we read them next time.\n    const styleOverrides = componentIDToStyleOverrides.get(id);\n    if (!styleOverrides) {\n      componentIDToStyleOverrides.set(id, newStyle);\n    } else {\n      Object.assign(styleOverrides, newStyle);\n    }\n    // TODO Fabric does not support setNativeProps; chat with Sebastian or Eli\n    instance.setNativeProps({style: newStyle});\n  } else if (Array.isArray(style)) {\n    const lastIndex = style.length - 1;\n    if (\n      typeof style[lastIndex] === 'object' &&\n      !Array.isArray(style[lastIndex])\n    ) {\n      customStyle = shallowClone(style[lastIndex]);\n      delete customStyle[oldName];\n      if (newName) {\n        customStyle[newName] = value;\n      } else {\n        customStyle[oldName] = undefined;\n      }\n\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style', lastIndex],\n        value: customStyle,\n      });\n    } else {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style'],\n        value: style.concat([newStyle]),\n      });\n    }\n  } else if (typeof style === 'object') {\n    customStyle = shallowClone(style);\n    delete customStyle[oldName];\n    if (newName) {\n      customStyle[newName] = value;\n    } else {\n      customStyle[oldName] = undefined;\n    }\n\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: customStyle,\n    });\n  } else {\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: [style, newStyle],\n    });\n  }\n\n  agent.emit('hideNativeHighlight');\n}\n\nfunction setStyle(\n  agent: Agent,\n  id: number,\n  rendererID: RendererID,\n  name: string,\n  value: string,\n) {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    return;\n  }\n\n  const {instance, style} = data;\n  const newStyle = {[name]: value};\n\n  // TODO It would be nice if the renderer interface abstracted this away somehow.\n  if (instance !== null && typeof instance.setNativeProps === 'function') {\n    // In the case of a host component, we need to use setNativeProps().\n    // Remember to \"correct\" resolved styles when we read them next time.\n    const styleOverrides = componentIDToStyleOverrides.get(id);\n    if (!styleOverrides) {\n      componentIDToStyleOverrides.set(id, newStyle);\n    } else {\n      Object.assign(styleOverrides, newStyle);\n    }\n    // TODO Fabric does not support setNativeProps; chat with Sebastian or Eli\n    instance.setNativeProps({style: newStyle});\n  } else if (Array.isArray(style)) {\n    const lastLength = style.length - 1;\n    if (\n      typeof style[lastLength] === 'object' &&\n      !Array.isArray(style[lastLength])\n    ) {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style', lastLength, name],\n        value,\n      });\n    } else {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style'],\n        value: style.concat([newStyle]),\n      });\n    }\n  } else {\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: [style, newStyle],\n    });\n  }\n\n  agent.emit('hideNativeHighlight');\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport Bridge from 'react-devtools-shared/src/bridge';\nimport {installHook} from 'react-devtools-shared/src/hook';\nimport {initBackend} from 'react-devtools-shared/src/backend';\nimport {__DEBUG__} from 'react-devtools-shared/src/constants';\nimport setupNativeStyleEditor from 'react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor';\nimport {getDefaultComponentFilters} from 'react-devtools-shared/src/utils';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {ComponentFilter} from 'react-devtools-shared/src/types';\nimport type {DevToolsHook} from 'react-devtools-shared/src/backend/types';\nimport type {ResolveNativeStyle} from 'react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor';\n\ntype ConnectOptions = {\n  host?: string,\n  nativeStyleEditorValidAttributes?: $ReadOnlyArray<string>,\n  port?: number,\n  useHttps?: boolean,\n  resolveRNStyle?: ResolveNativeStyle,\n  retryConnectionDelay?: number,\n  isAppActive?: () => boolean,\n  websocket?: ?WebSocket,\n  ...\n};\n\ninstallHook(window);\n\nconst hook: ?DevToolsHook = window.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n\nlet savedComponentFilters: Array<ComponentFilter> = getDefaultComponentFilters();\n\nfunction debug(methodName: string, ...args) {\n  if (__DEBUG__) {\n    console.log(\n      `%c[core/backend] %c${methodName}`,\n      'color: teal; font-weight: bold;',\n      'font-weight: bold;',\n      ...args,\n    );\n  }\n}\n\nexport function connectToDevTools(options: ?ConnectOptions) {\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return;\n  }\n  const {\n    host = 'localhost',\n    nativeStyleEditorValidAttributes,\n    useHttps = false,\n    port = 8097,\n    websocket,\n    resolveRNStyle = null,\n    retryConnectionDelay = 2000,\n    isAppActive = () => true,\n  } = options || {};\n\n  const protocol = useHttps ? 'wss' : 'ws';\n  let retryTimeoutID: TimeoutID | null = null;\n\n  function scheduleRetry() {\n    if (retryTimeoutID === null) {\n      // Two seconds because RN had issues with quick retries.\n      retryTimeoutID = setTimeout(\n        () => connectToDevTools(options),\n        retryConnectionDelay,\n      );\n    }\n  }\n\n  if (!isAppActive()) {\n    // If the app is in background, maybe retry later.\n    // Don't actually attempt to connect until we're in foreground.\n    scheduleRetry();\n    return;\n  }\n\n  let bridge: BackendBridge | null = null;\n\n  const messageListeners = [];\n  const uri = protocol + '://' + host + ':' + port;\n\n  // If existing websocket is passed, use it.\n  // This is necessary to support our custom integrations.\n  // See D6251744.\n  const ws = websocket ? websocket : new window.WebSocket(uri);\n  ws.onclose = handleClose;\n  ws.onerror = handleFailed;\n  ws.onmessage = handleMessage;\n  ws.onopen = function() {\n    bridge = new Bridge({\n      listen(fn) {\n        messageListeners.push(fn);\n        return () => {\n          const index = messageListeners.indexOf(fn);\n          if (index >= 0) {\n            messageListeners.splice(index, 1);\n          }\n        };\n      },\n      send(event: string, payload: any, transferable?: Array<any>) {\n        if (ws.readyState === ws.OPEN) {\n          if (__DEBUG__) {\n            debug('wall.send()', event, payload);\n          }\n\n          ws.send(JSON.stringify({event, payload}));\n        } else {\n          if (__DEBUG__) {\n            debug(\n              'wall.send()',\n              'Shutting down bridge because of closed WebSocket connection',\n            );\n          }\n\n          if (bridge !== null) {\n            bridge.shutdown();\n          }\n\n          scheduleRetry();\n        }\n      },\n    });\n    bridge.addListener(\n      'inspectElement',\n      ({id, rendererID}: {id: number, rendererID: number, ...}) => {\n        const renderer = agent.rendererInterfaces[rendererID];\n        if (renderer != null) {\n          // Send event for RN to highlight.\n          const nodes: ?Array<HTMLElement> = renderer.findNativeNodesForFiberID(\n            id,\n          );\n          if (nodes != null && nodes[0] != null) {\n            agent.emit('showNativeHighlight', nodes[0]);\n          }\n        }\n      },\n    );\n    bridge.addListener(\n      'updateComponentFilters',\n      (componentFilters: Array<ComponentFilter>) => {\n        // Save filter changes in memory, in case DevTools is reloaded.\n        // In that case, the renderer will already be using the updated values.\n        // We'll lose these in between backend reloads but that can't be helped.\n        savedComponentFilters = componentFilters;\n      },\n    );\n\n    // The renderer interface doesn't read saved component filters directly,\n    // because they are generally stored in localStorage within the context of the extension.\n    // Because of this it relies on the extension to pass filters.\n    // In the case of the standalone DevTools being used with a website,\n    // saved filters are injected along with the backend script tag so we shouldn't override them here.\n    // This injection strategy doesn't work for React Native though.\n    // Ideally the backend would save the filters itself, but RN doesn't provide a sync storage solution.\n    // So for now we just fall back to using the default filters...\n    if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ == null) {\n      bridge.send('overrideComponentFilters', savedComponentFilters);\n    }\n\n    // TODO (npm-packages) Warn if \"isBackendStorageAPISupported\"\n    const agent = new Agent(bridge);\n    agent.addListener('shutdown', () => {\n      // If we received 'shutdown' from `agent`, we assume the `bridge` is already shutting down,\n      // and that caused the 'shutdown' event on the `agent`, so we don't need to call `bridge.shutdown()` here.\n      hook.emit('shutdown');\n    });\n\n    initBackend(hook, agent, window);\n\n    // Setup React Native style editor if the environment supports it.\n    if (resolveRNStyle != null || hook.resolveRNStyle != null) {\n      setupNativeStyleEditor(\n        bridge,\n        agent,\n        ((resolveRNStyle || hook.resolveRNStyle: any): ResolveNativeStyle),\n        nativeStyleEditorValidAttributes ||\n          hook.nativeStyleEditorValidAttributes ||\n          null,\n      );\n    } else {\n      // Otherwise listen to detect if the environment later supports it.\n      // For example, Flipper does not eagerly inject these values.\n      // Instead it relies on the React Native Inspector to lazily inject them.\n      let lazyResolveRNStyle;\n      let lazyNativeStyleEditorValidAttributes;\n\n      const initAfterTick = () => {\n        if (bridge !== null) {\n          setupNativeStyleEditor(\n            bridge,\n            agent,\n            lazyResolveRNStyle,\n            lazyNativeStyleEditorValidAttributes,\n          );\n        }\n      };\n\n      if (!hook.hasOwnProperty('resolveRNStyle')) {\n        Object.defineProperty(\n          hook,\n          'resolveRNStyle',\n          ({\n            enumerable: false,\n            get() {\n              return lazyResolveRNStyle;\n            },\n            set(value) {\n              lazyResolveRNStyle = value;\n              initAfterTick();\n            },\n          }: Object),\n        );\n      }\n      if (!hook.hasOwnProperty('nativeStyleEditorValidAttributes')) {\n        Object.defineProperty(\n          hook,\n          'nativeStyleEditorValidAttributes',\n          ({\n            enumerable: false,\n            get() {\n              return lazyNativeStyleEditorValidAttributes;\n            },\n            set(value) {\n              lazyNativeStyleEditorValidAttributes = value;\n              initAfterTick();\n            },\n          }: Object),\n        );\n      }\n    }\n  };\n\n  function handleClose() {\n    if (__DEBUG__) {\n      debug('WebSocket.onclose');\n    }\n\n    if (bridge !== null) {\n      bridge.emit('shutdown');\n    }\n\n    scheduleRetry();\n  }\n\n  function handleFailed() {\n    if (__DEBUG__) {\n      debug('WebSocket.onerror');\n    }\n\n    scheduleRetry();\n  }\n\n  function handleMessage(event) {\n    let data;\n    try {\n      if (typeof event.data === 'string') {\n        data = JSON.parse(event.data);\n        if (__DEBUG__) {\n          debug('WebSocket.onmessage', data);\n        }\n      } else {\n        throw Error();\n      }\n    } catch (e) {\n      console.error(\n        '[React DevTools] Failed to parse JSON: ' + (event.data: any),\n      );\n      return;\n    }\n    messageListeners.forEach(fn => {\n      try {\n        fn(data);\n      } catch (error) {\n        // jsc doesn't play so well with tracebacks that go into eval'd code,\n        // so the stack trace here will stop at the `eval()` call. Getting the\n        // message that caused the error is the best we can do for now.\n        console.log('[React DevTools] Error calling listener', data);\n        console.log('error:', error);\n        throw error;\n      }\n    });\n  }\n}\n"],"sourceRoot":""}